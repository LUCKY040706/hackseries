(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var Va=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function r4(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var ex={exports:{}},Nf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BA;function UD(){if(BA)return Nf;BA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:l,ref:s!==void 0?s:null,props:o}}return Nf.Fragment=e,Nf.jsx=t,Nf.jsxs=t,Nf}var UA;function LD(){return UA||(UA=1,ex.exports=UD()),ex.exports}var d=LD(),tx={exports:{}},Df={},nx={exports:{}},rx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LA;function zD(){return LA||(LA=1,(function(n){function e(W,le){var Q=W.length;W.push(le);e:for(;0<Q;){var T=Q-1>>>1,se=W[T];if(0<s(se,le))W[T]=le,W[Q]=se,Q=T;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var le=W[0],Q=W.pop();if(Q!==le){W[0]=Q;e:for(var T=0,se=W.length,ie=se>>>1;T<ie;){var ue=2*(T+1)-1,_e=W[ue],me=ue+1,O=W[me];if(0>s(_e,Q))me<se&&0>s(O,_e)?(W[T]=O,W[me]=Q,T=me):(W[T]=_e,W[ue]=Q,T=ue);else if(me<se&&0>s(O,Q))W[T]=O,W[me]=Q,T=me;else break e}}return le}function s(W,le){var Q=W.sortIndex-le.sortIndex;return Q!==0?Q:W.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,h=l.now();n.unstable_now=function(){return l.now()-h}}var p=[],f=[],v=1,S=null,C=3,R=!1,B=!1,re=!1,N=!1,U=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function he(W){for(var le=t(f);le!==null;){if(le.callback===null)r(f);else if(le.startTime<=W)r(f),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(f)}}function pe(W){if(re=!1,he(W),!B)if(t(p)!==null)B=!0,K||(K=!0,x());else{var le=t(f);le!==null&&ee(pe,le.startTime-W)}}var K=!1,P=-1,M=5,H=-1;function A(){return N?!0:!(n.unstable_now()-H<M)}function y(){if(N=!1,K){var W=n.unstable_now();H=W;var le=!0;try{e:{B=!1,re&&(re=!1,q(P),P=-1),R=!0;var Q=C;try{t:{for(he(W),S=t(p);S!==null&&!(S.expirationTime>W&&A());){var T=S.callback;if(typeof T=="function"){S.callback=null,C=S.priorityLevel;var se=T(S.expirationTime<=W);if(W=n.unstable_now(),typeof se=="function"){S.callback=se,he(W),le=!0;break t}S===t(p)&&r(p),he(W)}else r(p);S=t(p)}if(S!==null)le=!0;else{var ie=t(f);ie!==null&&ee(pe,ie.startTime-W),le=!1}}break e}finally{S=null,C=Q,R=!1}le=void 0}}finally{le?x():K=!1}}}var x;if(typeof G=="function")x=function(){G(y)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,$=E.port2;E.port1.onmessage=y,x=function(){$.postMessage(null)}}else x=function(){U(y,0)};function ee(W,le){P=U(function(){W(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_next=function(W){switch(C){case 1:case 2:case 3:var le=3;break;default:le=C}var Q=C;C=le;try{return W()}finally{C=Q}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Q=C;C=W;try{return le()}finally{C=Q}},n.unstable_scheduleCallback=function(W,le,Q){var T=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?T+Q:T):Q=T,W){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=Q+se,W={id:v++,callback:le,priorityLevel:W,startTime:Q,expirationTime:se,sortIndex:-1},Q>T?(W.sortIndex=Q,e(f,W),t(p)===null&&W===t(f)&&(re?(q(P),P=-1):re=!0,ee(pe,Q-T))):(W.sortIndex=se,e(p,W),B||R||(B=!0,K||(K=!0,x()))),W},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(W){var le=C;return function(){var Q=C;C=le;try{return W.apply(this,arguments)}finally{C=Q}}}})(rx)),rx}var zA;function qD(){return zA||(zA=1,nx.exports=zD()),nx.exports}var ix={exports:{}},gn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qA;function $D(){if(qA)return gn;qA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),C=Symbol.iterator;function R(ie){return ie===null||typeof ie!="object"?null:(ie=C&&ie[C]||ie["@@iterator"],typeof ie=="function"?ie:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,N={};function U(ie,ue,_e){this.props=ie,this.context=ue,this.refs=N,this.updater=_e||B}U.prototype.isReactComponent={},U.prototype.setState=function(ie,ue){if(typeof ie!="object"&&typeof ie!="function"&&ie!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ie,ue,"setState")},U.prototype.forceUpdate=function(ie){this.updater.enqueueForceUpdate(this,ie,"forceUpdate")};function q(){}q.prototype=U.prototype;function G(ie,ue,_e){this.props=ie,this.context=ue,this.refs=N,this.updater=_e||B}var he=G.prototype=new q;he.constructor=G,re(he,U.prototype),he.isPureReactComponent=!0;var pe=Array.isArray;function K(){}var P={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function H(ie,ue,_e){var me=_e.ref;return{$$typeof:n,type:ie,key:ue,ref:me!==void 0?me:null,props:_e}}function A(ie,ue){return H(ie.type,ue,ie.props)}function y(ie){return typeof ie=="object"&&ie!==null&&ie.$$typeof===n}function x(ie){var ue={"=":"=0",":":"=2"};return"$"+ie.replace(/[=:]/g,function(_e){return ue[_e]})}var E=/\/+/g;function $(ie,ue){return typeof ie=="object"&&ie!==null&&ie.key!=null?x(""+ie.key):ue.toString(36)}function ee(ie){switch(ie.status){case"fulfilled":return ie.value;case"rejected":throw ie.reason;default:switch(typeof ie.status=="string"?ie.then(K,K):(ie.status="pending",ie.then(function(ue){ie.status==="pending"&&(ie.status="fulfilled",ie.value=ue)},function(ue){ie.status==="pending"&&(ie.status="rejected",ie.reason=ue)})),ie.status){case"fulfilled":return ie.value;case"rejected":throw ie.reason}}throw ie}function W(ie,ue,_e,me,O){var Ae=typeof ie;(Ae==="undefined"||Ae==="boolean")&&(ie=null);var Pe=!1;if(ie===null)Pe=!0;else switch(Ae){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(ie.$$typeof){case n:case e:Pe=!0;break;case v:return Pe=ie._init,W(Pe(ie._payload),ue,_e,me,O)}}if(Pe)return O=O(ie),Pe=me===""?"."+$(ie,0):me,pe(O)?(_e="",Pe!=null&&(_e=Pe.replace(E,"$&/")+"/"),W(O,ue,_e,"",function(L){return L})):O!=null&&(y(O)&&(O=A(O,_e+(O.key==null||ie&&ie.key===O.key?"":(""+O.key).replace(E,"$&/")+"/")+Pe)),ue.push(O)),1;Pe=0;var ge=me===""?".":me+":";if(pe(ie))for(var be=0;be<ie.length;be++)me=ie[be],Ae=ge+$(me,be),Pe+=W(me,ue,_e,Ae,O);else if(be=R(ie),typeof be=="function")for(ie=be.call(ie),be=0;!(me=ie.next()).done;)me=me.value,Ae=ge+$(me,be++),Pe+=W(me,ue,_e,Ae,O);else if(Ae==="object"){if(typeof ie.then=="function")return W(ee(ie),ue,_e,me,O);throw ue=String(ie),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(ie).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function le(ie,ue,_e){if(ie==null)return ie;var me=[],O=0;return W(ie,me,"","",function(Ae){return ue.call(_e,Ae,O++)}),me}function Q(ie){if(ie._status===-1){var ue=ie._result;ue=ue(),ue.then(function(_e){(ie._status===0||ie._status===-1)&&(ie._status=1,ie._result=_e)},function(_e){(ie._status===0||ie._status===-1)&&(ie._status=2,ie._result=_e)}),ie._status===-1&&(ie._status=0,ie._result=ue)}if(ie._status===1)return ie._result.default;throw ie._result}var T=typeof reportError=="function"?reportError:function(ie){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ie=="object"&&ie!==null&&typeof ie.message=="string"?String(ie.message):String(ie),error:ie});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ie);return}console.error(ie)},se={map:le,forEach:function(ie,ue,_e){le(ie,function(){ue.apply(this,arguments)},_e)},count:function(ie){var ue=0;return le(ie,function(){ue++}),ue},toArray:function(ie){return le(ie,function(ue){return ue})||[]},only:function(ie){if(!y(ie))throw Error("React.Children.only expected to receive a single React element child.");return ie}};return gn.Activity=S,gn.Children=se,gn.Component=U,gn.Fragment=t,gn.Profiler=s,gn.PureComponent=G,gn.StrictMode=r,gn.Suspense=p,gn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,gn.__COMPILER_RUNTIME={__proto__:null,c:function(ie){return P.H.useMemoCache(ie)}},gn.cache=function(ie){return function(){return ie.apply(null,arguments)}},gn.cacheSignal=function(){return null},gn.cloneElement=function(ie,ue,_e){if(ie==null)throw Error("The argument must be a React element, but you passed "+ie+".");var me=re({},ie.props),O=ie.key;if(ue!=null)for(Ae in ue.key!==void 0&&(O=""+ue.key),ue)!M.call(ue,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ue.ref===void 0||(me[Ae]=ue[Ae]);var Ae=arguments.length-2;if(Ae===1)me.children=_e;else if(1<Ae){for(var Pe=Array(Ae),ge=0;ge<Ae;ge++)Pe[ge]=arguments[ge+2];me.children=Pe}return H(ie.type,O,me)},gn.createContext=function(ie){return ie={$$typeof:l,_currentValue:ie,_currentValue2:ie,_threadCount:0,Provider:null,Consumer:null},ie.Provider=ie,ie.Consumer={$$typeof:o,_context:ie},ie},gn.createElement=function(ie,ue,_e){var me,O={},Ae=null;if(ue!=null)for(me in ue.key!==void 0&&(Ae=""+ue.key),ue)M.call(ue,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(O[me]=ue[me]);var Pe=arguments.length-2;if(Pe===1)O.children=_e;else if(1<Pe){for(var ge=Array(Pe),be=0;be<Pe;be++)ge[be]=arguments[be+2];O.children=ge}if(ie&&ie.defaultProps)for(me in Pe=ie.defaultProps,Pe)O[me]===void 0&&(O[me]=Pe[me]);return H(ie,Ae,O)},gn.createRef=function(){return{current:null}},gn.forwardRef=function(ie){return{$$typeof:h,render:ie}},gn.isValidElement=y,gn.lazy=function(ie){return{$$typeof:v,_payload:{_status:-1,_result:ie},_init:Q}},gn.memo=function(ie,ue){return{$$typeof:f,type:ie,compare:ue===void 0?null:ue}},gn.startTransition=function(ie){var ue=P.T,_e={};P.T=_e;try{var me=ie(),O=P.S;O!==null&&O(_e,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(K,T)}catch(Ae){T(Ae)}finally{ue!==null&&_e.types!==null&&(ue.types=_e.types),P.T=ue}},gn.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},gn.use=function(ie){return P.H.use(ie)},gn.useActionState=function(ie,ue,_e){return P.H.useActionState(ie,ue,_e)},gn.useCallback=function(ie,ue){return P.H.useCallback(ie,ue)},gn.useContext=function(ie){return P.H.useContext(ie)},gn.useDebugValue=function(){},gn.useDeferredValue=function(ie,ue){return P.H.useDeferredValue(ie,ue)},gn.useEffect=function(ie,ue){return P.H.useEffect(ie,ue)},gn.useEffectEvent=function(ie){return P.H.useEffectEvent(ie)},gn.useId=function(){return P.H.useId()},gn.useImperativeHandle=function(ie,ue,_e){return P.H.useImperativeHandle(ie,ue,_e)},gn.useInsertionEffect=function(ie,ue){return P.H.useInsertionEffect(ie,ue)},gn.useLayoutEffect=function(ie,ue){return P.H.useLayoutEffect(ie,ue)},gn.useMemo=function(ie,ue){return P.H.useMemo(ie,ue)},gn.useOptimistic=function(ie,ue){return P.H.useOptimistic(ie,ue)},gn.useReducer=function(ie,ue,_e){return P.H.useReducer(ie,ue,_e)},gn.useRef=function(ie){return P.H.useRef(ie)},gn.useState=function(ie){return P.H.useState(ie)},gn.useSyncExternalStore=function(ie,ue,_e){return P.H.useSyncExternalStore(ie,ue,_e)},gn.useTransition=function(){return P.H.useTransition()},gn.version="19.2.0",gn}var $A;function NS(){return $A||($A=1,ix.exports=$D()),ix.exports}var sx={exports:{}},ui={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HA;function HD(){if(HA)return ui;HA=1;var n=NS();function e(p){var f="https://react.dev/errors/"+p;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(p,f,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:S==null?null:""+S,children:p,containerInfo:f,implementation:v}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,f){if(p==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ui.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ui.createPortal=function(p,f){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(p,f,null,v)},ui.flushSync=function(p){var f=l.T,v=r.p;try{if(l.T=null,r.p=2,p)return p()}finally{l.T=f,r.p=v,r.d.f()}},ui.preconnect=function(p,f){typeof p=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(p,f))},ui.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},ui.preinit=function(p,f){if(typeof p=="string"&&f&&typeof f.as=="string"){var v=f.as,S=h(v,f.crossOrigin),C=typeof f.integrity=="string"?f.integrity:void 0,R=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;v==="style"?r.d.S(p,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:R}):v==="script"&&r.d.X(p,{crossOrigin:S,integrity:C,fetchPriority:R,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ui.preinitModule=function(p,f){if(typeof p=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var v=h(f.as,f.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(p)},ui.preload=function(p,f){if(typeof p=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var v=f.as,S=h(v,f.crossOrigin);r.d.L(p,v,{crossOrigin:S,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ui.preloadModule=function(p,f){if(typeof p=="string")if(f){var v=h(f.as,f.crossOrigin);r.d.m(p,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(p)},ui.requestFormReset=function(p){r.d.r(p)},ui.unstable_batchedUpdates=function(p,f){return p(f)},ui.useFormState=function(p,f,v){return l.H.useFormState(p,f,v)},ui.useFormStatus=function(){return l.H.useHostTransitionStatus()},ui.version="19.2.0",ui}var GA;function GD(){if(GA)return sx.exports;GA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sx.exports=HD(),sx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA;function KD(){if(KA)return Df;KA=1;var n=qD(),e=NS(),t=GD();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function l(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function p(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var c=i,u=a;;){var g=c.return;if(g===null)break;var w=g.alternate;if(w===null){if(u=g.return,u!==null){c=u;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===c)return p(g),i;if(w===u)return p(g),a;w=w.sibling}throw Error(r(188))}if(c.return!==u.return)c=g,u=w;else{for(var D=!1,ne=g.child;ne;){if(ne===c){D=!0,c=g,u=w;break}if(ne===u){D=!0,u=g,c=w;break}ne=ne.sibling}if(!D){for(ne=w.child;ne;){if(ne===c){D=!0,c=w,u=g;break}if(ne===u){D=!0,u=w,c=g;break}ne=ne.sibling}if(!D)throw Error(r(189))}}if(c.alternate!==u)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:a}function v(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=v(i),a!==null)return a;i=i.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),G=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),y=Symbol.iterator;function x(i){return i===null||typeof i!="object"?null:(i=y&&i[y]||i["@@iterator"],typeof i=="function"?i:null)}var E=Symbol.for("react.client.reference");function $(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===E?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case re:return"Fragment";case U:return"Profiler";case N:return"StrictMode";case pe:return"Suspense";case K:return"SuspenseList";case H:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case B:return"Portal";case G:return i.displayName||"Context";case q:return(i._context.displayName||"Context")+".Consumer";case he:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return a=i.displayName||null,a!==null?a:$(i.type)||"Memo";case M:a=i._payload,i=i._init;try{return $(i(a))}catch{}}return null}var ee=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},T=[],se=-1;function ie(i){return{current:i}}function ue(i){0>se||(i.current=T[se],T[se]=null,se--)}function _e(i,a){se++,T[se]=i.current,i.current=a}var me=ie(null),O=ie(null),Ae=ie(null),Pe=ie(null);function ge(i,a){switch(_e(Ae,a),_e(O,i),_e(me,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?cA(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=cA(a),i=lA(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ue(me),_e(me,i)}function be(){ue(me),ue(O),ue(Ae)}function L(i){i.memoizedState!==null&&_e(Pe,i);var a=me.current,c=lA(a,i.type);a!==c&&(_e(O,i),_e(me,c))}function J(i){O.current===i&&(ue(me),ue(O)),Pe.current===i&&(ue(Pe),kf._currentValue=Q)}var ce,Ne;function de(i){if(ce===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);ce=a&&a[1]||"",Ne=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ce+i+Ne}var xe=!1;function Ve(i,a){if(!i||xe)return"";xe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(Ye){var qe=Ye}Reflect.construct(i,[],it)}else{try{it.call()}catch(Ye){qe=Ye}i.call(it.prototype)}}else{try{throw Error()}catch(Ye){qe=Ye}(it=i())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(Ye){if(Ye&&qe&&typeof Ye.stack=="string")return[Ye.stack,qe.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=u.DetermineComponentFrameRoot(),D=w[0],ne=w[1];if(D&&ne){var ye=D.split(`
`),Le=ne.split(`
`);for(g=u=0;u<ye.length&&!ye[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Le.length&&!Le[g].includes("DetermineComponentFrameRoot");)g++;if(u===ye.length||g===Le.length)for(u=ye.length-1,g=Le.length-1;1<=u&&0<=g&&ye[u]!==Le[g];)g--;for(;1<=u&&0<=g;u--,g--)if(ye[u]!==Le[g]){if(u!==1||g!==1)do if(u--,g--,0>g||ye[u]!==Le[g]){var et=`
`+ye[u].replace(" at new "," at ");return i.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",i.displayName)),et}while(1<=u&&0<=g);break}}}finally{xe=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?de(c):""}function we(i,a){switch(i.tag){case 26:case 27:case 5:return de(i.type);case 16:return de("Lazy");case 13:return i.child!==a&&a!==null?de("Suspense Fallback"):de("Suspense");case 19:return de("SuspenseList");case 0:case 15:return Ve(i.type,!1);case 11:return Ve(i.type.render,!1);case 1:return Ve(i.type,!0);case 31:return de("Activity");default:return""}}function ke(i){try{var a="",c=null;do a+=we(i,c),c=i,i=i.return;while(i);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Me=Object.prototype.hasOwnProperty,Se=n.unstable_scheduleCallback,Be=n.unstable_cancelCallback,Xe=n.unstable_shouldYield,We=n.unstable_requestPaint,lt=n.unstable_now,_t=n.unstable_getCurrentPriorityLevel,Nt=n.unstable_ImmediatePriority,z=n.unstable_UserBlockingPriority,_=n.unstable_NormalPriority,I=n.unstable_LowPriority,ae=n.unstable_IdlePriority,ve=n.log,Re=n.unstable_setDisableYieldValue,Fe=null,gt=null;function pt(i){if(typeof ve=="function"&&Re(i),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(Fe,i)}catch{}}var ot=Math.clz32?Math.clz32:Qt,At=Math.log,Et=Math.LN2;function Qt(i){return i>>>=0,i===0?32:31-(At(i)/Et|0)|0}var An=256,Xt=262144,Vt=4194304;function Rn(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function un(i,a,c){var u=i.pendingLanes;if(u===0)return 0;var g=0,w=i.suspendedLanes,D=i.pingedLanes;i=i.warmLanes;var ne=u&134217727;return ne!==0?(u=ne&~w,u!==0?g=Rn(u):(D&=ne,D!==0?g=Rn(D):c||(c=ne&~i,c!==0&&(g=Rn(c))))):(ne=u&~w,ne!==0?g=Rn(ne):D!==0?g=Rn(D):c||(c=u&~i,c!==0&&(g=Rn(c)))),g===0?0:a!==0&&a!==g&&(a&w)===0&&(w=g&-g,c=a&-a,w>=c||w===32&&(c&4194048)!==0)?a:g}function hn(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Hr(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jn(){var i=Vt;return Vt<<=1,(Vt&62914560)===0&&(Vt=4194304),i}function En(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function Gr(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function qn(i,a,c,u,g,w){var D=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var ne=i.entanglements,ye=i.expirationTimes,Le=i.hiddenUpdates;for(c=D&~c;0<c;){var et=31-ot(c),it=1<<et;ne[et]=0,ye[et]=-1;var qe=Le[et];if(qe!==null)for(Le[et]=null,et=0;et<qe.length;et++){var Ye=qe[et];Ye!==null&&(Ye.lane&=-536870913)}c&=~it}u!==0&&an(i,u,0),w!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=w&~(D&~a))}function an(i,a,c){i.pendingLanes|=a,i.suspendedLanes&=~a;var u=31-ot(a);i.entangledLanes|=a,i.entanglements[u]=i.entanglements[u]|1073741824|c&261930}function li(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var u=31-ot(c),g=1<<u;g&a|i[u]&a&&(i[u]|=a),c&=~g}}function F(i,a){var c=a&-a;return c=(c&42)!==0?1:Y(c),(c&(i.suspendedLanes|a))!==0?0:c}function Y(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function X(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function b(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:DA(i.type))}function te(i,a){var c=le.p;try{return le.p=i,a()}finally{le.p=c}}var De=Math.random().toString(36).slice(2),Te="__reactFiber$"+De,ze="__reactProps$"+De,ct="__reactContainer$"+De,kt="__reactEvents$"+De,wt="__reactListeners$"+De,on="__reactHandles$"+De,bt="__reactResources$"+De,Ot="__reactMarker$"+De;function Lt(i){delete i[Te],delete i[ze],delete i[kt],delete i[wt],delete i[on]}function zt(i){var a=i[Te];if(a)return a;for(var c=i.parentNode;c;){if(a=c[ct]||c[Te]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=gA(i);i!==null;){if(c=i[Te])return c;i=gA(i)}return a}i=c,c=i.parentNode}return null}function Ht(i){if(i=i[Te]||i[ct]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function Bt(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Gt(i){var a=i[bt];return a||(a=i[bt]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Dt(i){i[Ot]=!0}var It=new Set,Pt={};function vt(i,a){Tt(i,a),Tt(i+"Capture",a)}function Tt(i,a){for(Pt[i]=a,i=0;i<a.length;i++)It.add(a[i])}var Rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xt={},$e={};function Ge(i){return Me.call($e,i)?!0:Me.call(xt,i)?!1:Rt.test(i)?$e[i]=!0:(xt[i]=!0,!1)}function ut(i,a,c){if(Ge(a))if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+c)}}function Ze(i,a,c){if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+c)}}function Qe(i,a,c,u){if(u===null)i.removeAttribute(c);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(a,c,""+u)}}function st(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function qt(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function nn(i,a,c){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,w=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return g.call(this)},set:function(D){c=""+D,w.call(this,D)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return c},setValue:function(D){c=""+D},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Mt(i){if(!i._valueTracker){var a=qt(i)?"checked":"value";i._valueTracker=nn(i,a,""+i[a])}}function en(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),u="";return i&&(u=qt(i)?i.checked?"true":"false":i.value),i=u,i!==c?(a.setValue(i),!0):!1}function fe(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var cn=/[\n"\\]/g;function rn(i){return i.replace(cn,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function bn(i,a,c,u,g,w,D,ne){i.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.type=D:i.removeAttribute("type"),a!=null?D==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+st(a)):i.value!==""+st(a)&&(i.value=""+st(a)):D!=="submit"&&D!=="reset"||i.removeAttribute("value"),a!=null?_n(i,D,st(a)):c!=null?_n(i,D,st(c)):u!=null&&i.removeAttribute("value"),g==null&&w!=null&&(i.defaultChecked=!!w),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?i.name=""+st(ne):i.removeAttribute("name")}function dn(i,a,c,u,g,w,D,ne){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),a!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||a!=null)){Mt(i);return}c=c!=null?""+st(c):"",a=a!=null?""+st(a):c,ne||a===i.value||(i.value=a),i.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=ne?i.checked:!!u,i.defaultChecked=!!u,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(i.name=D),Mt(i)}function _n(i,a,c){a==="number"&&fe(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function wn(i,a,c,u){if(i=i.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<i.length;c++)g=a.hasOwnProperty("$"+i[c].value),i[c].selected!==g&&(i[c].selected=g),g&&u&&(i[c].defaultSelected=!0)}else{for(c=""+st(c),a=null,g=0;g<i.length;g++){if(i[g].value===c){i[g].selected=!0,u&&(i[g].defaultSelected=!0);return}a!==null||i[g].disabled||(a=i[g])}a!==null&&(a.selected=!0)}}function cr(i,a,c){if(a!=null&&(a=""+st(a),a!==i.value&&(i.value=a),c==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=c!=null?""+st(c):""}function Tn(i,a,c,u){if(a==null){if(u!=null){if(c!=null)throw Error(r(92));if(ee(u)){if(1<u.length)throw Error(r(93));u=u[0]}c=u}c==null&&(c=""),a=c}c=st(a),i.defaultValue=c,u=i.textContent,u===c&&u!==""&&u!==null&&(i.value=u),Mt(i)}function kn(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var ir=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qn(i,a,c){var u=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?u?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":u?i.setProperty(a,c):typeof c!="number"||c===0||ir.has(a)?a==="float"?i.cssFloat=c:i[a]=(""+c).trim():i[a]=c+"px"}function ur(i,a,c){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,c!=null){for(var u in c)!c.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&c[g]!==u&&Qn(i,g,u)}else for(var w in a)a.hasOwnProperty(w)&&Qn(i,w,a[w])}function yr(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ar=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fu(i){return hr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ds(){}var zd=null;function Gi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ho=null,Rs=null;function Dc(i){var a=Ht(i);if(a&&(i=a.stateNode)){var c=i[ze]||null;e:switch(i=a.stateNode,a.type){case"input":if(bn(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+rn(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var u=c[a];if(u!==i&&u.form===i.form){var g=u[ze]||null;if(!g)throw Error(r(90));bn(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<c.length;a++)u=c[a],u.form===i.form&&en(u)}break e;case"textarea":cr(i,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&wn(i,!!c.multiple,a,!1)}}}var mu=!1;function fo(i,a,c){if(mu)return i(a,c);mu=!0;try{var u=i(a);return u}finally{if(mu=!1,(ho!==null||Rs!==null)&&(gg(),ho&&(a=ho,i=Rs,Rs=ho=null,Dc(a),i)))for(a=0;a<i.length;a++)Dc(i[a])}}function fs(i,a){var c=i.stateNode;if(c===null)return null;var u=c[ze]||null;if(u===null)return null;c=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,a,typeof c));return c}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mc=!1;if(Ki)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){Mc=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{Mc=!1}var Ns=null,qd=null,Fc=null;function $d(){if(Fc)return Fc;var i,a=qd,c=a.length,u,g="value"in Ns?Ns.value:Ns.textContent,w=g.length;for(i=0;i<c&&a[i]===g[i];i++);var D=c-i;for(u=1;u<=D&&a[c-u]===g[w-u];u++);return Fc=g.slice(i,1<u?1-u:void 0)}function Oc(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function wa(){return!0}function ms(){return!1}function Xr(i){function a(c,u,g,w,D){this._reactName=c,this._targetInst=g,this.type=u,this.nativeEvent=w,this.target=D,this.currentTarget=null;for(var ne in i)i.hasOwnProperty(ne)&&(c=i[ne],this[ne]=c?c(w):w[ne]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?wa:ms,this.isPropagationStopped=ms,this}return S(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=wa)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=wa)},persist:function(){},isPersistent:wa}),a}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ds=Xr(va),mo=S({},va,{view:0,detail:0}),Hd=Xr(mo),po,pu,Ms,gu=S({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:go,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ms&&(Ms&&i.type==="mousemove"?(po=i.screenX-Ms.screenX,pu=i.screenY-Ms.screenY):pu=po=0,Ms=i),po)},movementY:function(i){return"movementY"in i?i.movementY:pu}}),Gd=Xr(gu),Pc=S({},gu,{dataTransfer:0}),_p=Xr(Pc),Ap=S({},mo,{relatedTarget:0}),jc=Xr(Ap),Kd=S({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),Tp=Xr(Kd),yu=S({},va,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),kp=Xr(yu),Ip=S({},va,{data:0}),Fs=Xr(Ip),Cp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Np={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dp(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Np[i])?!!a[i]:!1}function go(){return Dp}var vi=S({},mo,{key:function(i){if(i.key){var a=Cp[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Oc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Rp[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:go,charCode:function(i){return i.type==="keypress"?Oc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Oc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Mp=Xr(vi),Fp=S({},gu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xa=Xr(Fp),m=S({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:go}),k=Xr(m),j=S({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),oe=Xr(j),je=S({},gu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ke=Xr(je),St=S({},va,{newState:0,oldState:0}),vn=Xr(St),Tr=[9,13,27,32],$n=Ki&&"CompositionEvent"in window,pr=null;Ki&&"documentMode"in document&&(pr=document.documentMode);var Wi=Ki&&"TextEvent"in window&&!pr,Os=Ki&&(!$n||pr&&8<pr&&11>=pr),ps=" ",gs=!1;function Vc(i,a){switch(i){case"keyup":return Tr.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wu(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var vu=!1;function uN(i,a){switch(i){case"compositionend":return wu(a);case"keypress":return a.which!==32?null:(gs=!0,ps);case"textInput":return i=a.data,i===ps&&gs?null:i;default:return null}}function hN(i,a){if(vu)return i==="compositionend"||!$n&&Vc(i,a)?(i=$d(),Fc=qd=Ns=null,vu=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Os&&a.locale!=="ko"?null:a.data;default:return null}}var dN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vb(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!dN[i.type]:a==="textarea"}function xb(i,a,c,u){ho?Rs?Rs.push(u):Rs=[u]:ho=u,a=bg(a,"onChange"),0<a.length&&(c=new Ds("onChange","change",null,c,u),i.push({event:c,listeners:a}))}var Wd=null,Yd=null;function fN(i){nA(i,0)}function Op(i){var a=Bt(i);if(en(a))return i}function Sb(i,a){if(i==="change")return a}var Eb=!1;if(Ki){var ow;if(Ki){var cw="oninput"in document;if(!cw){var bb=document.createElement("div");bb.setAttribute("oninput","return;"),cw=typeof bb.oninput=="function"}ow=cw}else ow=!1;Eb=ow&&(!document.documentMode||9<document.documentMode)}function _b(){Wd&&(Wd.detachEvent("onpropertychange",Ab),Yd=Wd=null)}function Ab(i){if(i.propertyName==="value"&&Op(Yd)){var a=[];xb(a,Yd,i,Gi(i)),fo(fN,a)}}function mN(i,a,c){i==="focusin"?(_b(),Wd=a,Yd=c,Wd.attachEvent("onpropertychange",Ab)):i==="focusout"&&_b()}function pN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Op(Yd)}function gN(i,a){if(i==="click")return Op(a)}function yN(i,a){if(i==="input"||i==="change")return Op(a)}function wN(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Oi=typeof Object.is=="function"?Object.is:wN;function Jd(i,a){if(Oi(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),u=Object.keys(a);if(c.length!==u.length)return!1;for(u=0;u<c.length;u++){var g=c[u];if(!Me.call(a,g)||!Oi(i[g],a[g]))return!1}return!0}function Tb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function kb(i,a){var c=Tb(i);i=0;for(var u;c;){if(c.nodeType===3){if(u=i+c.textContent.length,i<=a&&u>=a)return{node:c,offset:a-i};i=u}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Tb(c)}}function Ib(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Ib(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Cb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=fe(i.document);a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=fe(i.document)}return a}function lw(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var vN=Ki&&"documentMode"in document&&11>=document.documentMode,xu=null,uw=null,Qd=null,hw=!1;function Rb(i,a,c){var u=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;hw||xu==null||xu!==fe(u)||(u=xu,"selectionStart"in u&&lw(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Qd&&Jd(Qd,u)||(Qd=u,u=bg(uw,"onSelect"),0<u.length&&(a=new Ds("onSelect","select",null,a,c),i.push({event:a,listeners:u}),a.target=xu)))}function Bc(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var Su={animationend:Bc("Animation","AnimationEnd"),animationiteration:Bc("Animation","AnimationIteration"),animationstart:Bc("Animation","AnimationStart"),transitionrun:Bc("Transition","TransitionRun"),transitionstart:Bc("Transition","TransitionStart"),transitioncancel:Bc("Transition","TransitionCancel"),transitionend:Bc("Transition","TransitionEnd")},dw={},Nb={};Ki&&(Nb=document.createElement("div").style,"AnimationEvent"in window||(delete Su.animationend.animation,delete Su.animationiteration.animation,delete Su.animationstart.animation),"TransitionEvent"in window||delete Su.transitionend.transition);function Uc(i){if(dw[i])return dw[i];if(!Su[i])return i;var a=Su[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in Nb)return dw[i]=a[c];return i}var Db=Uc("animationend"),Mb=Uc("animationiteration"),Fb=Uc("animationstart"),xN=Uc("transitionrun"),SN=Uc("transitionstart"),EN=Uc("transitioncancel"),Ob=Uc("transitionend"),Pb=new Map,fw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fw.push("scrollEnd");function ys(i,a){Pb.set(i,a),vt(a,[i])}var Pp=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Yi=[],Eu=0,mw=0;function jp(){for(var i=Eu,a=mw=Eu=0;a<i;){var c=Yi[a];Yi[a++]=null;var u=Yi[a];Yi[a++]=null;var g=Yi[a];Yi[a++]=null;var w=Yi[a];if(Yi[a++]=null,u!==null&&g!==null){var D=u.pending;D===null?g.next=g:(g.next=D.next,D.next=g),u.pending=g}w!==0&&jb(c,g,w)}}function Vp(i,a,c,u){Yi[Eu++]=i,Yi[Eu++]=a,Yi[Eu++]=c,Yi[Eu++]=u,mw|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function pw(i,a,c,u){return Vp(i,a,c,u),Bp(i)}function Lc(i,a){return Vp(i,null,null,a),Bp(i)}function jb(i,a,c){i.lanes|=c;var u=i.alternate;u!==null&&(u.lanes|=c);for(var g=!1,w=i.return;w!==null;)w.childLanes|=c,u=w.alternate,u!==null&&(u.childLanes|=c),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(g=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,g&&a!==null&&(g=31-ot(c),i=w.hiddenUpdates,u=i[g],u===null?i[g]=[a]:u.push(a),a.lane=c|536870912),w):null}function Bp(i){if(50<xf)throw xf=0,_v=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var bu={};function bN(i,a,c,u){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(i,a,c,u){return new bN(i,a,c,u)}function gw(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Sa(i,a){var c=i.alternate;return c===null?(c=Pi(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function Vb(i,a){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,a=c.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Up(i,a,c,u,g,w){var D=0;if(u=i,typeof i=="function")gw(i)&&(D=1);else if(typeof i=="string")D=ID(i,c,me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case H:return i=Pi(31,c,a,g),i.elementType=H,i.lanes=w,i;case re:return zc(c.children,g,w,a);case N:D=8,g|=24;break;case U:return i=Pi(12,c,a,g|2),i.elementType=U,i.lanes=w,i;case pe:return i=Pi(13,c,a,g),i.elementType=pe,i.lanes=w,i;case K:return i=Pi(19,c,a,g),i.elementType=K,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case G:D=10;break e;case q:D=9;break e;case he:D=11;break e;case P:D=14;break e;case M:D=16,u=null;break e}D=29,c=Error(r(130,i===null?"null":typeof i,"")),u=null}return a=Pi(D,c,a,g),a.elementType=i,a.type=u,a.lanes=w,a}function zc(i,a,c,u){return i=Pi(7,i,u,a),i.lanes=c,i}function yw(i,a,c){return i=Pi(6,i,null,a),i.lanes=c,i}function Bb(i){var a=Pi(18,null,null,0);return a.stateNode=i,a}function ww(i,a,c){return a=Pi(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Ub=new WeakMap;function Ji(i,a){if(typeof i=="object"&&i!==null){var c=Ub.get(i);return c!==void 0?c:(a={value:i,source:a,stack:ke(a)},Ub.set(i,a),a)}return{value:i,source:a,stack:ke(a)}}var _u=[],Au=0,Lp=null,Xd=0,Qi=[],Xi=0,yo=null,Ps=1,js="";function Ea(i,a){_u[Au++]=Xd,_u[Au++]=Lp,Lp=i,Xd=a}function Lb(i,a,c){Qi[Xi++]=Ps,Qi[Xi++]=js,Qi[Xi++]=yo,yo=i;var u=Ps;i=js;var g=32-ot(u)-1;u&=~(1<<g),c+=1;var w=32-ot(a)+g;if(30<w){var D=g-g%5;w=(u&(1<<D)-1).toString(32),u>>=D,g-=D,Ps=1<<32-ot(a)+g|c<<g|u,js=w+i}else Ps=1<<w|c<<g|u,js=i}function vw(i){i.return!==null&&(Ea(i,1),Lb(i,1,0))}function xw(i){for(;i===Lp;)Lp=_u[--Au],_u[Au]=null,Xd=_u[--Au],_u[Au]=null;for(;i===yo;)yo=Qi[--Xi],Qi[Xi]=null,js=Qi[--Xi],Qi[Xi]=null,Ps=Qi[--Xi],Qi[Xi]=null}function zb(i,a){Qi[Xi++]=Ps,Qi[Xi++]=js,Qi[Xi++]=yo,Ps=a.id,js=a.overflow,yo=i}var Zr=null,dr=null,Pn=!1,wo=null,Zi=!1,Sw=Error(r(519));function vo(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zd(Ji(a,i)),Sw}function qb(i){var a=i.stateNode,c=i.type,u=i.memoizedProps;switch(a[Te]=i,a[ze]=u,c){case"dialog":Cn("cancel",a),Cn("close",a);break;case"iframe":case"object":case"embed":Cn("load",a);break;case"video":case"audio":for(c=0;c<Ef.length;c++)Cn(Ef[c],a);break;case"source":Cn("error",a);break;case"img":case"image":case"link":Cn("error",a),Cn("load",a);break;case"details":Cn("toggle",a);break;case"input":Cn("invalid",a),dn(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Cn("invalid",a);break;case"textarea":Cn("invalid",a),Tn(a,u.value,u.defaultValue,u.children)}c=u.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||u.suppressHydrationWarning===!0||aA(a.textContent,c)?(u.popover!=null&&(Cn("beforetoggle",a),Cn("toggle",a)),u.onScroll!=null&&Cn("scroll",a),u.onScrollEnd!=null&&Cn("scrollend",a),u.onClick!=null&&(a.onclick=ds),a=!0):a=!1,a||vo(i,!0)}function $b(i){for(Zr=i.return;Zr;)switch(Zr.tag){case 5:case 31:case 13:Zi=!1;return;case 27:case 3:Zi=!0;return;default:Zr=Zr.return}}function Tu(i){if(i!==Zr)return!1;if(!Pn)return $b(i),Pn=!0,!1;var a=i.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||Bv(i.type,i.memoizedProps)),c=!c),c&&dr&&vo(i),$b(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));dr=pA(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));dr=pA(i)}else a===27?(a=dr,Mo(i.type)?(i=$v,$v=null,dr=i):dr=a):dr=Zr?ts(i.stateNode.nextSibling):null;return!0}function qc(){dr=Zr=null,Pn=!1}function Ew(){var i=wo;return i!==null&&(Ii===null?Ii=i:Ii.push.apply(Ii,i),wo=null),i}function Zd(i){wo===null?wo=[i]:wo.push(i)}var bw=ie(null),$c=null,ba=null;function xo(i,a,c){_e(bw,a._currentValue),a._currentValue=c}function _a(i){i._currentValue=bw.current,ue(bw)}function _w(i,a,c){for(;i!==null;){var u=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),i===c)break;i=i.return}}function Aw(i,a,c,u){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var w=g.dependencies;if(w!==null){var D=g.child;w=w.firstContext;e:for(;w!==null;){var ne=w;w=g;for(var ye=0;ye<a.length;ye++)if(ne.context===a[ye]){w.lanes|=c,ne=w.alternate,ne!==null&&(ne.lanes|=c),_w(w.return,c,i),u||(D=null);break e}w=ne.next}}else if(g.tag===18){if(D=g.return,D===null)throw Error(r(341));D.lanes|=c,w=D.alternate,w!==null&&(w.lanes|=c),_w(D,c,i),D=null}else D=g.child;if(D!==null)D.return=g;else for(D=g;D!==null;){if(D===i){D=null;break}if(g=D.sibling,g!==null){g.return=D.return,D=g;break}D=D.return}g=D}}function ku(i,a,c,u){i=null;for(var g=a,w=!1;g!==null;){if(!w){if((g.flags&524288)!==0)w=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var D=g.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var ne=g.type;Oi(g.pendingProps.value,D.value)||(i!==null?i.push(ne):i=[ne])}}else if(g===Pe.current){if(D=g.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(kf):i=[kf])}g=g.return}i!==null&&Aw(a,i,c,u),a.flags|=262144}function zp(i){for(i=i.firstContext;i!==null;){if(!Oi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Hc(i){$c=i,ba=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ei(i){return Hb($c,i)}function qp(i,a){return $c===null&&Hc(i),Hb(i,a)}function Hb(i,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},ba===null){if(i===null)throw Error(r(308));ba=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else ba=ba.next=a;return c}var _N=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(c,u){i.push(u)}};this.abort=function(){a.aborted=!0,i.forEach(function(c){return c()})}},AN=n.unstable_scheduleCallback,TN=n.unstable_NormalPriority,Fr={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tw(){return{controller:new _N,data:new Map,refCount:0}}function ef(i){i.refCount--,i.refCount===0&&AN(TN,function(){i.controller.abort()})}var tf=null,kw=0,Iu=0,Cu=null;function kN(i,a){if(tf===null){var c=tf=[];kw=0,Iu=Rv(),Cu={status:"pending",value:void 0,then:function(u){c.push(u)}}}return kw++,a.then(Gb,Gb),a}function Gb(){if(--kw===0&&tf!==null){Cu!==null&&(Cu.status="fulfilled");var i=tf;tf=null,Iu=0,Cu=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function IN(i,a){var c=[],u={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return i.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<c.length;g++)(0,c[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),u}var Kb=W.S;W.S=function(i,a){R_=lt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&kN(i,a),Kb!==null&&Kb(i,a)};var Gc=ie(null);function Iw(){var i=Gc.current;return i!==null?i:sr.pooledCache}function $p(i,a){a===null?_e(Gc,Gc.current):_e(Gc,a.pool)}function Wb(){var i=Iw();return i===null?null:{parent:Fr._currentValue,pool:i}}var Ru=Error(r(460)),Cw=Error(r(474)),Hp=Error(r(542)),Gp={then:function(){}};function Yb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Jb(i,a,c){switch(c=i[c],c===void 0?i.push(a):c!==a&&(a.then(ds,ds),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Xb(i),i;default:if(typeof a.status=="string")a.then(ds,ds);else{if(i=sr,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Xb(i),i}throw Wc=a,Ru}}function Kc(i){try{var a=i._init;return a(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Wc=c,Ru):c}}var Wc=null;function Qb(){if(Wc===null)throw Error(r(459));var i=Wc;return Wc=null,i}function Xb(i){if(i===Ru||i===Hp)throw Error(r(483))}var Nu=null,nf=0;function Kp(i){var a=nf;return nf+=1,Nu===null&&(Nu=[]),Jb(Nu,i,a)}function rf(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Wp(i,a){throw a.$$typeof===C?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Zb(i){function a(Oe,Ce){if(i){var Ue=Oe.deletions;Ue===null?(Oe.deletions=[Ce],Oe.flags|=16):Ue.push(Ce)}}function c(Oe,Ce){if(!i)return null;for(;Ce!==null;)a(Oe,Ce),Ce=Ce.sibling;return null}function u(Oe){for(var Ce=new Map;Oe!==null;)Oe.key!==null?Ce.set(Oe.key,Oe):Ce.set(Oe.index,Oe),Oe=Oe.sibling;return Ce}function g(Oe,Ce){return Oe=Sa(Oe,Ce),Oe.index=0,Oe.sibling=null,Oe}function w(Oe,Ce,Ue){return Oe.index=Ue,i?(Ue=Oe.alternate,Ue!==null?(Ue=Ue.index,Ue<Ce?(Oe.flags|=67108866,Ce):Ue):(Oe.flags|=67108866,Ce)):(Oe.flags|=1048576,Ce)}function D(Oe){return i&&Oe.alternate===null&&(Oe.flags|=67108866),Oe}function ne(Oe,Ce,Ue,tt){return Ce===null||Ce.tag!==6?(Ce=yw(Ue,Oe.mode,tt),Ce.return=Oe,Ce):(Ce=g(Ce,Ue),Ce.return=Oe,Ce)}function ye(Oe,Ce,Ue,tt){var Yt=Ue.type;return Yt===re?et(Oe,Ce,Ue.props.children,tt,Ue.key):Ce!==null&&(Ce.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===M&&Kc(Yt)===Ce.type)?(Ce=g(Ce,Ue.props),rf(Ce,Ue),Ce.return=Oe,Ce):(Ce=Up(Ue.type,Ue.key,Ue.props,null,Oe.mode,tt),rf(Ce,Ue),Ce.return=Oe,Ce)}function Le(Oe,Ce,Ue,tt){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==Ue.containerInfo||Ce.stateNode.implementation!==Ue.implementation?(Ce=ww(Ue,Oe.mode,tt),Ce.return=Oe,Ce):(Ce=g(Ce,Ue.children||[]),Ce.return=Oe,Ce)}function et(Oe,Ce,Ue,tt,Yt){return Ce===null||Ce.tag!==7?(Ce=zc(Ue,Oe.mode,tt,Yt),Ce.return=Oe,Ce):(Ce=g(Ce,Ue),Ce.return=Oe,Ce)}function it(Oe,Ce,Ue){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Ce=yw(""+Ce,Oe.mode,Ue),Ce.return=Oe,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case R:return Ue=Up(Ce.type,Ce.key,Ce.props,null,Oe.mode,Ue),rf(Ue,Ce),Ue.return=Oe,Ue;case B:return Ce=ww(Ce,Oe.mode,Ue),Ce.return=Oe,Ce;case M:return Ce=Kc(Ce),it(Oe,Ce,Ue)}if(ee(Ce)||x(Ce))return Ce=zc(Ce,Oe.mode,Ue,null),Ce.return=Oe,Ce;if(typeof Ce.then=="function")return it(Oe,Kp(Ce),Ue);if(Ce.$$typeof===G)return it(Oe,qp(Oe,Ce),Ue);Wp(Oe,Ce)}return null}function qe(Oe,Ce,Ue,tt){var Yt=Ce!==null?Ce.key:null;if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Yt!==null?null:ne(Oe,Ce,""+Ue,tt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case R:return Ue.key===Yt?ye(Oe,Ce,Ue,tt):null;case B:return Ue.key===Yt?Le(Oe,Ce,Ue,tt):null;case M:return Ue=Kc(Ue),qe(Oe,Ce,Ue,tt)}if(ee(Ue)||x(Ue))return Yt!==null?null:et(Oe,Ce,Ue,tt,null);if(typeof Ue.then=="function")return qe(Oe,Ce,Kp(Ue),tt);if(Ue.$$typeof===G)return qe(Oe,Ce,qp(Oe,Ue),tt);Wp(Oe,Ue)}return null}function Ye(Oe,Ce,Ue,tt,Yt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Oe=Oe.get(Ue)||null,ne(Ce,Oe,""+tt,Yt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case R:return Oe=Oe.get(tt.key===null?Ue:tt.key)||null,ye(Ce,Oe,tt,Yt);case B:return Oe=Oe.get(tt.key===null?Ue:tt.key)||null,Le(Ce,Oe,tt,Yt);case M:return tt=Kc(tt),Ye(Oe,Ce,Ue,tt,Yt)}if(ee(tt)||x(tt))return Oe=Oe.get(Ue)||null,et(Ce,Oe,tt,Yt,null);if(typeof tt.then=="function")return Ye(Oe,Ce,Ue,Kp(tt),Yt);if(tt.$$typeof===G)return Ye(Oe,Ce,Ue,qp(Ce,tt),Yt);Wp(Ce,tt)}return null}function jt(Oe,Ce,Ue,tt){for(var Yt=null,Un=null,$t=Ce,Sn=Ce=0,Dn=null;$t!==null&&Sn<Ue.length;Sn++){$t.index>Sn?(Dn=$t,$t=null):Dn=$t.sibling;var Ln=qe(Oe,$t,Ue[Sn],tt);if(Ln===null){$t===null&&($t=Dn);break}i&&$t&&Ln.alternate===null&&a(Oe,$t),Ce=w(Ln,Ce,Sn),Un===null?Yt=Ln:Un.sibling=Ln,Un=Ln,$t=Dn}if(Sn===Ue.length)return c(Oe,$t),Pn&&Ea(Oe,Sn),Yt;if($t===null){for(;Sn<Ue.length;Sn++)$t=it(Oe,Ue[Sn],tt),$t!==null&&(Ce=w($t,Ce,Sn),Un===null?Yt=$t:Un.sibling=$t,Un=$t);return Pn&&Ea(Oe,Sn),Yt}for($t=u($t);Sn<Ue.length;Sn++)Dn=Ye($t,Oe,Sn,Ue[Sn],tt),Dn!==null&&(i&&Dn.alternate!==null&&$t.delete(Dn.key===null?Sn:Dn.key),Ce=w(Dn,Ce,Sn),Un===null?Yt=Dn:Un.sibling=Dn,Un=Dn);return i&&$t.forEach(function(Vo){return a(Oe,Vo)}),Pn&&Ea(Oe,Sn),Yt}function Zt(Oe,Ce,Ue,tt){if(Ue==null)throw Error(r(151));for(var Yt=null,Un=null,$t=Ce,Sn=Ce=0,Dn=null,Ln=Ue.next();$t!==null&&!Ln.done;Sn++,Ln=Ue.next()){$t.index>Sn?(Dn=$t,$t=null):Dn=$t.sibling;var Vo=qe(Oe,$t,Ln.value,tt);if(Vo===null){$t===null&&($t=Dn);break}i&&$t&&Vo.alternate===null&&a(Oe,$t),Ce=w(Vo,Ce,Sn),Un===null?Yt=Vo:Un.sibling=Vo,Un=Vo,$t=Dn}if(Ln.done)return c(Oe,$t),Pn&&Ea(Oe,Sn),Yt;if($t===null){for(;!Ln.done;Sn++,Ln=Ue.next())Ln=it(Oe,Ln.value,tt),Ln!==null&&(Ce=w(Ln,Ce,Sn),Un===null?Yt=Ln:Un.sibling=Ln,Un=Ln);return Pn&&Ea(Oe,Sn),Yt}for($t=u($t);!Ln.done;Sn++,Ln=Ue.next())Ln=Ye($t,Oe,Sn,Ln.value,tt),Ln!==null&&(i&&Ln.alternate!==null&&$t.delete(Ln.key===null?Sn:Ln.key),Ce=w(Ln,Ce,Sn),Un===null?Yt=Ln:Un.sibling=Ln,Un=Ln);return i&&$t.forEach(function(BD){return a(Oe,BD)}),Pn&&Ea(Oe,Sn),Yt}function tr(Oe,Ce,Ue,tt){if(typeof Ue=="object"&&Ue!==null&&Ue.type===re&&Ue.key===null&&(Ue=Ue.props.children),typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case R:e:{for(var Yt=Ue.key;Ce!==null;){if(Ce.key===Yt){if(Yt=Ue.type,Yt===re){if(Ce.tag===7){c(Oe,Ce.sibling),tt=g(Ce,Ue.props.children),tt.return=Oe,Oe=tt;break e}}else if(Ce.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===M&&Kc(Yt)===Ce.type){c(Oe,Ce.sibling),tt=g(Ce,Ue.props),rf(tt,Ue),tt.return=Oe,Oe=tt;break e}c(Oe,Ce);break}else a(Oe,Ce);Ce=Ce.sibling}Ue.type===re?(tt=zc(Ue.props.children,Oe.mode,tt,Ue.key),tt.return=Oe,Oe=tt):(tt=Up(Ue.type,Ue.key,Ue.props,null,Oe.mode,tt),rf(tt,Ue),tt.return=Oe,Oe=tt)}return D(Oe);case B:e:{for(Yt=Ue.key;Ce!==null;){if(Ce.key===Yt)if(Ce.tag===4&&Ce.stateNode.containerInfo===Ue.containerInfo&&Ce.stateNode.implementation===Ue.implementation){c(Oe,Ce.sibling),tt=g(Ce,Ue.children||[]),tt.return=Oe,Oe=tt;break e}else{c(Oe,Ce);break}else a(Oe,Ce);Ce=Ce.sibling}tt=ww(Ue,Oe.mode,tt),tt.return=Oe,Oe=tt}return D(Oe);case M:return Ue=Kc(Ue),tr(Oe,Ce,Ue,tt)}if(ee(Ue))return jt(Oe,Ce,Ue,tt);if(x(Ue)){if(Yt=x(Ue),typeof Yt!="function")throw Error(r(150));return Ue=Yt.call(Ue),Zt(Oe,Ce,Ue,tt)}if(typeof Ue.then=="function")return tr(Oe,Ce,Kp(Ue),tt);if(Ue.$$typeof===G)return tr(Oe,Ce,qp(Oe,Ue),tt);Wp(Oe,Ue)}return typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint"?(Ue=""+Ue,Ce!==null&&Ce.tag===6?(c(Oe,Ce.sibling),tt=g(Ce,Ue),tt.return=Oe,Oe=tt):(c(Oe,Ce),tt=yw(Ue,Oe.mode,tt),tt.return=Oe,Oe=tt),D(Oe)):c(Oe,Ce)}return function(Oe,Ce,Ue,tt){try{nf=0;var Yt=tr(Oe,Ce,Ue,tt);return Nu=null,Yt}catch($t){if($t===Ru||$t===Hp)throw $t;var Un=Pi(29,$t,null,Oe.mode);return Un.lanes=tt,Un.return=Oe,Un}finally{}}}var Yc=Zb(!0),e2=Zb(!1),So=!1;function Rw(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nw(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Eo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function bo(i,a,c){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Hn&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=Bp(i),jb(i,null,c),a}return Vp(i,u,a,c),Bp(i)}function sf(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var u=a.lanes;u&=i.pendingLanes,c|=u,a.lanes=c,li(i,c)}}function Dw(i,a){var c=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,c===u)){var g=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var D={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?g=w=D:w=w.next=D,c=c.next}while(c!==null);w===null?g=w=a:w=w.next=a}else g=w=a;c={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:u.shared,callbacks:u.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}var Mw=!1;function af(){if(Mw){var i=Cu;if(i!==null)throw i}}function of(i,a,c,u){Mw=!1;var g=i.updateQueue;So=!1;var w=g.firstBaseUpdate,D=g.lastBaseUpdate,ne=g.shared.pending;if(ne!==null){g.shared.pending=null;var ye=ne,Le=ye.next;ye.next=null,D===null?w=Le:D.next=Le,D=ye;var et=i.alternate;et!==null&&(et=et.updateQueue,ne=et.lastBaseUpdate,ne!==D&&(ne===null?et.firstBaseUpdate=Le:ne.next=Le,et.lastBaseUpdate=ye))}if(w!==null){var it=g.baseState;D=0,et=Le=ye=null,ne=w;do{var qe=ne.lane&-536870913,Ye=qe!==ne.lane;if(Ye?(Nn&qe)===qe:(u&qe)===qe){qe!==0&&qe===Iu&&(Mw=!0),et!==null&&(et=et.next={lane:0,tag:ne.tag,payload:ne.payload,callback:null,next:null});e:{var jt=i,Zt=ne;qe=a;var tr=c;switch(Zt.tag){case 1:if(jt=Zt.payload,typeof jt=="function"){it=jt.call(tr,it,qe);break e}it=jt;break e;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=Zt.payload,qe=typeof jt=="function"?jt.call(tr,it,qe):jt,qe==null)break e;it=S({},it,qe);break e;case 2:So=!0}}qe=ne.callback,qe!==null&&(i.flags|=64,Ye&&(i.flags|=8192),Ye=g.callbacks,Ye===null?g.callbacks=[qe]:Ye.push(qe))}else Ye={lane:qe,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},et===null?(Le=et=Ye,ye=it):et=et.next=Ye,D|=qe;if(ne=ne.next,ne===null){if(ne=g.shared.pending,ne===null)break;Ye=ne,ne=Ye.next,Ye.next=null,g.lastBaseUpdate=Ye,g.shared.pending=null}}while(!0);et===null&&(ye=it),g.baseState=ye,g.firstBaseUpdate=Le,g.lastBaseUpdate=et,w===null&&(g.shared.lanes=0),Io|=D,i.lanes=D,i.memoizedState=it}}function t2(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function n2(i,a){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)t2(c[i],a)}var Du=ie(null),Yp=ie(0);function r2(i,a){i=Ma,_e(Yp,i),_e(Du,a),Ma=i|a.baseLanes}function Fw(){_e(Yp,Ma),_e(Du,Du.current)}function Ow(){Ma=Yp.current,ue(Du),ue(Yp)}var ji=ie(null),es=null;function _o(i){var a=i.alternate;_e(kr,kr.current&1),_e(ji,i),es===null&&(a===null||Du.current!==null||a.memoizedState!==null)&&(es=i)}function Pw(i){_e(kr,kr.current),_e(ji,i),es===null&&(es=i)}function i2(i){i.tag===22?(_e(kr,kr.current),_e(ji,i),es===null&&(es=i)):Ao()}function Ao(){_e(kr,kr.current),_e(ji,ji.current)}function Vi(i){ue(ji),es===i&&(es=null),ue(kr)}var kr=ie(0);function Jp(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||zv(c)||qv(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Aa=0,xn=null,Zn=null,Or=null,Qp=!1,Mu=!1,Jc=!1,Xp=0,cf=0,Fu=null,CN=0;function Sr(){throw Error(r(321))}function jw(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!Oi(i[c],a[c]))return!1;return!0}function Vw(i,a,c,u,g,w){return Aa=w,xn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,W.H=i===null||i.memoizedState===null?L2:Zw,Jc=!1,w=c(u,g),Jc=!1,Mu&&(w=a2(a,c,u,g)),s2(i),w}function s2(i){W.H=hf;var a=Zn!==null&&Zn.next!==null;if(Aa=0,Or=Zn=xn=null,Qp=!1,cf=0,Fu=null,a)throw Error(r(300));i===null||Pr||(i=i.dependencies,i!==null&&zp(i)&&(Pr=!0))}function a2(i,a,c,u){xn=i;var g=0;do{if(Mu&&(Fu=null),cf=0,Mu=!1,25<=g)throw Error(r(301));if(g+=1,Or=Zn=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}W.H=z2,w=a(c,u)}while(Mu);return w}function RN(){var i=W.H,a=i.useState()[0];return a=typeof a.then=="function"?lf(a):a,i=i.useState()[0],(Zn!==null?Zn.memoizedState:null)!==i&&(xn.flags|=1024),a}function Bw(){var i=Xp!==0;return Xp=0,i}function Uw(i,a,c){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~c}function Lw(i){if(Qp){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Qp=!1}Aa=0,Or=Zn=xn=null,Mu=!1,cf=Xp=0,Fu=null}function xi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Or===null?xn.memoizedState=Or=i:Or=Or.next=i,Or}function Ir(){if(Zn===null){var i=xn.alternate;i=i!==null?i.memoizedState:null}else i=Zn.next;var a=Or===null?xn.memoizedState:Or.next;if(a!==null)Or=a,Zn=i;else{if(i===null)throw xn.alternate===null?Error(r(467)):Error(r(310));Zn=i,i={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},Or===null?xn.memoizedState=Or=i:Or=Or.next=i}return Or}function Zp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lf(i){var a=cf;return cf+=1,Fu===null&&(Fu=[]),i=Jb(Fu,i,a),a=xn,(Or===null?a.memoizedState:Or.next)===null&&(a=a.alternate,W.H=a===null||a.memoizedState===null?L2:Zw),i}function eg(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return lf(i);if(i.$$typeof===G)return ei(i)}throw Error(r(438,String(i)))}function zw(i){var a=null,c=xn.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var u=xn.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Zp(),xn.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(i),u=0;u<i;u++)c[u]=A;return a.index++,c}function Ta(i,a){return typeof a=="function"?a(i):a}function tg(i){var a=Ir();return qw(a,Zn,i)}function qw(i,a,c){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=c;var g=i.baseQueue,w=u.pending;if(w!==null){if(g!==null){var D=g.next;g.next=w.next,w.next=D}a.baseQueue=g=w,u.pending=null}if(w=i.baseState,g===null)i.memoizedState=w;else{a=g.next;var ne=D=null,ye=null,Le=a,et=!1;do{var it=Le.lane&-536870913;if(it!==Le.lane?(Nn&it)===it:(Aa&it)===it){var qe=Le.revertLane;if(qe===0)ye!==null&&(ye=ye.next={lane:0,revertLane:0,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),it===Iu&&(et=!0);else if((Aa&qe)===qe){Le=Le.next,qe===Iu&&(et=!0);continue}else it={lane:0,revertLane:Le.revertLane,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},ye===null?(ne=ye=it,D=w):ye=ye.next=it,xn.lanes|=qe,Io|=qe;it=Le.action,Jc&&c(w,it),w=Le.hasEagerState?Le.eagerState:c(w,it)}else qe={lane:it,revertLane:Le.revertLane,gesture:Le.gesture,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},ye===null?(ne=ye=qe,D=w):ye=ye.next=qe,xn.lanes|=it,Io|=it;Le=Le.next}while(Le!==null&&Le!==a);if(ye===null?D=w:ye.next=ne,!Oi(w,i.memoizedState)&&(Pr=!0,et&&(c=Cu,c!==null)))throw c;i.memoizedState=w,i.baseState=D,i.baseQueue=ye,u.lastRenderedState=w}return g===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function $w(i){var a=Ir(),c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var u=c.dispatch,g=c.pending,w=a.memoizedState;if(g!==null){c.pending=null;var D=g=g.next;do w=i(w,D.action),D=D.next;while(D!==g);Oi(w,a.memoizedState)||(Pr=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,u]}function o2(i,a,c){var u=xn,g=Ir(),w=Pn;if(w){if(c===void 0)throw Error(r(407));c=c()}else c=a();var D=!Oi((Zn||g).memoizedState,c);if(D&&(g.memoizedState=c,Pr=!0),g=g.queue,Kw(u2.bind(null,u,g,i),[i]),g.getSnapshot!==a||D||Or!==null&&Or.memoizedState.tag&1){if(u.flags|=2048,Ou(9,{destroy:void 0},l2.bind(null,u,g,c,a),null),sr===null)throw Error(r(349));w||(Aa&127)!==0||c2(u,a,c)}return c}function c2(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=xn.updateQueue,a===null?(a=Zp(),xn.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function l2(i,a,c,u){a.value=c,a.getSnapshot=u,h2(a)&&d2(i)}function u2(i,a,c){return c(function(){h2(a)&&d2(i)})}function h2(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!Oi(i,c)}catch{return!0}}function d2(i){var a=Lc(i,2);a!==null&&Ci(a,i,2)}function Hw(i){var a=xi();if(typeof i=="function"){var c=i;if(i=c(),Jc){pt(!0);try{c()}finally{pt(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:i},a}function f2(i,a,c,u){return i.baseState=c,qw(i,Zn,typeof u=="function"?u:Ta)}function NN(i,a,c,u,g){if(ig(i))throw Error(r(485));if(i=a.action,i!==null){var w={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){w.listeners.push(D)}};W.T!==null?c(!0):w.isTransition=!1,u(w),c=a.pending,c===null?(w.next=a.pending=w,m2(a,w)):(w.next=c.next,a.pending=c.next=w)}}function m2(i,a){var c=a.action,u=a.payload,g=i.state;if(a.isTransition){var w=W.T,D={};W.T=D;try{var ne=c(g,u),ye=W.S;ye!==null&&ye(D,ne),p2(i,a,ne)}catch(Le){Gw(i,a,Le)}finally{w!==null&&D.types!==null&&(w.types=D.types),W.T=w}}else try{w=c(g,u),p2(i,a,w)}catch(Le){Gw(i,a,Le)}}function p2(i,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(u){g2(i,a,u)},function(u){return Gw(i,a,u)}):g2(i,a,c)}function g2(i,a,c){a.status="fulfilled",a.value=c,y2(a),i.state=c,a=i.pending,a!==null&&(c=a.next,c===a?i.pending=null:(c=c.next,a.next=c,m2(i,c)))}function Gw(i,a,c){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=c,y2(a),a=a.next;while(a!==u)}i.action=null}function y2(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function w2(i,a){return a}function v2(i,a){if(Pn){var c=sr.formState;if(c!==null){e:{var u=xn;if(Pn){if(dr){t:{for(var g=dr,w=Zi;g.nodeType!==8;){if(!w){g=null;break t}if(g=ts(g.nextSibling),g===null){g=null;break t}}w=g.data,g=w==="F!"||w==="F"?g:null}if(g){dr=ts(g.nextSibling),u=g.data==="F!";break e}}vo(u)}u=!1}u&&(a=c[0])}}return c=xi(),c.memoizedState=c.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:w2,lastRenderedState:a},c.queue=u,c=V2.bind(null,xn,u),u.dispatch=c,u=Hw(!1),w=Xw.bind(null,xn,!1,u.queue),u=xi(),g={state:a,dispatch:null,action:i,pending:null},u.queue=g,c=NN.bind(null,xn,g,w,c),g.dispatch=c,u.memoizedState=i,[a,c,!1]}function x2(i){var a=Ir();return S2(a,Zn,i)}function S2(i,a,c){if(a=qw(i,a,w2)[0],i=tg(Ta)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=lf(a)}catch(D){throw D===Ru?Hp:D}else u=a;a=Ir();var g=a.queue,w=g.dispatch;return c!==a.memoizedState&&(xn.flags|=2048,Ou(9,{destroy:void 0},DN.bind(null,g,c),null)),[u,w,i]}function DN(i,a){i.action=a}function E2(i){var a=Ir(),c=Zn;if(c!==null)return S2(a,c,i);Ir(),a=a.memoizedState,c=Ir();var u=c.queue.dispatch;return c.memoizedState=i,[a,u,!1]}function Ou(i,a,c,u){return i={tag:i,create:c,deps:u,inst:a,next:null},a=xn.updateQueue,a===null&&(a=Zp(),xn.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=i.next=i:(u=c.next,c.next=i,i.next=u,a.lastEffect=i),i}function b2(){return Ir().memoizedState}function ng(i,a,c,u){var g=xi();xn.flags|=i,g.memoizedState=Ou(1|a,{destroy:void 0},c,u===void 0?null:u)}function rg(i,a,c,u){var g=Ir();u=u===void 0?null:u;var w=g.memoizedState.inst;Zn!==null&&u!==null&&jw(u,Zn.memoizedState.deps)?g.memoizedState=Ou(a,w,c,u):(xn.flags|=i,g.memoizedState=Ou(1|a,w,c,u))}function _2(i,a){ng(8390656,8,i,a)}function Kw(i,a){rg(2048,8,i,a)}function MN(i){xn.flags|=4;var a=xn.updateQueue;if(a===null)a=Zp(),xn.updateQueue=a,a.events=[i];else{var c=a.events;c===null?a.events=[i]:c.push(i)}}function A2(i){var a=Ir().memoizedState;return MN({ref:a,nextImpl:i}),function(){if((Hn&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function T2(i,a){return rg(4,2,i,a)}function k2(i,a){return rg(4,4,i,a)}function I2(i,a){if(typeof a=="function"){i=i();var c=a(i);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function C2(i,a,c){c=c!=null?c.concat([i]):null,rg(4,4,I2.bind(null,a,i),c)}function Ww(){}function R2(i,a){var c=Ir();a=a===void 0?null:a;var u=c.memoizedState;return a!==null&&jw(a,u[1])?u[0]:(c.memoizedState=[i,a],i)}function N2(i,a){var c=Ir();a=a===void 0?null:a;var u=c.memoizedState;if(a!==null&&jw(a,u[1]))return u[0];if(u=i(),Jc){pt(!0);try{i()}finally{pt(!1)}}return c.memoizedState=[u,a],u}function Yw(i,a,c){return c===void 0||(Aa&1073741824)!==0&&(Nn&261930)===0?i.memoizedState=a:(i.memoizedState=c,i=D_(),xn.lanes|=i,Io|=i,c)}function D2(i,a,c,u){return Oi(c,a)?c:Du.current!==null?(i=Yw(i,c,u),Oi(i,a)||(Pr=!0),i):(Aa&42)===0||(Aa&1073741824)!==0&&(Nn&261930)===0?(Pr=!0,i.memoizedState=c):(i=D_(),xn.lanes|=i,Io|=i,a)}function M2(i,a,c,u,g){var w=le.p;le.p=w!==0&&8>w?w:8;var D=W.T,ne={};W.T=ne,Xw(i,!1,a,c);try{var ye=g(),Le=W.S;if(Le!==null&&Le(ne,ye),ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var et=IN(ye,u);uf(i,a,et,Li(i))}else uf(i,a,u,Li(i))}catch(it){uf(i,a,{then:function(){},status:"rejected",reason:it},Li())}finally{le.p=w,D!==null&&ne.types!==null&&(D.types=ne.types),W.T=D}}function FN(){}function Jw(i,a,c,u){if(i.tag!==5)throw Error(r(476));var g=F2(i).queue;M2(i,g,a,Q,c===null?FN:function(){return O2(i),c(u)})}function F2(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:Q},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:c},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function O2(i){var a=F2(i);a.next===null&&(a=i.alternate.memoizedState),uf(i,a.next.queue,{},Li())}function Qw(){return ei(kf)}function P2(){return Ir().memoizedState}function j2(){return Ir().memoizedState}function ON(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var c=Li();i=Eo(c);var u=bo(a,i,c);u!==null&&(Ci(u,a,c),sf(u,a,c)),a={cache:Tw()},i.payload=a;return}a=a.return}}function PN(i,a,c){var u=Li();c={lane:u,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ig(i)?B2(a,c):(c=pw(i,a,c,u),c!==null&&(Ci(c,i,u),U2(c,a,u)))}function V2(i,a,c){var u=Li();uf(i,a,c,u)}function uf(i,a,c,u){var g={lane:u,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(ig(i))B2(a,g);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var D=a.lastRenderedState,ne=w(D,c);if(g.hasEagerState=!0,g.eagerState=ne,Oi(ne,D))return Vp(i,a,g,0),sr===null&&jp(),!1}catch{}finally{}if(c=pw(i,a,g,u),c!==null)return Ci(c,i,u),U2(c,a,u),!0}return!1}function Xw(i,a,c,u){if(u={lane:2,revertLane:Rv(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ig(i)){if(a)throw Error(r(479))}else a=pw(i,c,u,2),a!==null&&Ci(a,i,2)}function ig(i){var a=i.alternate;return i===xn||a!==null&&a===xn}function B2(i,a){Mu=Qp=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function U2(i,a,c){if((c&4194048)!==0){var u=a.lanes;u&=i.pendingLanes,c|=u,a.lanes=c,li(i,c)}}var hf={readContext:ei,use:eg,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useLayoutEffect:Sr,useInsertionEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useSyncExternalStore:Sr,useId:Sr,useHostTransitionStatus:Sr,useFormState:Sr,useActionState:Sr,useOptimistic:Sr,useMemoCache:Sr,useCacheRefresh:Sr};hf.useEffectEvent=Sr;var L2={readContext:ei,use:eg,useCallback:function(i,a){return xi().memoizedState=[i,a===void 0?null:a],i},useContext:ei,useEffect:_2,useImperativeHandle:function(i,a,c){c=c!=null?c.concat([i]):null,ng(4194308,4,I2.bind(null,a,i),c)},useLayoutEffect:function(i,a){return ng(4194308,4,i,a)},useInsertionEffect:function(i,a){ng(4,2,i,a)},useMemo:function(i,a){var c=xi();a=a===void 0?null:a;var u=i();if(Jc){pt(!0);try{i()}finally{pt(!1)}}return c.memoizedState=[u,a],u},useReducer:function(i,a,c){var u=xi();if(c!==void 0){var g=c(a);if(Jc){pt(!0);try{c(a)}finally{pt(!1)}}}else g=a;return u.memoizedState=u.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},u.queue=i,i=i.dispatch=PN.bind(null,xn,i),[u.memoizedState,i]},useRef:function(i){var a=xi();return i={current:i},a.memoizedState=i},useState:function(i){i=Hw(i);var a=i.queue,c=V2.bind(null,xn,a);return a.dispatch=c,[i.memoizedState,c]},useDebugValue:Ww,useDeferredValue:function(i,a){var c=xi();return Yw(c,i,a)},useTransition:function(){var i=Hw(!1);return i=M2.bind(null,xn,i.queue,!0,!1),xi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,c){var u=xn,g=xi();if(Pn){if(c===void 0)throw Error(r(407));c=c()}else{if(c=a(),sr===null)throw Error(r(349));(Nn&127)!==0||c2(u,a,c)}g.memoizedState=c;var w={value:c,getSnapshot:a};return g.queue=w,_2(u2.bind(null,u,w,i),[i]),u.flags|=2048,Ou(9,{destroy:void 0},l2.bind(null,u,w,c,a),null),c},useId:function(){var i=xi(),a=sr.identifierPrefix;if(Pn){var c=js,u=Ps;c=(u&~(1<<32-ot(u)-1)).toString(32)+c,a="_"+a+"R_"+c,c=Xp++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=CN++,a="_"+a+"r_"+c.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:Qw,useFormState:v2,useActionState:v2,useOptimistic:function(i){var a=xi();a.memoizedState=a.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Xw.bind(null,xn,!0,c),c.dispatch=a,[i,a]},useMemoCache:zw,useCacheRefresh:function(){return xi().memoizedState=ON.bind(null,xn)},useEffectEvent:function(i){var a=xi(),c={impl:i};return a.memoizedState=c,function(){if((Hn&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Zw={readContext:ei,use:eg,useCallback:R2,useContext:ei,useEffect:Kw,useImperativeHandle:C2,useInsertionEffect:T2,useLayoutEffect:k2,useMemo:N2,useReducer:tg,useRef:b2,useState:function(){return tg(Ta)},useDebugValue:Ww,useDeferredValue:function(i,a){var c=Ir();return D2(c,Zn.memoizedState,i,a)},useTransition:function(){var i=tg(Ta)[0],a=Ir().memoizedState;return[typeof i=="boolean"?i:lf(i),a]},useSyncExternalStore:o2,useId:P2,useHostTransitionStatus:Qw,useFormState:x2,useActionState:x2,useOptimistic:function(i,a){var c=Ir();return f2(c,Zn,i,a)},useMemoCache:zw,useCacheRefresh:j2};Zw.useEffectEvent=A2;var z2={readContext:ei,use:eg,useCallback:R2,useContext:ei,useEffect:Kw,useImperativeHandle:C2,useInsertionEffect:T2,useLayoutEffect:k2,useMemo:N2,useReducer:$w,useRef:b2,useState:function(){return $w(Ta)},useDebugValue:Ww,useDeferredValue:function(i,a){var c=Ir();return Zn===null?Yw(c,i,a):D2(c,Zn.memoizedState,i,a)},useTransition:function(){var i=$w(Ta)[0],a=Ir().memoizedState;return[typeof i=="boolean"?i:lf(i),a]},useSyncExternalStore:o2,useId:P2,useHostTransitionStatus:Qw,useFormState:E2,useActionState:E2,useOptimistic:function(i,a){var c=Ir();return Zn!==null?f2(c,Zn,i,a):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:zw,useCacheRefresh:j2};z2.useEffectEvent=A2;function ev(i,a,c,u){a=i.memoizedState,c=c(u,a),c=c==null?a:S({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var tv={enqueueSetState:function(i,a,c){i=i._reactInternals;var u=Li(),g=Eo(u);g.payload=a,c!=null&&(g.callback=c),a=bo(i,g,u),a!==null&&(Ci(a,i,u),sf(a,i,u))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var u=Li(),g=Eo(u);g.tag=1,g.payload=a,c!=null&&(g.callback=c),a=bo(i,g,u),a!==null&&(Ci(a,i,u),sf(a,i,u))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=Li(),u=Eo(c);u.tag=2,a!=null&&(u.callback=a),a=bo(i,u,c),a!==null&&(Ci(a,i,c),sf(a,i,c))}};function q2(i,a,c,u,g,w,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,w,D):a.prototype&&a.prototype.isPureReactComponent?!Jd(c,u)||!Jd(g,w):!0}function $2(i,a,c,u){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,u),a.state!==i&&tv.enqueueReplaceState(a,a.state,null)}function Qc(i,a){var c=a;if("ref"in a){c={};for(var u in a)u!=="ref"&&(c[u]=a[u])}if(i=i.defaultProps){c===a&&(c=S({},c));for(var g in i)c[g]===void 0&&(c[g]=i[g])}return c}function H2(i){Pp(i)}function G2(i){console.error(i)}function K2(i){Pp(i)}function sg(i,a){try{var c=i.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function W2(i,a,c){try{var u=i.onCaughtError;u(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function nv(i,a,c){return c=Eo(c),c.tag=3,c.payload={element:null},c.callback=function(){sg(i,a)},c}function Y2(i){return i=Eo(i),i.tag=3,i}function J2(i,a,c,u){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var w=u.value;i.payload=function(){return g(w)},i.callback=function(){W2(a,c,u)}}var D=c.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(i.callback=function(){W2(a,c,u),typeof g!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var ne=u.stack;this.componentDidCatch(u.value,{componentStack:ne!==null?ne:""})})}function jN(i,a,c,u,g){if(c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=c.alternate,a!==null&&ku(a,c,g,!0),c=ji.current,c!==null){switch(c.tag){case 31:case 13:return es===null?yg():c.alternate===null&&Er===0&&(Er=3),c.flags&=-257,c.flags|=65536,c.lanes=g,u===Gp?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([u]):a.add(u),kv(i,u,g)),!1;case 22:return c.flags|=65536,u===Gp?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([u]):c.add(u)),kv(i,u,g)),!1}throw Error(r(435,c.tag))}return kv(i,u,g),yg(),!1}if(Pn)return a=ji.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==Sw&&(i=Error(r(422),{cause:u}),Zd(Ji(i,c)))):(u!==Sw&&(a=Error(r(423),{cause:u}),Zd(Ji(a,c))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,u=Ji(u,c),g=nv(i.stateNode,u,g),Dw(i,g),Er!==4&&(Er=2)),!1;var w=Error(r(520),{cause:u});if(w=Ji(w,c),vf===null?vf=[w]:vf.push(w),Er!==4&&(Er=2),a===null)return!0;u=Ji(u,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,i=g&-g,c.lanes|=i,i=nv(c.stateNode,u,i),Dw(c,i),!1;case 1:if(a=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Co===null||!Co.has(w))))return c.flags|=65536,g&=-g,c.lanes|=g,g=Y2(g),J2(g,i,c,u),Dw(c,g),!1}c=c.return}while(c!==null);return!1}var rv=Error(r(461)),Pr=!1;function ti(i,a,c,u){a.child=i===null?e2(a,null,c,u):Yc(a,i.child,c,u)}function Q2(i,a,c,u,g){c=c.render;var w=a.ref;if("ref"in u){var D={};for(var ne in u)ne!=="ref"&&(D[ne]=u[ne])}else D=u;return Hc(a),u=Vw(i,a,c,D,w,g),ne=Bw(),i!==null&&!Pr?(Uw(i,a,g),ka(i,a,g)):(Pn&&ne&&vw(a),a.flags|=1,ti(i,a,u,g),a.child)}function X2(i,a,c,u,g){if(i===null){var w=c.type;return typeof w=="function"&&!gw(w)&&w.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=w,Z2(i,a,w,u,g)):(i=Up(c.type,null,u,a,a.mode,g),i.ref=a.ref,i.return=a,a.child=i)}if(w=i.child,!hv(i,g)){var D=w.memoizedProps;if(c=c.compare,c=c!==null?c:Jd,c(D,u)&&i.ref===a.ref)return ka(i,a,g)}return a.flags|=1,i=Sa(w,u),i.ref=a.ref,i.return=a,a.child=i}function Z2(i,a,c,u,g){if(i!==null){var w=i.memoizedProps;if(Jd(w,u)&&i.ref===a.ref)if(Pr=!1,a.pendingProps=u=w,hv(i,g))(i.flags&131072)!==0&&(Pr=!0);else return a.lanes=i.lanes,ka(i,a,g)}return iv(i,a,c,u,g)}function e_(i,a,c,u){var g=u.children,w=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(w=w!==null?w.baseLanes|c:c,i!==null){for(u=a.child=i.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~w}else u=0,a.child=null;return t_(i,a,w,c,u)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&$p(a,w!==null?w.cachePool:null),w!==null?r2(a,w):Fw(),i2(a);else return u=a.lanes=536870912,t_(i,a,w!==null?w.baseLanes|c:c,c,u)}else w!==null?($p(a,w.cachePool),r2(a,w),Ao(),a.memoizedState=null):(i!==null&&$p(a,null),Fw(),Ao());return ti(i,a,g,c),a.child}function df(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function t_(i,a,c,u,g){var w=Iw();return w=w===null?null:{parent:Fr._currentValue,pool:w},a.memoizedState={baseLanes:c,cachePool:w},i!==null&&$p(a,null),Fw(),i2(a),i!==null&&ku(i,a,u,!0),a.childLanes=g,null}function ag(i,a){return a=cg({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function n_(i,a,c){return Yc(a,i.child,null,c),i=ag(a,a.pendingProps),i.flags|=2,Vi(a),a.memoizedState=null,i}function VN(i,a,c){var u=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(Pn){if(u.mode==="hidden")return i=ag(a,u),a.lanes=536870912,df(null,i);if(Pw(a),(i=dr)?(i=mA(i,Zi),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:yo!==null?{id:Ps,overflow:js}:null,retryLane:536870912,hydrationErrors:null},c=Bb(i),c.return=a,a.child=c,Zr=a,dr=null)):i=null,i===null)throw vo(a);return a.lanes=536870912,null}return ag(a,u)}var w=i.memoizedState;if(w!==null){var D=w.dehydrated;if(Pw(a),g)if(a.flags&256)a.flags&=-257,a=n_(i,a,c);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(Pr||ku(i,a,c,!1),g=(c&i.childLanes)!==0,Pr||g){if(u=sr,u!==null&&(D=F(u,c),D!==0&&D!==w.retryLane))throw w.retryLane=D,Lc(i,D),Ci(u,i,D),rv;yg(),a=n_(i,a,c)}else i=w.treeContext,dr=ts(D.nextSibling),Zr=a,Pn=!0,wo=null,Zi=!1,i!==null&&zb(a,i),a=ag(a,u),a.flags|=4096;return a}return i=Sa(i.child,{mode:u.mode,children:u.children}),i.ref=a.ref,a.child=i,i.return=a,i}function og(i,a){var c=a.ref;if(c===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(a.flags|=4194816)}}function iv(i,a,c,u,g){return Hc(a),c=Vw(i,a,c,u,void 0,g),u=Bw(),i!==null&&!Pr?(Uw(i,a,g),ka(i,a,g)):(Pn&&u&&vw(a),a.flags|=1,ti(i,a,c,g),a.child)}function r_(i,a,c,u,g,w){return Hc(a),a.updateQueue=null,c=a2(a,u,c,g),s2(i),u=Bw(),i!==null&&!Pr?(Uw(i,a,w),ka(i,a,w)):(Pn&&u&&vw(a),a.flags|=1,ti(i,a,c,w),a.child)}function i_(i,a,c,u,g){if(Hc(a),a.stateNode===null){var w=bu,D=c.contextType;typeof D=="object"&&D!==null&&(w=ei(D)),w=new c(u,w),a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=tv,a.stateNode=w,w._reactInternals=a,w=a.stateNode,w.props=u,w.state=a.memoizedState,w.refs={},Rw(a),D=c.contextType,w.context=typeof D=="object"&&D!==null?ei(D):bu,w.state=a.memoizedState,D=c.getDerivedStateFromProps,typeof D=="function"&&(ev(a,c,D,u),w.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(D=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),D!==w.state&&tv.enqueueReplaceState(w,w.state,null),of(a,u,w,g),af(),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(i===null){w=a.stateNode;var ne=a.memoizedProps,ye=Qc(c,ne);w.props=ye;var Le=w.context,et=c.contextType;D=bu,typeof et=="object"&&et!==null&&(D=ei(et));var it=c.getDerivedStateFromProps;et=typeof it=="function"||typeof w.getSnapshotBeforeUpdate=="function",ne=a.pendingProps!==ne,et||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(ne||Le!==D)&&$2(a,w,u,D),So=!1;var qe=a.memoizedState;w.state=qe,of(a,u,w,g),af(),Le=a.memoizedState,ne||qe!==Le||So?(typeof it=="function"&&(ev(a,c,it,u),Le=a.memoizedState),(ye=So||q2(a,c,ye,u,qe,Le,D))?(et||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Le),w.props=u,w.state=Le,w.context=D,u=ye):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{w=a.stateNode,Nw(i,a),D=a.memoizedProps,et=Qc(c,D),w.props=et,it=a.pendingProps,qe=w.context,Le=c.contextType,ye=bu,typeof Le=="object"&&Le!==null&&(ye=ei(Le)),ne=c.getDerivedStateFromProps,(Le=typeof ne=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D!==it||qe!==ye)&&$2(a,w,u,ye),So=!1,qe=a.memoizedState,w.state=qe,of(a,u,w,g),af();var Ye=a.memoizedState;D!==it||qe!==Ye||So||i!==null&&i.dependencies!==null&&zp(i.dependencies)?(typeof ne=="function"&&(ev(a,c,ne,u),Ye=a.memoizedState),(et=So||q2(a,c,et,u,qe,Ye,ye)||i!==null&&i.dependencies!==null&&zp(i.dependencies))?(Le||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(u,Ye,ye),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(u,Ye,ye)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||D===i.memoizedProps&&qe===i.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&qe===i.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Ye),w.props=u,w.state=Ye,w.context=ye,u=et):(typeof w.componentDidUpdate!="function"||D===i.memoizedProps&&qe===i.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&qe===i.memoizedState||(a.flags|=1024),u=!1)}return w=u,og(i,a),u=(a.flags&128)!==0,w||u?(w=a.stateNode,c=u&&typeof c.getDerivedStateFromError!="function"?null:w.render(),a.flags|=1,i!==null&&u?(a.child=Yc(a,i.child,null,g),a.child=Yc(a,null,c,g)):ti(i,a,c,g),a.memoizedState=w.state,i=a.child):i=ka(i,a,g),i}function s_(i,a,c,u){return qc(),a.flags|=256,ti(i,a,c,u),a.child}var sv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function av(i){return{baseLanes:i,cachePool:Wb()}}function ov(i,a,c){return i=i!==null?i.childLanes&~c:0,a&&(i|=Ui),i}function a_(i,a,c){var u=a.pendingProps,g=!1,w=(a.flags&128)!==0,D;if((D=w)||(D=i!==null&&i.memoizedState===null?!1:(kr.current&2)!==0),D&&(g=!0,a.flags&=-129),D=(a.flags&32)!==0,a.flags&=-33,i===null){if(Pn){if(g?_o(a):Ao(),(i=dr)?(i=mA(i,Zi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:yo!==null?{id:Ps,overflow:js}:null,retryLane:536870912,hydrationErrors:null},c=Bb(i),c.return=a,a.child=c,Zr=a,dr=null)):i=null,i===null)throw vo(a);return qv(i)?a.lanes=32:a.lanes=536870912,null}var ne=u.children;return u=u.fallback,g?(Ao(),g=a.mode,ne=cg({mode:"hidden",children:ne},g),u=zc(u,g,c,null),ne.return=a,u.return=a,ne.sibling=u,a.child=ne,u=a.child,u.memoizedState=av(c),u.childLanes=ov(i,D,c),a.memoizedState=sv,df(null,u)):(_o(a),cv(a,ne))}var ye=i.memoizedState;if(ye!==null&&(ne=ye.dehydrated,ne!==null)){if(w)a.flags&256?(_o(a),a.flags&=-257,a=lv(i,a,c)):a.memoizedState!==null?(Ao(),a.child=i.child,a.flags|=128,a=null):(Ao(),ne=u.fallback,g=a.mode,u=cg({mode:"visible",children:u.children},g),ne=zc(ne,g,c,null),ne.flags|=2,u.return=a,ne.return=a,u.sibling=ne,a.child=u,Yc(a,i.child,null,c),u=a.child,u.memoizedState=av(c),u.childLanes=ov(i,D,c),a.memoizedState=sv,a=df(null,u));else if(_o(a),qv(ne)){if(D=ne.nextSibling&&ne.nextSibling.dataset,D)var Le=D.dgst;D=Le,u=Error(r(419)),u.stack="",u.digest=D,Zd({value:u,source:null,stack:null}),a=lv(i,a,c)}else if(Pr||ku(i,a,c,!1),D=(c&i.childLanes)!==0,Pr||D){if(D=sr,D!==null&&(u=F(D,c),u!==0&&u!==ye.retryLane))throw ye.retryLane=u,Lc(i,u),Ci(D,i,u),rv;zv(ne)||yg(),a=lv(i,a,c)}else zv(ne)?(a.flags|=192,a.child=i.child,a=null):(i=ye.treeContext,dr=ts(ne.nextSibling),Zr=a,Pn=!0,wo=null,Zi=!1,i!==null&&zb(a,i),a=cv(a,u.children),a.flags|=4096);return a}return g?(Ao(),ne=u.fallback,g=a.mode,ye=i.child,Le=ye.sibling,u=Sa(ye,{mode:"hidden",children:u.children}),u.subtreeFlags=ye.subtreeFlags&65011712,Le!==null?ne=Sa(Le,ne):(ne=zc(ne,g,c,null),ne.flags|=2),ne.return=a,u.return=a,u.sibling=ne,a.child=u,df(null,u),u=a.child,ne=i.child.memoizedState,ne===null?ne=av(c):(g=ne.cachePool,g!==null?(ye=Fr._currentValue,g=g.parent!==ye?{parent:ye,pool:ye}:g):g=Wb(),ne={baseLanes:ne.baseLanes|c,cachePool:g}),u.memoizedState=ne,u.childLanes=ov(i,D,c),a.memoizedState=sv,df(i.child,u)):(_o(a),c=i.child,i=c.sibling,c=Sa(c,{mode:"visible",children:u.children}),c.return=a,c.sibling=null,i!==null&&(D=a.deletions,D===null?(a.deletions=[i],a.flags|=16):D.push(i)),a.child=c,a.memoizedState=null,c)}function cv(i,a){return a=cg({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function cg(i,a){return i=Pi(22,i,null,a),i.lanes=0,i}function lv(i,a,c){return Yc(a,i.child,null,c),i=cv(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function o_(i,a,c){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a),_w(i.return,a,c)}function uv(i,a,c,u,g,w){var D=i.memoizedState;D===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:c,tailMode:g,treeForkCount:w}:(D.isBackwards=a,D.rendering=null,D.renderingStartTime=0,D.last=u,D.tail=c,D.tailMode=g,D.treeForkCount=w)}function c_(i,a,c){var u=a.pendingProps,g=u.revealOrder,w=u.tail;u=u.children;var D=kr.current,ne=(D&2)!==0;if(ne?(D=D&1|2,a.flags|=128):D&=1,_e(kr,D),ti(i,a,u,c),u=Pn?Xd:0,!ne&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&o_(i,c,a);else if(i.tag===19)o_(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(c=a.child,g=null;c!==null;)i=c.alternate,i!==null&&Jp(i)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),uv(a,!1,g,c,w,u);break;case"backwards":case"unstable_legacy-backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(i=g.alternate,i!==null&&Jp(i)===null){a.child=g;break}i=g.sibling,g.sibling=c,c=g,g=i}uv(a,!0,c,null,w,u);break;case"together":uv(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function ka(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),Io|=a.lanes,(c&a.childLanes)===0)if(i!==null){if(ku(i,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,c=Sa(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=Sa(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function hv(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&zp(i)))}function BN(i,a,c){switch(a.tag){case 3:ge(a,a.stateNode.containerInfo),xo(a,Fr,i.memoizedState.cache),qc();break;case 27:case 5:L(a);break;case 4:ge(a,a.stateNode.containerInfo);break;case 10:xo(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Pw(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(_o(a),a.flags|=128,null):(c&a.child.childLanes)!==0?a_(i,a,c):(_o(a),i=ka(i,a,c),i!==null?i.sibling:null);_o(a);break;case 19:var g=(i.flags&128)!==0;if(u=(c&a.childLanes)!==0,u||(ku(i,a,c,!1),u=(c&a.childLanes)!==0),g){if(u)return c_(i,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),_e(kr,kr.current),u)break;return null;case 22:return a.lanes=0,e_(i,a,c,a.pendingProps);case 24:xo(a,Fr,i.memoizedState.cache)}return ka(i,a,c)}function l_(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps)Pr=!0;else{if(!hv(i,c)&&(a.flags&128)===0)return Pr=!1,BN(i,a,c);Pr=(i.flags&131072)!==0}else Pr=!1,Pn&&(a.flags&1048576)!==0&&Lb(a,Xd,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(i=Kc(a.elementType),a.type=i,typeof i=="function")gw(i)?(u=Qc(i,u),a.tag=1,a=i_(null,a,i,u,c)):(a.tag=0,a=iv(null,a,i,u,c));else{if(i!=null){var g=i.$$typeof;if(g===he){a.tag=11,a=Q2(null,a,i,u,c);break e}else if(g===P){a.tag=14,a=X2(null,a,i,u,c);break e}}throw a=$(i)||i,Error(r(306,a,""))}}return a;case 0:return iv(i,a,a.type,a.pendingProps,c);case 1:return u=a.type,g=Qc(u,a.pendingProps),i_(i,a,u,g,c);case 3:e:{if(ge(a,a.stateNode.containerInfo),i===null)throw Error(r(387));u=a.pendingProps;var w=a.memoizedState;g=w.element,Nw(i,a),of(a,u,null,c);var D=a.memoizedState;if(u=D.cache,xo(a,Fr,u),u!==w.cache&&Aw(a,[Fr],c,!0),af(),u=D.element,w.isDehydrated)if(w={element:u,isDehydrated:!1,cache:D.cache},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){a=s_(i,a,u,c);break e}else if(u!==g){g=Ji(Error(r(424)),a),Zd(g),a=s_(i,a,u,c);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(dr=ts(i.firstChild),Zr=a,Pn=!0,wo=null,Zi=!0,c=e2(a,null,u,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(qc(),u===g){a=ka(i,a,c);break e}ti(i,a,u,c)}a=a.child}return a;case 26:return og(i,a),i===null?(c=xA(a.type,null,a.pendingProps,null))?a.memoizedState=c:Pn||(c=a.type,i=a.pendingProps,u=_g(Ae.current).createElement(c),u[Te]=a,u[ze]=i,ni(u,c,i),Dt(u),a.stateNode=u):a.memoizedState=xA(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return L(a),i===null&&Pn&&(u=a.stateNode=yA(a.type,a.pendingProps,Ae.current),Zr=a,Zi=!0,g=dr,Mo(a.type)?($v=g,dr=ts(u.firstChild)):dr=g),ti(i,a,a.pendingProps.children,c),og(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Pn&&((g=u=dr)&&(u=pD(u,a.type,a.pendingProps,Zi),u!==null?(a.stateNode=u,Zr=a,dr=ts(u.firstChild),Zi=!1,g=!0):g=!1),g||vo(a)),L(a),g=a.type,w=a.pendingProps,D=i!==null?i.memoizedProps:null,u=w.children,Bv(g,w)?u=null:D!==null&&Bv(g,D)&&(a.flags|=32),a.memoizedState!==null&&(g=Vw(i,a,RN,null,null,c),kf._currentValue=g),og(i,a),ti(i,a,u,c),a.child;case 6:return i===null&&Pn&&((i=c=dr)&&(c=gD(c,a.pendingProps,Zi),c!==null?(a.stateNode=c,Zr=a,dr=null,i=!0):i=!1),i||vo(a)),null;case 13:return a_(i,a,c);case 4:return ge(a,a.stateNode.containerInfo),u=a.pendingProps,i===null?a.child=Yc(a,null,u,c):ti(i,a,u,c),a.child;case 11:return Q2(i,a,a.type,a.pendingProps,c);case 7:return ti(i,a,a.pendingProps,c),a.child;case 8:return ti(i,a,a.pendingProps.children,c),a.child;case 12:return ti(i,a,a.pendingProps.children,c),a.child;case 10:return u=a.pendingProps,xo(a,a.type,u.value),ti(i,a,u.children,c),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,Hc(a),g=ei(g),u=u(g),a.flags|=1,ti(i,a,u,c),a.child;case 14:return X2(i,a,a.type,a.pendingProps,c);case 15:return Z2(i,a,a.type,a.pendingProps,c);case 19:return c_(i,a,c);case 31:return VN(i,a,c);case 22:return e_(i,a,c,a.pendingProps);case 24:return Hc(a),u=ei(Fr),i===null?(g=Iw(),g===null&&(g=sr,w=Tw(),g.pooledCache=w,w.refCount++,w!==null&&(g.pooledCacheLanes|=c),g=w),a.memoizedState={parent:u,cache:g},Rw(a),xo(a,Fr,g)):((i.lanes&c)!==0&&(Nw(i,a),of(a,null,null,c),af()),g=i.memoizedState,w=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),xo(a,Fr,u)):(u=w.cache,xo(a,Fr,u),u!==g.cache&&Aw(a,[Fr],c,!0))),ti(i,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Ia(i){i.flags|=4}function dv(i,a,c,u,g){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(P_())i.flags|=8192;else throw Wc=Gp,Cw}else i.flags&=-16777217}function u_(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!AA(a))if(P_())i.flags|=8192;else throw Wc=Gp,Cw}function lg(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?jn():536870912,i.lanes|=a,Bu|=a)}function ff(i,a){if(!Pn)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var u=null;c!==null;)c.alternate!==null&&(u=c),c=c.sibling;u===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function fr(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,u=0;if(a)for(var g=i.child;g!==null;)c|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)c|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=u,i.childLanes=c,a}function UN(i,a,c){var u=a.pendingProps;switch(xw(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(a),null;case 1:return fr(a),null;case 3:return c=a.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),_a(Fr),be(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Tu(a)?Ia(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ew())),fr(a),null;case 26:var g=a.type,w=a.memoizedState;return i===null?(Ia(a),w!==null?(fr(a),u_(a,w)):(fr(a),dv(a,g,null,u,c))):w?w!==i.memoizedState?(Ia(a),fr(a),u_(a,w)):(fr(a),a.flags&=-16777217):(i=i.memoizedProps,i!==u&&Ia(a),fr(a),dv(a,g,i,u,c)),null;case 27:if(J(a),c=Ae.current,g=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&Ia(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return fr(a),null}i=me.current,Tu(a)?qb(a):(i=yA(g,u,c),a.stateNode=i,Ia(a))}return fr(a),null;case 5:if(J(a),g=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&Ia(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return fr(a),null}if(w=me.current,Tu(a))qb(a);else{var D=_g(Ae.current);switch(w){case 1:w=D.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:w=D.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":w=D.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":w=D.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":w=D.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof u.is=="string"?D.createElement("select",{is:u.is}):D.createElement("select"),u.multiple?w.multiple=!0:u.size&&(w.size=u.size);break;default:w=typeof u.is=="string"?D.createElement(g,{is:u.is}):D.createElement(g)}}w[Te]=a,w[ze]=u;e:for(D=a.child;D!==null;){if(D.tag===5||D.tag===6)w.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===a)break e;for(;D.sibling===null;){if(D.return===null||D.return===a)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}a.stateNode=w;e:switch(ni(w,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ia(a)}}return fr(a),dv(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,c),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==u&&Ia(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(r(166));if(i=Ae.current,Tu(a)){if(i=a.stateNode,c=a.memoizedProps,u=null,g=Zr,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}i[Te]=a,i=!!(i.nodeValue===c||u!==null&&u.suppressHydrationWarning===!0||aA(i.nodeValue,c)),i||vo(a,!0)}else i=_g(i).createTextNode(u),i[Te]=a,a.stateNode=i}return fr(a),null;case 31:if(c=a.memoizedState,i===null||i.memoizedState!==null){if(u=Tu(a),c!==null){if(i===null){if(!u)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Te]=a}else qc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;fr(a),i=!1}else c=Ew(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return a.flags&256?(Vi(a),a):(Vi(a),null);if((a.flags&128)!==0)throw Error(r(558))}return fr(a),null;case 13:if(u=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Tu(a),u!==null&&u.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Te]=a}else qc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;fr(a),g=!1}else g=Ew(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Vi(a),a):(Vi(a),null)}return Vi(a),(a.flags&128)!==0?(a.lanes=c,a):(c=u!==null,i=i!==null&&i.memoizedState!==null,c&&(u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),w=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(w=u.memoizedState.cachePool.pool),w!==g&&(u.flags|=2048)),c!==i&&c&&(a.child.flags|=8192),lg(a,a.updateQueue),fr(a),null);case 4:return be(),i===null&&Fv(a.stateNode.containerInfo),fr(a),null;case 10:return _a(a.type),fr(a),null;case 19:if(ue(kr),u=a.memoizedState,u===null)return fr(a),null;if(g=(a.flags&128)!==0,w=u.rendering,w===null)if(g)ff(u,!1);else{if(Er!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(w=Jp(i),w!==null){for(a.flags|=128,ff(u,!1),i=w.updateQueue,a.updateQueue=i,lg(a,i),a.subtreeFlags=0,i=c,c=a.child;c!==null;)Vb(c,i),c=c.sibling;return _e(kr,kr.current&1|2),Pn&&Ea(a,u.treeForkCount),a.child}i=i.sibling}u.tail!==null&&lt()>mg&&(a.flags|=128,g=!0,ff(u,!1),a.lanes=4194304)}else{if(!g)if(i=Jp(w),i!==null){if(a.flags|=128,g=!0,i=i.updateQueue,a.updateQueue=i,lg(a,i),ff(u,!0),u.tail===null&&u.tailMode==="hidden"&&!w.alternate&&!Pn)return fr(a),null}else 2*lt()-u.renderingStartTime>mg&&c!==536870912&&(a.flags|=128,g=!0,ff(u,!1),a.lanes=4194304);u.isBackwards?(w.sibling=a.child,a.child=w):(i=u.last,i!==null?i.sibling=w:a.child=w,u.last=w)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=lt(),i.sibling=null,c=kr.current,_e(kr,g?c&1|2:c&1),Pn&&Ea(a,u.treeForkCount),i):(fr(a),null);case 22:case 23:return Vi(a),Ow(),u=a.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(c&536870912)!==0&&(a.flags&128)===0&&(fr(a),a.subtreeFlags&6&&(a.flags|=8192)):fr(a),c=a.updateQueue,c!==null&&lg(a,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==c&&(a.flags|=2048),i!==null&&ue(Gc),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),_a(Fr),fr(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function LN(i,a){switch(xw(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return _a(Fr),be(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return J(a),null;case 31:if(a.memoizedState!==null){if(Vi(a),a.alternate===null)throw Error(r(340));qc()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(Vi(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));qc()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ue(kr),null;case 4:return be(),null;case 10:return _a(a.type),null;case 22:case 23:return Vi(a),Ow(),i!==null&&ue(Gc),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return _a(Fr),null;case 25:return null;default:return null}}function h_(i,a){switch(xw(a),a.tag){case 3:_a(Fr),be();break;case 26:case 27:case 5:J(a);break;case 4:be();break;case 31:a.memoizedState!==null&&Vi(a);break;case 13:Vi(a);break;case 19:ue(kr);break;case 10:_a(a.type);break;case 22:case 23:Vi(a),Ow(),i!==null&&ue(Gc);break;case 24:_a(Fr)}}function mf(i,a){try{var c=a.updateQueue,u=c!==null?c.lastEffect:null;if(u!==null){var g=u.next;c=g;do{if((c.tag&i)===i){u=void 0;var w=c.create,D=c.inst;u=w(),D.destroy=u}c=c.next}while(c!==g)}}catch(ne){Wn(a,a.return,ne)}}function To(i,a,c){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var w=g.next;u=w;do{if((u.tag&i)===i){var D=u.inst,ne=D.destroy;if(ne!==void 0){D.destroy=void 0,g=a;var ye=c,Le=ne;try{Le()}catch(et){Wn(g,ye,et)}}}u=u.next}while(u!==w)}}catch(et){Wn(a,a.return,et)}}function d_(i){var a=i.updateQueue;if(a!==null){var c=i.stateNode;try{n2(a,c)}catch(u){Wn(i,i.return,u)}}}function f_(i,a,c){c.props=Qc(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(u){Wn(i,a,u)}}function pf(i,a){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof c=="function"?i.refCleanup=c(u):c.current=u}}catch(g){Wn(i,a,g)}}function Vs(i,a){var c=i.ref,u=i.refCleanup;if(c!==null)if(typeof u=="function")try{u()}catch(g){Wn(i,a,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){Wn(i,a,g)}else c.current=null}function m_(i){var a=i.type,c=i.memoizedProps,u=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&u.focus();break e;case"img":c.src?u.src=c.src:c.srcSet&&(u.srcset=c.srcSet)}}catch(g){Wn(i,i.return,g)}}function fv(i,a,c){try{var u=i.stateNode;lD(u,i.type,c,a),u[ze]=a}catch(g){Wn(i,i.return,g)}}function p_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Mo(i.type)||i.tag===4}function mv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||p_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Mo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function pv(i,a,c){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(i),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=ds));else if(u!==4&&(u===27&&Mo(i.type)&&(c=i.stateNode,a=null),i=i.child,i!==null))for(pv(i,a,c),i=i.sibling;i!==null;)pv(i,a,c),i=i.sibling}function ug(i,a,c){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(u!==4&&(u===27&&Mo(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(ug(i,a,c),i=i.sibling;i!==null;)ug(i,a,c),i=i.sibling}function g_(i){var a=i.stateNode,c=i.memoizedProps;try{for(var u=i.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);ni(a,u,c),a[Te]=i,a[ze]=c}catch(w){Wn(i,i.return,w)}}var Ca=!1,jr=!1,gv=!1,y_=typeof WeakSet=="function"?WeakSet:Set,Kr=null;function zN(i,a){if(i=i.containerInfo,jv=Ng,i=Cb(i),lw(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var u=c.getSelection&&c.getSelection();if(u&&u.rangeCount!==0){c=u.anchorNode;var g=u.anchorOffset,w=u.focusNode;u=u.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var D=0,ne=-1,ye=-1,Le=0,et=0,it=i,qe=null;t:for(;;){for(var Ye;it!==c||g!==0&&it.nodeType!==3||(ne=D+g),it!==w||u!==0&&it.nodeType!==3||(ye=D+u),it.nodeType===3&&(D+=it.nodeValue.length),(Ye=it.firstChild)!==null;)qe=it,it=Ye;for(;;){if(it===i)break t;if(qe===c&&++Le===g&&(ne=D),qe===w&&++et===u&&(ye=D),(Ye=it.nextSibling)!==null)break;it=qe,qe=it.parentNode}it=Ye}c=ne===-1||ye===-1?null:{start:ne,end:ye}}else c=null}c=c||{start:0,end:0}}else c=null;for(Vv={focusedElem:i,selectionRange:c},Ng=!1,Kr=a;Kr!==null;)if(a=Kr,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,Kr=i;else for(;Kr!==null;){switch(a=Kr,w=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)g=i[c],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,c=a,g=w.memoizedProps,w=w.memoizedState,u=c.stateNode;try{var jt=Qc(c.type,g);i=u.getSnapshotBeforeUpdate(jt,w),u.__reactInternalSnapshotBeforeUpdate=i}catch(Zt){Wn(c,c.return,Zt)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,c=i.nodeType,c===9)Lv(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Lv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Kr=i;break}Kr=a.return}}function w_(i,a,c){var u=c.flags;switch(c.tag){case 0:case 11:case 15:Na(i,c),u&4&&mf(5,c);break;case 1:if(Na(i,c),u&4)if(i=c.stateNode,a===null)try{i.componentDidMount()}catch(D){Wn(c,c.return,D)}else{var g=Qc(c.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(g,a,i.__reactInternalSnapshotBeforeUpdate)}catch(D){Wn(c,c.return,D)}}u&64&&d_(c),u&512&&pf(c,c.return);break;case 3:if(Na(i,c),u&64&&(i=c.updateQueue,i!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{n2(i,a)}catch(D){Wn(c,c.return,D)}}break;case 27:a===null&&u&4&&g_(c);case 26:case 5:Na(i,c),a===null&&u&4&&m_(c),u&512&&pf(c,c.return);break;case 12:Na(i,c);break;case 31:Na(i,c),u&4&&S_(i,c);break;case 13:Na(i,c),u&4&&E_(i,c),u&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=QN.bind(null,c),yD(i,c))));break;case 22:if(u=c.memoizedState!==null||Ca,!u){a=a!==null&&a.memoizedState!==null||jr,g=Ca;var w=jr;Ca=u,(jr=a)&&!w?Da(i,c,(c.subtreeFlags&8772)!==0):Na(i,c),Ca=g,jr=w}break;case 30:break;default:Na(i,c)}}function v_(i){var a=i.alternate;a!==null&&(i.alternate=null,v_(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Lt(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var gr=null,Ai=!1;function Ra(i,a,c){for(c=c.child;c!==null;)x_(i,a,c),c=c.sibling}function x_(i,a,c){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Fe,c)}catch{}switch(c.tag){case 26:jr||Vs(c,a),Ra(i,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:jr||Vs(c,a);var u=gr,g=Ai;Mo(c.type)&&(gr=c.stateNode,Ai=!1),Ra(i,a,c),_f(c.stateNode),gr=u,Ai=g;break;case 5:jr||Vs(c,a);case 6:if(u=gr,g=Ai,gr=null,Ra(i,a,c),gr=u,Ai=g,gr!==null)if(Ai)try{(gr.nodeType===9?gr.body:gr.nodeName==="HTML"?gr.ownerDocument.body:gr).removeChild(c.stateNode)}catch(w){Wn(c,a,w)}else try{gr.removeChild(c.stateNode)}catch(w){Wn(c,a,w)}break;case 18:gr!==null&&(Ai?(i=gr,dA(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Ku(i)):dA(gr,c.stateNode));break;case 4:u=gr,g=Ai,gr=c.stateNode.containerInfo,Ai=!0,Ra(i,a,c),gr=u,Ai=g;break;case 0:case 11:case 14:case 15:To(2,c,a),jr||To(4,c,a),Ra(i,a,c);break;case 1:jr||(Vs(c,a),u=c.stateNode,typeof u.componentWillUnmount=="function"&&f_(c,a,u)),Ra(i,a,c);break;case 21:Ra(i,a,c);break;case 22:jr=(u=jr)||c.memoizedState!==null,Ra(i,a,c),jr=u;break;default:Ra(i,a,c)}}function S_(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ku(i)}catch(c){Wn(a,a.return,c)}}}function E_(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ku(i)}catch(c){Wn(a,a.return,c)}}function qN(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new y_),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new y_),a;default:throw Error(r(435,i.tag))}}function hg(i,a){var c=qN(i);a.forEach(function(u){if(!c.has(u)){c.add(u);var g=XN.bind(null,i,u);u.then(g,g)}})}function Ti(i,a){var c=a.deletions;if(c!==null)for(var u=0;u<c.length;u++){var g=c[u],w=i,D=a,ne=D;e:for(;ne!==null;){switch(ne.tag){case 27:if(Mo(ne.type)){gr=ne.stateNode,Ai=!1;break e}break;case 5:gr=ne.stateNode,Ai=!1;break e;case 3:case 4:gr=ne.stateNode.containerInfo,Ai=!0;break e}ne=ne.return}if(gr===null)throw Error(r(160));x_(w,D,g),gr=null,Ai=!1,w=g.alternate,w!==null&&(w.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)b_(a,i),a=a.sibling}var ws=null;function b_(i,a){var c=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ti(a,i),ki(i),u&4&&(To(3,i,i.return),mf(3,i),To(5,i,i.return));break;case 1:Ti(a,i),ki(i),u&512&&(jr||c===null||Vs(c,c.return)),u&64&&Ca&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?u:c.concat(u))));break;case 26:var g=ws;if(Ti(a,i),ki(i),u&512&&(jr||c===null||Vs(c,c.return)),u&4){var w=c!==null?c.memoizedState:null;if(u=i.memoizedState,c===null)if(u===null)if(i.stateNode===null){e:{u=i.type,c=i.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":w=g.getElementsByTagName("title")[0],(!w||w[Ot]||w[Te]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=g.createElement(u),g.head.insertBefore(w,g.querySelector("head > title"))),ni(w,u,c),w[Te]=i,Dt(w),u=w;break e;case"link":var D=bA("link","href",g).get(u+(c.href||""));if(D){for(var ne=0;ne<D.length;ne++)if(w=D[ne],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){D.splice(ne,1);break t}}w=g.createElement(u),ni(w,u,c),g.head.appendChild(w);break;case"meta":if(D=bA("meta","content",g).get(u+(c.content||""))){for(ne=0;ne<D.length;ne++)if(w=D[ne],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){D.splice(ne,1);break t}}w=g.createElement(u),ni(w,u,c),g.head.appendChild(w);break;default:throw Error(r(468,u))}w[Te]=i,Dt(w),u=w}i.stateNode=u}else _A(g,i.type,i.stateNode);else i.stateNode=EA(g,u,i.memoizedProps);else w!==u?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,u===null?_A(g,i.type,i.stateNode):EA(g,u,i.memoizedProps)):u===null&&i.stateNode!==null&&fv(i,i.memoizedProps,c.memoizedProps)}break;case 27:Ti(a,i),ki(i),u&512&&(jr||c===null||Vs(c,c.return)),c!==null&&u&4&&fv(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Ti(a,i),ki(i),u&512&&(jr||c===null||Vs(c,c.return)),i.flags&32){g=i.stateNode;try{kn(g,"")}catch(jt){Wn(i,i.return,jt)}}u&4&&i.stateNode!=null&&(g=i.memoizedProps,fv(i,g,c!==null?c.memoizedProps:g)),u&1024&&(gv=!0);break;case 6:if(Ti(a,i),ki(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,c=i.stateNode;try{c.nodeValue=u}catch(jt){Wn(i,i.return,jt)}}break;case 3:if(kg=null,g=ws,ws=Ag(a.containerInfo),Ti(a,i),ws=g,ki(i),u&4&&c!==null&&c.memoizedState.isDehydrated)try{Ku(a.containerInfo)}catch(jt){Wn(i,i.return,jt)}gv&&(gv=!1,__(i));break;case 4:u=ws,ws=Ag(i.stateNode.containerInfo),Ti(a,i),ki(i),ws=u;break;case 12:Ti(a,i),ki(i);break;case 31:Ti(a,i),ki(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,hg(i,u)));break;case 13:Ti(a,i),ki(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(fg=lt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,hg(i,u)));break;case 22:g=i.memoizedState!==null;var ye=c!==null&&c.memoizedState!==null,Le=Ca,et=jr;if(Ca=Le||g,jr=et||ye,Ti(a,i),jr=et,Ca=Le,ki(i),u&8192)e:for(a=i.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(c===null||ye||Ca||jr||Xc(i)),c=null,a=i;;){if(a.tag===5||a.tag===26){if(c===null){ye=c=a;try{if(w=ye.stateNode,g)D=w.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{ne=ye.stateNode;var it=ye.memoizedProps.style,qe=it!=null&&it.hasOwnProperty("display")?it.display:null;ne.style.display=qe==null||typeof qe=="boolean"?"":(""+qe).trim()}}catch(jt){Wn(ye,ye.return,jt)}}}else if(a.tag===6){if(c===null){ye=a;try{ye.stateNode.nodeValue=g?"":ye.memoizedProps}catch(jt){Wn(ye,ye.return,jt)}}}else if(a.tag===18){if(c===null){ye=a;try{var Ye=ye.stateNode;g?fA(Ye,!0):fA(ye.stateNode,!1)}catch(jt){Wn(ye,ye.return,jt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=i.updateQueue,u!==null&&(c=u.retryQueue,c!==null&&(u.retryQueue=null,hg(i,c))));break;case 19:Ti(a,i),ki(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,hg(i,u)));break;case 30:break;case 21:break;default:Ti(a,i),ki(i)}}function ki(i){var a=i.flags;if(a&2){try{for(var c,u=i.return;u!==null;){if(p_(u)){c=u;break}u=u.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var g=c.stateNode,w=mv(i);ug(i,w,g);break;case 5:var D=c.stateNode;c.flags&32&&(kn(D,""),c.flags&=-33);var ne=mv(i);ug(i,ne,D);break;case 3:case 4:var ye=c.stateNode.containerInfo,Le=mv(i);pv(i,Le,ye);break;default:throw Error(r(161))}}catch(et){Wn(i,i.return,et)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function __(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;__(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Na(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)w_(i,a.alternate,a),a=a.sibling}function Xc(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:To(4,a,a.return),Xc(a);break;case 1:Vs(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&f_(a,a.return,c),Xc(a);break;case 27:_f(a.stateNode);case 26:case 5:Vs(a,a.return),Xc(a);break;case 22:a.memoizedState===null&&Xc(a);break;case 30:Xc(a);break;default:Xc(a)}i=i.sibling}}function Da(i,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=i,w=a,D=w.flags;switch(w.tag){case 0:case 11:case 15:Da(g,w,c),mf(4,w);break;case 1:if(Da(g,w,c),u=w,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Le){Wn(u,u.return,Le)}if(u=w,g=u.updateQueue,g!==null){var ne=u.stateNode;try{var ye=g.shared.hiddenCallbacks;if(ye!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ye.length;g++)t2(ye[g],ne)}catch(Le){Wn(u,u.return,Le)}}c&&D&64&&d_(w),pf(w,w.return);break;case 27:g_(w);case 26:case 5:Da(g,w,c),c&&u===null&&D&4&&m_(w),pf(w,w.return);break;case 12:Da(g,w,c);break;case 31:Da(g,w,c),c&&D&4&&S_(g,w);break;case 13:Da(g,w,c),c&&D&4&&E_(g,w);break;case 22:w.memoizedState===null&&Da(g,w,c),pf(w,w.return);break;case 30:break;default:Da(g,w,c)}a=a.sibling}}function yv(i,a){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&ef(c))}function wv(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&ef(i))}function vs(i,a,c,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)A_(i,a,c,u),a=a.sibling}function A_(i,a,c,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:vs(i,a,c,u),g&2048&&mf(9,a);break;case 1:vs(i,a,c,u);break;case 3:vs(i,a,c,u),g&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&ef(i)));break;case 12:if(g&2048){vs(i,a,c,u),i=a.stateNode;try{var w=a.memoizedProps,D=w.id,ne=w.onPostCommit;typeof ne=="function"&&ne(D,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ye){Wn(a,a.return,ye)}}else vs(i,a,c,u);break;case 31:vs(i,a,c,u);break;case 13:vs(i,a,c,u);break;case 23:break;case 22:w=a.stateNode,D=a.alternate,a.memoizedState!==null?w._visibility&2?vs(i,a,c,u):gf(i,a):w._visibility&2?vs(i,a,c,u):(w._visibility|=2,Pu(i,a,c,u,(a.subtreeFlags&10256)!==0||!1)),g&2048&&yv(D,a);break;case 24:vs(i,a,c,u),g&2048&&wv(a.alternate,a);break;default:vs(i,a,c,u)}}function Pu(i,a,c,u,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var w=i,D=a,ne=c,ye=u,Le=D.flags;switch(D.tag){case 0:case 11:case 15:Pu(w,D,ne,ye,g),mf(8,D);break;case 23:break;case 22:var et=D.stateNode;D.memoizedState!==null?et._visibility&2?Pu(w,D,ne,ye,g):gf(w,D):(et._visibility|=2,Pu(w,D,ne,ye,g)),g&&Le&2048&&yv(D.alternate,D);break;case 24:Pu(w,D,ne,ye,g),g&&Le&2048&&wv(D.alternate,D);break;default:Pu(w,D,ne,ye,g)}a=a.sibling}}function gf(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=i,u=a,g=u.flags;switch(u.tag){case 22:gf(c,u),g&2048&&yv(u.alternate,u);break;case 24:gf(c,u),g&2048&&wv(u.alternate,u);break;default:gf(c,u)}a=a.sibling}}var yf=8192;function ju(i,a,c){if(i.subtreeFlags&yf)for(i=i.child;i!==null;)T_(i,a,c),i=i.sibling}function T_(i,a,c){switch(i.tag){case 26:ju(i,a,c),i.flags&yf&&i.memoizedState!==null&&CD(c,ws,i.memoizedState,i.memoizedProps);break;case 5:ju(i,a,c);break;case 3:case 4:var u=ws;ws=Ag(i.stateNode.containerInfo),ju(i,a,c),ws=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=yf,yf=16777216,ju(i,a,c),yf=u):ju(i,a,c));break;default:ju(i,a,c)}}function k_(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function wf(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var u=a[c];Kr=u,C_(u,i)}k_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)I_(i),i=i.sibling}function I_(i){switch(i.tag){case 0:case 11:case 15:wf(i),i.flags&2048&&To(9,i,i.return);break;case 3:wf(i);break;case 12:wf(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,dg(i)):wf(i);break;default:wf(i)}}function dg(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var u=a[c];Kr=u,C_(u,i)}k_(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:To(8,a,a.return),dg(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,dg(a));break;default:dg(a)}i=i.sibling}}function C_(i,a){for(;Kr!==null;){var c=Kr;switch(c.tag){case 0:case 11:case 15:To(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var u=c.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ef(c.memoizedState.cache)}if(u=c.child,u!==null)u.return=c,Kr=u;else e:for(c=i;Kr!==null;){u=Kr;var g=u.sibling,w=u.return;if(v_(u),u===c){Kr=null;break e}if(g!==null){g.return=w,Kr=g;break e}Kr=w}}}var $N={getCacheForType:function(i){var a=ei(Fr),c=a.data.get(i);return c===void 0&&(c=i(),a.data.set(i,c)),c},cacheSignal:function(){return ei(Fr).controller.signal}},HN=typeof WeakMap=="function"?WeakMap:Map,Hn=0,sr=null,In=null,Nn=0,Kn=0,Bi=null,ko=!1,Vu=!1,vv=!1,Ma=0,Er=0,Io=0,Zc=0,xv=0,Ui=0,Bu=0,vf=null,Ii=null,Sv=!1,fg=0,R_=0,mg=1/0,pg=null,Co=null,qr=0,Ro=null,Uu=null,Fa=0,Ev=0,bv=null,N_=null,xf=0,_v=null;function Li(){return(Hn&2)!==0&&Nn!==0?Nn&-Nn:W.T!==null?Rv():b()}function D_(){if(Ui===0)if((Nn&536870912)===0||Pn){var i=Xt;Xt<<=1,(Xt&3932160)===0&&(Xt=262144),Ui=i}else Ui=536870912;return i=ji.current,i!==null&&(i.flags|=32),Ui}function Ci(i,a,c){(i===sr&&(Kn===2||Kn===9)||i.cancelPendingCommit!==null)&&(Lu(i,0),No(i,Nn,Ui,!1)),Gr(i,c),((Hn&2)===0||i!==sr)&&(i===sr&&((Hn&2)===0&&(Zc|=c),Er===4&&No(i,Nn,Ui,!1)),Bs(i))}function M_(i,a,c){if((Hn&6)!==0)throw Error(r(327));var u=!c&&(a&127)===0&&(a&i.expiredLanes)===0||hn(i,a),g=u?WN(i,a):Tv(i,a,!0),w=u;do{if(g===0){Vu&&!u&&No(i,a,0,!1);break}else{if(c=i.current.alternate,w&&!GN(c)){g=Tv(i,a,!1),w=!1;continue}if(g===2){if(w=a,i.errorRecoveryDisabledLanes&w)var D=0;else D=i.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){a=D;e:{var ne=i;g=vf;var ye=ne.current.memoizedState.isDehydrated;if(ye&&(Lu(ne,D).flags|=256),D=Tv(ne,D,!1),D!==2){if(vv&&!ye){ne.errorRecoveryDisabledLanes|=w,Zc|=w,g=4;break e}w=Ii,Ii=g,w!==null&&(Ii===null?Ii=w:Ii.push.apply(Ii,w))}g=D}if(w=!1,g!==2)continue}}if(g===1){Lu(i,0),No(i,a,0,!0);break}e:{switch(u=i,w=g,w){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:No(u,a,Ui,!ko);break e;case 2:Ii=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(g=fg+300-lt(),10<g)){if(No(u,a,Ui,!ko),un(u,0,!0)!==0)break e;Fa=a,u.timeoutHandle=uA(F_.bind(null,u,c,Ii,pg,Sv,a,Ui,Zc,Bu,ko,w,"Throttled",-0,0),g);break e}F_(u,c,Ii,pg,Sv,a,Ui,Zc,Bu,ko,w,null,-0,0)}}break}while(!0);Bs(i)}function F_(i,a,c,u,g,w,D,ne,ye,Le,et,it,qe,Ye){if(i.timeoutHandle=-1,it=a.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ds},T_(a,w,it);var jt=(w&62914560)===w?fg-lt():(w&4194048)===w?R_-lt():0;if(jt=RD(it,jt),jt!==null){Fa=w,i.cancelPendingCommit=jt(z_.bind(null,i,a,w,c,u,g,D,ne,ye,et,it,null,qe,Ye)),No(i,w,D,!Le);return}}z_(i,a,w,c,u,g,D,ne,ye)}function GN(i){for(var a=i;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var u=0;u<c.length;u++){var g=c[u],w=g.getSnapshot;g=g.value;try{if(!Oi(w(),g))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function No(i,a,c,u){a&=~xv,a&=~Zc,i.suspendedLanes|=a,i.pingedLanes&=~a,u&&(i.warmLanes|=a),u=i.expirationTimes;for(var g=a;0<g;){var w=31-ot(g),D=1<<w;u[w]=-1,g&=~D}c!==0&&an(i,c,a)}function gg(){return(Hn&6)===0?(Sf(0),!1):!0}function Av(){if(In!==null){if(Kn===0)var i=In.return;else i=In,ba=$c=null,Lw(i),Nu=null,nf=0,i=In;for(;i!==null;)h_(i.alternate,i),i=i.return;In=null}}function Lu(i,a){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,dD(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Fa=0,Av(),sr=i,In=c=Sa(i.current,null),Nn=a,Kn=0,Bi=null,ko=!1,Vu=hn(i,a),vv=!1,Bu=Ui=xv=Zc=Io=Er=0,Ii=vf=null,Sv=!1,(a&8)!==0&&(a|=a&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=a;0<u;){var g=31-ot(u),w=1<<g;a|=i[g],u&=~w}return Ma=a,jp(),c}function O_(i,a){xn=null,W.H=hf,a===Ru||a===Hp?(a=Qb(),Kn=3):a===Cw?(a=Qb(),Kn=4):Kn=a===rv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Bi=a,In===null&&(Er=1,sg(i,Ji(a,i.current)))}function P_(){var i=ji.current;return i===null?!0:(Nn&4194048)===Nn?es===null:(Nn&62914560)===Nn||(Nn&536870912)!==0?i===es:!1}function j_(){var i=W.H;return W.H=hf,i===null?hf:i}function V_(){var i=W.A;return W.A=$N,i}function yg(){Er=4,ko||(Nn&4194048)!==Nn&&ji.current!==null||(Vu=!0),(Io&134217727)===0&&(Zc&134217727)===0||sr===null||No(sr,Nn,Ui,!1)}function Tv(i,a,c){var u=Hn;Hn|=2;var g=j_(),w=V_();(sr!==i||Nn!==a)&&(pg=null,Lu(i,a)),a=!1;var D=Er;e:do try{if(Kn!==0&&In!==null){var ne=In,ye=Bi;switch(Kn){case 8:Av(),D=6;break e;case 3:case 2:case 9:case 6:ji.current===null&&(a=!0);var Le=Kn;if(Kn=0,Bi=null,zu(i,ne,ye,Le),c&&Vu){D=0;break e}break;default:Le=Kn,Kn=0,Bi=null,zu(i,ne,ye,Le)}}KN(),D=Er;break}catch(et){O_(i,et)}while(!0);return a&&i.shellSuspendCounter++,ba=$c=null,Hn=u,W.H=g,W.A=w,In===null&&(sr=null,Nn=0,jp()),D}function KN(){for(;In!==null;)B_(In)}function WN(i,a){var c=Hn;Hn|=2;var u=j_(),g=V_();sr!==i||Nn!==a?(pg=null,mg=lt()+500,Lu(i,a)):Vu=hn(i,a);e:do try{if(Kn!==0&&In!==null){a=In;var w=Bi;t:switch(Kn){case 1:Kn=0,Bi=null,zu(i,a,w,1);break;case 2:case 9:if(Yb(w)){Kn=0,Bi=null,U_(a);break}a=function(){Kn!==2&&Kn!==9||sr!==i||(Kn=7),Bs(i)},w.then(a,a);break e;case 3:Kn=7;break e;case 4:Kn=5;break e;case 7:Yb(w)?(Kn=0,Bi=null,U_(a)):(Kn=0,Bi=null,zu(i,a,w,7));break;case 5:var D=null;switch(In.tag){case 26:D=In.memoizedState;case 5:case 27:var ne=In;if(D?AA(D):ne.stateNode.complete){Kn=0,Bi=null;var ye=ne.sibling;if(ye!==null)In=ye;else{var Le=ne.return;Le!==null?(In=Le,wg(Le)):In=null}break t}}Kn=0,Bi=null,zu(i,a,w,5);break;case 6:Kn=0,Bi=null,zu(i,a,w,6);break;case 8:Av(),Er=6;break e;default:throw Error(r(462))}}YN();break}catch(et){O_(i,et)}while(!0);return ba=$c=null,W.H=u,W.A=g,Hn=c,In!==null?0:(sr=null,Nn=0,jp(),Er)}function YN(){for(;In!==null&&!Xe();)B_(In)}function B_(i){var a=l_(i.alternate,i,Ma);i.memoizedProps=i.pendingProps,a===null?wg(i):In=a}function U_(i){var a=i,c=a.alternate;switch(a.tag){case 15:case 0:a=r_(c,a,a.pendingProps,a.type,void 0,Nn);break;case 11:a=r_(c,a,a.pendingProps,a.type.render,a.ref,Nn);break;case 5:Lw(a);default:h_(c,a),a=In=Vb(a,Ma),a=l_(c,a,Ma)}i.memoizedProps=i.pendingProps,a===null?wg(i):In=a}function zu(i,a,c,u){ba=$c=null,Lw(a),Nu=null,nf=0;var g=a.return;try{if(jN(i,g,a,c,Nn)){Er=1,sg(i,Ji(c,i.current)),In=null;return}}catch(w){if(g!==null)throw In=g,w;Er=1,sg(i,Ji(c,i.current)),In=null;return}a.flags&32768?(Pn||u===1?i=!0:Vu||(Nn&536870912)!==0?i=!1:(ko=i=!0,(u===2||u===9||u===3||u===6)&&(u=ji.current,u!==null&&u.tag===13&&(u.flags|=16384))),L_(a,i)):wg(a)}function wg(i){var a=i;do{if((a.flags&32768)!==0){L_(a,ko);return}i=a.return;var c=UN(a.alternate,a,Ma);if(c!==null){In=c;return}if(a=a.sibling,a!==null){In=a;return}In=a=i}while(a!==null);Er===0&&(Er=5)}function L_(i,a){do{var c=LN(i.alternate,i);if(c!==null){c.flags&=32767,In=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(i=i.sibling,i!==null)){In=i;return}In=i=c}while(i!==null);Er=6,In=null}function z_(i,a,c,u,g,w,D,ne,ye){i.cancelPendingCommit=null;do vg();while(qr!==0);if((Hn&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(w=a.lanes|a.childLanes,w|=mw,qn(i,c,w,D,ne,ye),i===sr&&(In=sr=null,Nn=0),Uu=a,Ro=i,Fa=c,Ev=w,bv=g,N_=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,ZN(_,function(){return K_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,g=le.p,le.p=2,D=Hn,Hn|=4;try{zN(i,a,c)}finally{Hn=D,le.p=g,W.T=u}}qr=1,q_(),$_(),H_()}}function q_(){if(qr===1){qr=0;var i=Ro,a=Uu,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=W.T,W.T=null;var u=le.p;le.p=2;var g=Hn;Hn|=4;try{b_(a,i);var w=Vv,D=Cb(i.containerInfo),ne=w.focusedElem,ye=w.selectionRange;if(D!==ne&&ne&&ne.ownerDocument&&Ib(ne.ownerDocument.documentElement,ne)){if(ye!==null&&lw(ne)){var Le=ye.start,et=ye.end;if(et===void 0&&(et=Le),"selectionStart"in ne)ne.selectionStart=Le,ne.selectionEnd=Math.min(et,ne.value.length);else{var it=ne.ownerDocument||document,qe=it&&it.defaultView||window;if(qe.getSelection){var Ye=qe.getSelection(),jt=ne.textContent.length,Zt=Math.min(ye.start,jt),tr=ye.end===void 0?Zt:Math.min(ye.end,jt);!Ye.extend&&Zt>tr&&(D=tr,tr=Zt,Zt=D);var Oe=kb(ne,Zt),Ce=kb(ne,tr);if(Oe&&Ce&&(Ye.rangeCount!==1||Ye.anchorNode!==Oe.node||Ye.anchorOffset!==Oe.offset||Ye.focusNode!==Ce.node||Ye.focusOffset!==Ce.offset)){var Ue=it.createRange();Ue.setStart(Oe.node,Oe.offset),Ye.removeAllRanges(),Zt>tr?(Ye.addRange(Ue),Ye.extend(Ce.node,Ce.offset)):(Ue.setEnd(Ce.node,Ce.offset),Ye.addRange(Ue))}}}}for(it=[],Ye=ne;Ye=Ye.parentNode;)Ye.nodeType===1&&it.push({element:Ye,left:Ye.scrollLeft,top:Ye.scrollTop});for(typeof ne.focus=="function"&&ne.focus(),ne=0;ne<it.length;ne++){var tt=it[ne];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Ng=!!jv,Vv=jv=null}finally{Hn=g,le.p=u,W.T=c}}i.current=a,qr=2}}function $_(){if(qr===2){qr=0;var i=Ro,a=Uu,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=W.T,W.T=null;var u=le.p;le.p=2;var g=Hn;Hn|=4;try{w_(i,a.alternate,a)}finally{Hn=g,le.p=u,W.T=c}}qr=3}}function H_(){if(qr===4||qr===3){qr=0,We();var i=Ro,a=Uu,c=Fa,u=N_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?qr=5:(qr=0,Uu=Ro=null,G_(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Co=null),X(c),a=a.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Fe,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=W.T,g=le.p,le.p=2,W.T=null;try{for(var w=i.onRecoverableError,D=0;D<u.length;D++){var ne=u[D];w(ne.value,{componentStack:ne.stack})}}finally{W.T=a,le.p=g}}(Fa&3)!==0&&vg(),Bs(i),g=i.pendingLanes,(c&261930)!==0&&(g&42)!==0?i===_v?xf++:(xf=0,_v=i):xf=0,Sf(0)}}function G_(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,ef(a)))}function vg(){return q_(),$_(),H_(),K_()}function K_(){if(qr!==5)return!1;var i=Ro,a=Ev;Ev=0;var c=X(Fa),u=W.T,g=le.p;try{le.p=32>c?32:c,W.T=null,c=bv,bv=null;var w=Ro,D=Fa;if(qr=0,Uu=Ro=null,Fa=0,(Hn&6)!==0)throw Error(r(331));var ne=Hn;if(Hn|=4,I_(w.current),A_(w,w.current,D,c),Hn=ne,Sf(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Fe,w)}catch{}return!0}finally{le.p=g,W.T=u,G_(i,a)}}function W_(i,a,c){a=Ji(c,a),a=nv(i.stateNode,a,2),i=bo(i,a,2),i!==null&&(Gr(i,2),Bs(i))}function Wn(i,a,c){if(i.tag===3)W_(i,i,c);else for(;a!==null;){if(a.tag===3){W_(a,i,c);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Co===null||!Co.has(u))){i=Ji(c,i),c=Y2(2),u=bo(a,c,2),u!==null&&(J2(c,u,a,i),Gr(u,2),Bs(u));break}}a=a.return}}function kv(i,a,c){var u=i.pingCache;if(u===null){u=i.pingCache=new HN;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(c)||(vv=!0,g.add(c),i=JN.bind(null,i,a,c),a.then(i,i))}function JN(i,a,c){var u=i.pingCache;u!==null&&u.delete(a),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,sr===i&&(Nn&c)===c&&(Er===4||Er===3&&(Nn&62914560)===Nn&&300>lt()-fg?(Hn&2)===0&&Lu(i,0):xv|=c,Bu===Nn&&(Bu=0)),Bs(i)}function Y_(i,a){a===0&&(a=jn()),i=Lc(i,a),i!==null&&(Gr(i,a),Bs(i))}function QN(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),Y_(i,c)}function XN(i,a){var c=0;switch(i.tag){case 31:case 13:var u=i.stateNode,g=i.memoizedState;g!==null&&(c=g.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(a),Y_(i,c)}function ZN(i,a){return Se(i,a)}var xg=null,qu=null,Iv=!1,Sg=!1,Cv=!1,Do=0;function Bs(i){i!==qu&&i.next===null&&(qu===null?xg=qu=i:qu=qu.next=i),Sg=!0,Iv||(Iv=!0,tD())}function Sf(i,a){if(!Cv&&Sg){Cv=!0;do for(var c=!1,u=xg;u!==null;){if(i!==0){var g=u.pendingLanes;if(g===0)var w=0;else{var D=u.suspendedLanes,ne=u.pingedLanes;w=(1<<31-ot(42|i)+1)-1,w&=g&~(D&~ne),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,Z_(u,w))}else w=Nn,w=un(u,u===sr?w:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(w&3)===0||hn(u,w)||(c=!0,Z_(u,w));u=u.next}while(c);Cv=!1}}function eD(){J_()}function J_(){Sg=Iv=!1;var i=0;Do!==0&&hD()&&(i=Do);for(var a=lt(),c=null,u=xg;u!==null;){var g=u.next,w=Q_(u,a);w===0?(u.next=null,c===null?xg=g:c.next=g,g===null&&(qu=c)):(c=u,(i!==0||(w&3)!==0)&&(Sg=!0)),u=g}qr!==0&&qr!==5||Sf(i),Do!==0&&(Do=0)}function Q_(i,a){for(var c=i.suspendedLanes,u=i.pingedLanes,g=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var D=31-ot(w),ne=1<<D,ye=g[D];ye===-1?((ne&c)===0||(ne&u)!==0)&&(g[D]=Hr(ne,a)):ye<=a&&(i.expiredLanes|=ne),w&=~ne}if(a=sr,c=Nn,c=un(i,i===a?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,c===0||i===a&&(Kn===2||Kn===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Be(u),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||hn(i,c)){if(a=c&-c,a===i.callbackPriority)return a;switch(u!==null&&Be(u),X(c)){case 2:case 8:c=z;break;case 32:c=_;break;case 268435456:c=ae;break;default:c=_}return u=X_.bind(null,i),c=Se(c,u),i.callbackPriority=a,i.callbackNode=c,a}return u!==null&&u!==null&&Be(u),i.callbackPriority=2,i.callbackNode=null,2}function X_(i,a){if(qr!==0&&qr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(vg()&&i.callbackNode!==c)return null;var u=Nn;return u=un(i,i===sr?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(M_(i,u,a),Q_(i,lt()),i.callbackNode!=null&&i.callbackNode===c?X_.bind(null,i):null)}function Z_(i,a){if(vg())return null;M_(i,a,!0)}function tD(){fD(function(){(Hn&6)!==0?Se(Nt,eD):J_()})}function Rv(){if(Do===0){var i=Iu;i===0&&(i=An,An<<=1,(An&261888)===0&&(An=256)),Do=i}return Do}function eA(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:fu(""+i)}function tA(i,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,i.id&&c.setAttribute("form",i.id),a.parentNode.insertBefore(c,a),i=new FormData(i),c.parentNode.removeChild(c),i}function nD(i,a,c,u,g){if(a==="submit"&&c&&c.stateNode===g){var w=eA((g[ze]||null).action),D=u.submitter;D&&(a=(a=D[ze]||null)?eA(a.formAction):D.getAttribute("formAction"),a!==null&&(w=a,D=null));var ne=new Ds("action","action",null,u,g);i.push({event:ne,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Do!==0){var ye=D?tA(g,D):new FormData(g);Jw(c,{pending:!0,data:ye,method:g.method,action:w},null,ye)}}else typeof w=="function"&&(ne.preventDefault(),ye=D?tA(g,D):new FormData(g),Jw(c,{pending:!0,data:ye,method:g.method,action:w},w,ye))},currentTarget:g}]})}}for(var Nv=0;Nv<fw.length;Nv++){var Dv=fw[Nv],rD=Dv.toLowerCase(),iD=Dv[0].toUpperCase()+Dv.slice(1);ys(rD,"on"+iD)}ys(Db,"onAnimationEnd"),ys(Mb,"onAnimationIteration"),ys(Fb,"onAnimationStart"),ys("dblclick","onDoubleClick"),ys("focusin","onFocus"),ys("focusout","onBlur"),ys(xN,"onTransitionRun"),ys(SN,"onTransitionStart"),ys(EN,"onTransitionCancel"),ys(Ob,"onTransitionEnd"),Tt("onMouseEnter",["mouseout","mouseover"]),Tt("onMouseLeave",["mouseout","mouseover"]),Tt("onPointerEnter",["pointerout","pointerover"]),Tt("onPointerLeave",["pointerout","pointerover"]),vt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vt("onBeforeInput",["compositionend","keypress","textInput","paste"]),vt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ef="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ef));function nA(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var u=i[c],g=u.event;u=u.listeners;e:{var w=void 0;if(a)for(var D=u.length-1;0<=D;D--){var ne=u[D],ye=ne.instance,Le=ne.currentTarget;if(ne=ne.listener,ye!==w&&g.isPropagationStopped())break e;w=ne,g.currentTarget=Le;try{w(g)}catch(et){Pp(et)}g.currentTarget=null,w=ye}else for(D=0;D<u.length;D++){if(ne=u[D],ye=ne.instance,Le=ne.currentTarget,ne=ne.listener,ye!==w&&g.isPropagationStopped())break e;w=ne,g.currentTarget=Le;try{w(g)}catch(et){Pp(et)}g.currentTarget=null,w=ye}}}}function Cn(i,a){var c=a[kt];c===void 0&&(c=a[kt]=new Set);var u=i+"__bubble";c.has(u)||(rA(a,i,2,!1),c.add(u))}function Mv(i,a,c){var u=0;a&&(u|=4),rA(c,i,u,a)}var Eg="_reactListening"+Math.random().toString(36).slice(2);function Fv(i){if(!i[Eg]){i[Eg]=!0,It.forEach(function(c){c!=="selectionchange"&&(sD.has(c)||Mv(c,!1,i),Mv(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Eg]||(a[Eg]=!0,Mv("selectionchange",!1,a))}}function rA(i,a,c,u){switch(DA(a)){case 2:var g=MD;break;case 8:g=FD;break;default:g=Yv}c=g.bind(null,a,c,i),g=void 0,!Mc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?i.addEventListener(a,c,{capture:!0,passive:g}):i.addEventListener(a,c,!0):g!==void 0?i.addEventListener(a,c,{passive:g}):i.addEventListener(a,c,!1)}function Ov(i,a,c,u,g){var w=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var D=u.tag;if(D===3||D===4){var ne=u.stateNode.containerInfo;if(ne===g)break;if(D===4)for(D=u.return;D!==null;){var ye=D.tag;if((ye===3||ye===4)&&D.stateNode.containerInfo===g)return;D=D.return}for(;ne!==null;){if(D=zt(ne),D===null)return;if(ye=D.tag,ye===5||ye===6||ye===26||ye===27){u=w=D;continue e}ne=ne.parentNode}}u=u.return}fo(function(){var Le=w,et=Gi(c),it=[];e:{var qe=Pb.get(i);if(qe!==void 0){var Ye=Ds,jt=i;switch(i){case"keypress":if(Oc(c)===0)break e;case"keydown":case"keyup":Ye=Mp;break;case"focusin":jt="focus",Ye=jc;break;case"focusout":jt="blur",Ye=jc;break;case"beforeblur":case"afterblur":Ye=jc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ye=Gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ye=_p;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ye=k;break;case Db:case Mb:case Fb:Ye=Tp;break;case Ob:Ye=oe;break;case"scroll":case"scrollend":Ye=Hd;break;case"wheel":Ye=Ke;break;case"copy":case"cut":case"paste":Ye=kp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ye=xa;break;case"toggle":case"beforetoggle":Ye=vn}var Zt=(a&4)!==0,tr=!Zt&&(i==="scroll"||i==="scrollend"),Oe=Zt?qe!==null?qe+"Capture":null:qe;Zt=[];for(var Ce=Le,Ue;Ce!==null;){var tt=Ce;if(Ue=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||Ue===null||Oe===null||(tt=fs(Ce,Oe),tt!=null&&Zt.push(bf(Ce,tt,Ue))),tr)break;Ce=Ce.return}0<Zt.length&&(qe=new Ye(qe,jt,null,c,et),it.push({event:qe,listeners:Zt}))}}if((a&7)===0){e:{if(qe=i==="mouseover"||i==="pointerover",Ye=i==="mouseout"||i==="pointerout",qe&&c!==zd&&(jt=c.relatedTarget||c.fromElement)&&(zt(jt)||jt[ct]))break e;if((Ye||qe)&&(qe=et.window===et?et:(qe=et.ownerDocument)?qe.defaultView||qe.parentWindow:window,Ye?(jt=c.relatedTarget||c.toElement,Ye=Le,jt=jt?zt(jt):null,jt!==null&&(tr=o(jt),Zt=jt.tag,jt!==tr||Zt!==5&&Zt!==27&&Zt!==6)&&(jt=null)):(Ye=null,jt=Le),Ye!==jt)){if(Zt=Gd,tt="onMouseLeave",Oe="onMouseEnter",Ce="mouse",(i==="pointerout"||i==="pointerover")&&(Zt=xa,tt="onPointerLeave",Oe="onPointerEnter",Ce="pointer"),tr=Ye==null?qe:Bt(Ye),Ue=jt==null?qe:Bt(jt),qe=new Zt(tt,Ce+"leave",Ye,c,et),qe.target=tr,qe.relatedTarget=Ue,tt=null,zt(et)===Le&&(Zt=new Zt(Oe,Ce+"enter",jt,c,et),Zt.target=Ue,Zt.relatedTarget=tr,tt=Zt),tr=tt,Ye&&jt)t:{for(Zt=aD,Oe=Ye,Ce=jt,Ue=0,tt=Oe;tt;tt=Zt(tt))Ue++;tt=0;for(var Yt=Ce;Yt;Yt=Zt(Yt))tt++;for(;0<Ue-tt;)Oe=Zt(Oe),Ue--;for(;0<tt-Ue;)Ce=Zt(Ce),tt--;for(;Ue--;){if(Oe===Ce||Ce!==null&&Oe===Ce.alternate){Zt=Oe;break t}Oe=Zt(Oe),Ce=Zt(Ce)}Zt=null}else Zt=null;Ye!==null&&iA(it,qe,Ye,Zt,!1),jt!==null&&tr!==null&&iA(it,tr,jt,Zt,!0)}}e:{if(qe=Le?Bt(Le):window,Ye=qe.nodeName&&qe.nodeName.toLowerCase(),Ye==="select"||Ye==="input"&&qe.type==="file")var Un=Sb;else if(vb(qe))if(Eb)Un=yN;else{Un=pN;var $t=mN}else Ye=qe.nodeName,!Ye||Ye.toLowerCase()!=="input"||qe.type!=="checkbox"&&qe.type!=="radio"?Le&&yr(Le.elementType)&&(Un=Sb):Un=gN;if(Un&&(Un=Un(i,Le))){xb(it,Un,c,et);break e}$t&&$t(i,qe,Le),i==="focusout"&&Le&&qe.type==="number"&&Le.memoizedProps.value!=null&&_n(qe,"number",qe.value)}switch($t=Le?Bt(Le):window,i){case"focusin":(vb($t)||$t.contentEditable==="true")&&(xu=$t,uw=Le,Qd=null);break;case"focusout":Qd=uw=xu=null;break;case"mousedown":hw=!0;break;case"contextmenu":case"mouseup":case"dragend":hw=!1,Rb(it,c,et);break;case"selectionchange":if(vN)break;case"keydown":case"keyup":Rb(it,c,et)}var Sn;if($n)e:{switch(i){case"compositionstart":var Dn="onCompositionStart";break e;case"compositionend":Dn="onCompositionEnd";break e;case"compositionupdate":Dn="onCompositionUpdate";break e}Dn=void 0}else vu?Vc(i,c)&&(Dn="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Dn="onCompositionStart");Dn&&(Os&&c.locale!=="ko"&&(vu||Dn!=="onCompositionStart"?Dn==="onCompositionEnd"&&vu&&(Sn=$d()):(Ns=et,qd="value"in Ns?Ns.value:Ns.textContent,vu=!0)),$t=bg(Le,Dn),0<$t.length&&(Dn=new Fs(Dn,i,null,c,et),it.push({event:Dn,listeners:$t}),Sn?Dn.data=Sn:(Sn=wu(c),Sn!==null&&(Dn.data=Sn)))),(Sn=Wi?uN(i,c):hN(i,c))&&(Dn=bg(Le,"onBeforeInput"),0<Dn.length&&($t=new Fs("onBeforeInput","beforeinput",null,c,et),it.push({event:$t,listeners:Dn}),$t.data=Sn)),nD(it,i,Le,c,et)}nA(it,a)})}function bf(i,a,c){return{instance:i,listener:a,currentTarget:c}}function bg(i,a){for(var c=a+"Capture",u=[];i!==null;){var g=i,w=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||w===null||(g=fs(i,c),g!=null&&u.unshift(bf(i,g,w)),g=fs(i,a),g!=null&&u.push(bf(i,g,w))),i.tag===3)return u;i=i.return}return[]}function aD(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function iA(i,a,c,u,g){for(var w=a._reactName,D=[];c!==null&&c!==u;){var ne=c,ye=ne.alternate,Le=ne.stateNode;if(ne=ne.tag,ye!==null&&ye===u)break;ne!==5&&ne!==26&&ne!==27||Le===null||(ye=Le,g?(Le=fs(c,w),Le!=null&&D.unshift(bf(c,Le,ye))):g||(Le=fs(c,w),Le!=null&&D.push(bf(c,Le,ye)))),c=c.return}D.length!==0&&i.push({event:a,listeners:D})}var oD=/\r\n?/g,cD=/\u0000|\uFFFD/g;function sA(i){return(typeof i=="string"?i:""+i).replace(oD,`
`).replace(cD,"")}function aA(i,a){return a=sA(a),sA(i)===a}function er(i,a,c,u,g,w){switch(c){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||kn(i,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&kn(i,""+u);break;case"className":Ze(i,"class",u);break;case"tabIndex":Ze(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ze(i,c,u);break;case"style":ur(i,u,w);break;case"data":if(a!=="object"){Ze(i,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||c!=="href")){i.removeAttribute(c);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(c);break}u=fu(""+u),i.setAttribute(c,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(a!=="input"&&er(i,a,"name",g.name,g,null),er(i,a,"formEncType",g.formEncType,g,null),er(i,a,"formMethod",g.formMethod,g,null),er(i,a,"formTarget",g.formTarget,g,null)):(er(i,a,"encType",g.encType,g,null),er(i,a,"method",g.method,g,null),er(i,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(c);break}u=fu(""+u),i.setAttribute(c,u);break;case"onClick":u!=null&&(i.onclick=ds);break;case"onScroll":u!=null&&Cn("scroll",i);break;case"onScrollEnd":u!=null&&Cn("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(c=u.__html,c!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}c=fu(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(c,""+u):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":u===!0?i.setAttribute(c,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(c,u):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(c,u):i.removeAttribute(c);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(c):i.setAttribute(c,u);break;case"popover":Cn("beforetoggle",i),Cn("toggle",i),ut(i,"popover",u);break;case"xlinkActuate":Qe(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Qe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Qe(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Qe(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Qe(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Qe(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Qe(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Qe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Qe(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ut(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Ar.get(c)||c,ut(i,c,u))}}function Pv(i,a,c,u,g,w){switch(c){case"style":ur(i,u,w);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(c=u.__html,c!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof u=="string"?kn(i,u):(typeof u=="number"||typeof u=="bigint")&&kn(i,""+u);break;case"onScroll":u!=null&&Cn("scroll",i);break;case"onScrollEnd":u!=null&&Cn("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ds);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pt.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),a=c.slice(2,g?c.length-7:void 0),w=i[ze]||null,w=w!=null?w[c]:null,typeof w=="function"&&i.removeEventListener(a,w,g),typeof u=="function")){typeof w!="function"&&w!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(a,u,g);break e}c in i?i[c]=u:u===!0?i.setAttribute(c,""):ut(i,c,u)}}}function ni(i,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Cn("error",i),Cn("load",i);var u=!1,g=!1,w;for(w in c)if(c.hasOwnProperty(w)){var D=c[w];if(D!=null)switch(w){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:er(i,a,w,D,c,null)}}g&&er(i,a,"srcSet",c.srcSet,c,null),u&&er(i,a,"src",c.src,c,null);return;case"input":Cn("invalid",i);var ne=w=D=g=null,ye=null,Le=null;for(u in c)if(c.hasOwnProperty(u)){var et=c[u];if(et!=null)switch(u){case"name":g=et;break;case"type":D=et;break;case"checked":ye=et;break;case"defaultChecked":Le=et;break;case"value":w=et;break;case"defaultValue":ne=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(137,a));break;default:er(i,a,u,et,c,null)}}dn(i,w,ne,ye,Le,D,g,!1);return;case"select":Cn("invalid",i),u=D=w=null;for(g in c)if(c.hasOwnProperty(g)&&(ne=c[g],ne!=null))switch(g){case"value":w=ne;break;case"defaultValue":D=ne;break;case"multiple":u=ne;default:er(i,a,g,ne,c,null)}a=w,c=D,i.multiple=!!u,a!=null?wn(i,!!u,a,!1):c!=null&&wn(i,!!u,c,!0);return;case"textarea":Cn("invalid",i),w=g=u=null;for(D in c)if(c.hasOwnProperty(D)&&(ne=c[D],ne!=null))switch(D){case"value":u=ne;break;case"defaultValue":g=ne;break;case"children":w=ne;break;case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(91));break;default:er(i,a,D,ne,c,null)}Tn(i,u,g,w);return;case"option":for(ye in c)if(c.hasOwnProperty(ye)&&(u=c[ye],u!=null))switch(ye){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:er(i,a,ye,u,c,null)}return;case"dialog":Cn("beforetoggle",i),Cn("toggle",i),Cn("cancel",i),Cn("close",i);break;case"iframe":case"object":Cn("load",i);break;case"video":case"audio":for(u=0;u<Ef.length;u++)Cn(Ef[u],i);break;case"image":Cn("error",i),Cn("load",i);break;case"details":Cn("toggle",i);break;case"embed":case"source":case"link":Cn("error",i),Cn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in c)if(c.hasOwnProperty(Le)&&(u=c[Le],u!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:er(i,a,Le,u,c,null)}return;default:if(yr(a)){for(et in c)c.hasOwnProperty(et)&&(u=c[et],u!==void 0&&Pv(i,a,et,u,c,void 0));return}}for(ne in c)c.hasOwnProperty(ne)&&(u=c[ne],u!=null&&er(i,a,ne,u,c,null))}function lD(i,a,c,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,w=null,D=null,ne=null,ye=null,Le=null,et=null;for(Ye in c){var it=c[Ye];if(c.hasOwnProperty(Ye)&&it!=null)switch(Ye){case"checked":break;case"value":break;case"defaultValue":ye=it;default:u.hasOwnProperty(Ye)||er(i,a,Ye,null,u,it)}}for(var qe in u){var Ye=u[qe];if(it=c[qe],u.hasOwnProperty(qe)&&(Ye!=null||it!=null))switch(qe){case"type":w=Ye;break;case"name":g=Ye;break;case"checked":Le=Ye;break;case"defaultChecked":et=Ye;break;case"value":D=Ye;break;case"defaultValue":ne=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(r(137,a));break;default:Ye!==it&&er(i,a,qe,Ye,u,it)}}bn(i,D,ne,ye,Le,et,w,g);return;case"select":Ye=D=ne=qe=null;for(w in c)if(ye=c[w],c.hasOwnProperty(w)&&ye!=null)switch(w){case"value":break;case"multiple":Ye=ye;default:u.hasOwnProperty(w)||er(i,a,w,null,u,ye)}for(g in u)if(w=u[g],ye=c[g],u.hasOwnProperty(g)&&(w!=null||ye!=null))switch(g){case"value":qe=w;break;case"defaultValue":ne=w;break;case"multiple":D=w;default:w!==ye&&er(i,a,g,w,u,ye)}a=ne,c=D,u=Ye,qe!=null?wn(i,!!c,qe,!1):!!u!=!!c&&(a!=null?wn(i,!!c,a,!0):wn(i,!!c,c?[]:"",!1));return;case"textarea":Ye=qe=null;for(ne in c)if(g=c[ne],c.hasOwnProperty(ne)&&g!=null&&!u.hasOwnProperty(ne))switch(ne){case"value":break;case"children":break;default:er(i,a,ne,null,u,g)}for(D in u)if(g=u[D],w=c[D],u.hasOwnProperty(D)&&(g!=null||w!=null))switch(D){case"value":qe=g;break;case"defaultValue":Ye=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==w&&er(i,a,D,g,u,w)}cr(i,qe,Ye);return;case"option":for(var jt in c)if(qe=c[jt],c.hasOwnProperty(jt)&&qe!=null&&!u.hasOwnProperty(jt))switch(jt){case"selected":i.selected=!1;break;default:er(i,a,jt,null,u,qe)}for(ye in u)if(qe=u[ye],Ye=c[ye],u.hasOwnProperty(ye)&&qe!==Ye&&(qe!=null||Ye!=null))switch(ye){case"selected":i.selected=qe&&typeof qe!="function"&&typeof qe!="symbol";break;default:er(i,a,ye,qe,u,Ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Zt in c)qe=c[Zt],c.hasOwnProperty(Zt)&&qe!=null&&!u.hasOwnProperty(Zt)&&er(i,a,Zt,null,u,qe);for(Le in u)if(qe=u[Le],Ye=c[Le],u.hasOwnProperty(Le)&&qe!==Ye&&(qe!=null||Ye!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(r(137,a));break;default:er(i,a,Le,qe,u,Ye)}return;default:if(yr(a)){for(var tr in c)qe=c[tr],c.hasOwnProperty(tr)&&qe!==void 0&&!u.hasOwnProperty(tr)&&Pv(i,a,tr,void 0,u,qe);for(et in u)qe=u[et],Ye=c[et],!u.hasOwnProperty(et)||qe===Ye||qe===void 0&&Ye===void 0||Pv(i,a,et,qe,u,Ye);return}}for(var Oe in c)qe=c[Oe],c.hasOwnProperty(Oe)&&qe!=null&&!u.hasOwnProperty(Oe)&&er(i,a,Oe,null,u,qe);for(it in u)qe=u[it],Ye=c[it],!u.hasOwnProperty(it)||qe===Ye||qe==null&&Ye==null||er(i,a,it,qe,u,Ye)}function oA(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uD(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,c=performance.getEntriesByType("resource"),u=0;u<c.length;u++){var g=c[u],w=g.transferSize,D=g.initiatorType,ne=g.duration;if(w&&ne&&oA(D)){for(D=0,ne=g.responseEnd,u+=1;u<c.length;u++){var ye=c[u],Le=ye.startTime;if(Le>ne)break;var et=ye.transferSize,it=ye.initiatorType;et&&oA(it)&&(ye=ye.responseEnd,D+=et*(ye<ne?1:(ne-Le)/(ye-Le)))}if(--u,a+=8*(w+D)/(g.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var jv=null,Vv=null;function _g(i){return i.nodeType===9?i:i.ownerDocument}function cA(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lA(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Bv(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Uv=null;function hD(){var i=window.event;return i&&i.type==="popstate"?i===Uv?!1:(Uv=i,!0):(Uv=null,!1)}var uA=typeof setTimeout=="function"?setTimeout:void 0,dD=typeof clearTimeout=="function"?clearTimeout:void 0,hA=typeof Promise=="function"?Promise:void 0,fD=typeof queueMicrotask=="function"?queueMicrotask:typeof hA<"u"?function(i){return hA.resolve(null).then(i).catch(mD)}:uA;function mD(i){setTimeout(function(){throw i})}function Mo(i){return i==="head"}function dA(i,a){var c=a,u=0;do{var g=c.nextSibling;if(i.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"||c==="/&"){if(u===0){i.removeChild(g),Ku(a);return}u--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")u++;else if(c==="html")_f(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,_f(c);for(var w=c.firstChild;w;){var D=w.nextSibling,ne=w.nodeName;w[Ot]||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=D}}else c==="body"&&_f(i.ownerDocument.body);c=g}while(c);Ku(a)}function fA(i,a){var c=i;i=0;do{var u=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),u&&u.nodeType===8)if(c=u.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=u}while(c)}function Lv(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Lv(c),Lt(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function pD(i,a,c,u){for(;i.nodeType===1;){var g=c;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ot])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var w=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=ts(i.nextSibling),i===null)break}return null}function gD(i,a,c){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=ts(i.nextSibling),i===null))return null;return i}function mA(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=ts(i.nextSibling),i===null))return null;return i}function zv(i){return i.data==="$?"||i.data==="$~"}function qv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function yD(i,a){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||c.readyState!=="loading")a();else{var u=function(){a(),c.removeEventListener("DOMContentLoaded",u)};c.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ts(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var $v=null;function pA(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(a===0)return ts(i.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}i=i.nextSibling}return null}function gA(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return i;a--}else c!=="/$"&&c!=="/&"||a++}i=i.previousSibling}return null}function yA(i,a,c){switch(a=_g(c),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function _f(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Lt(i)}var ns=new Map,wA=new Set;function Ag(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Oa=le.d;le.d={f:wD,r:vD,D:xD,C:SD,L:ED,m:bD,X:AD,S:_D,M:TD};function wD(){var i=Oa.f(),a=gg();return i||a}function vD(i){var a=Ht(i);a!==null&&a.tag===5&&a.type==="form"?O2(a):Oa.r(i)}var $u=typeof document>"u"?null:document;function vA(i,a,c){var u=$u;if(u&&typeof a=="string"&&a){var g=rn(a);g='link[rel="'+i+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),wA.has(g)||(wA.add(g),i={rel:i,crossOrigin:c,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),ni(a,"link",i),Dt(a),u.head.appendChild(a)))}}function xD(i){Oa.D(i),vA("dns-prefetch",i,null)}function SD(i,a){Oa.C(i,a),vA("preconnect",i,a)}function ED(i,a,c){Oa.L(i,a,c);var u=$u;if(u&&i&&a){var g='link[rel="preload"][as="'+rn(a)+'"]';a==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+rn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+rn(c.imageSizes)+'"]')):g+='[href="'+rn(i)+'"]';var w=g;switch(a){case"style":w=Hu(i);break;case"script":w=Gu(i)}ns.has(w)||(i=S({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:i,as:a},c),ns.set(w,i),u.querySelector(g)!==null||a==="style"&&u.querySelector(Af(w))||a==="script"&&u.querySelector(Tf(w))||(a=u.createElement("link"),ni(a,"link",i),Dt(a),u.head.appendChild(a)))}}function bD(i,a){Oa.m(i,a);var c=$u;if(c&&i){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+rn(u)+'"][href="'+rn(i)+'"]',w=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Gu(i)}if(!ns.has(w)&&(i=S({rel:"modulepreload",href:i},a),ns.set(w,i),c.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Tf(w)))return}u=c.createElement("link"),ni(u,"link",i),Dt(u),c.head.appendChild(u)}}}function _D(i,a,c){Oa.S(i,a,c);var u=$u;if(u&&i){var g=Gt(u).hoistableStyles,w=Hu(i);a=a||"default";var D=g.get(w);if(!D){var ne={loading:0,preload:null};if(D=u.querySelector(Af(w)))ne.loading=5;else{i=S({rel:"stylesheet",href:i,"data-precedence":a},c),(c=ns.get(w))&&Hv(i,c);var ye=D=u.createElement("link");Dt(ye),ni(ye,"link",i),ye._p=new Promise(function(Le,et){ye.onload=Le,ye.onerror=et}),ye.addEventListener("load",function(){ne.loading|=1}),ye.addEventListener("error",function(){ne.loading|=2}),ne.loading|=4,Tg(D,a,u)}D={type:"stylesheet",instance:D,count:1,state:ne},g.set(w,D)}}}function AD(i,a){Oa.X(i,a);var c=$u;if(c&&i){var u=Gt(c).hoistableScripts,g=Gu(i),w=u.get(g);w||(w=c.querySelector(Tf(g)),w||(i=S({src:i,async:!0},a),(a=ns.get(g))&&Gv(i,a),w=c.createElement("script"),Dt(w),ni(w,"link",i),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},u.set(g,w))}}function TD(i,a){Oa.M(i,a);var c=$u;if(c&&i){var u=Gt(c).hoistableScripts,g=Gu(i),w=u.get(g);w||(w=c.querySelector(Tf(g)),w||(i=S({src:i,async:!0,type:"module"},a),(a=ns.get(g))&&Gv(i,a),w=c.createElement("script"),Dt(w),ni(w,"link",i),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},u.set(g,w))}}function xA(i,a,c,u){var g=(g=Ae.current)?Ag(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=Hu(c.href),c=Gt(g).hoistableStyles,u=c.get(a),u||(u={type:"style",instance:null,count:0,state:null},c.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Hu(c.href);var w=Gt(g).hoistableStyles,D=w.get(i);if(D||(g=g.ownerDocument||g,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,D),(w=g.querySelector(Af(i)))&&!w._p&&(D.instance=w,D.state.loading=5),ns.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ns.set(i,c),w||kD(g,i,c,D.state))),a&&u===null)throw Error(r(528,""));return D}if(a&&u!==null)throw Error(r(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Gu(c),c=Gt(g).hoistableScripts,u=c.get(a),u||(u={type:"script",instance:null,count:0,state:null},c.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Hu(i){return'href="'+rn(i)+'"'}function Af(i){return'link[rel="stylesheet"]['+i+"]"}function SA(i){return S({},i,{"data-precedence":i.precedence,precedence:null})}function kD(i,a,c,u){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=i.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),ni(a,"link",c),Dt(a),i.head.appendChild(a))}function Gu(i){return'[src="'+rn(i)+'"]'}function Tf(i){return"script[async]"+i}function EA(i,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var u=i.querySelector('style[data-href~="'+rn(c.href)+'"]');if(u)return a.instance=u,Dt(u),u;var g=S({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Dt(u),ni(u,"style",g),Tg(u,c.precedence,i),a.instance=u;case"stylesheet":g=Hu(c.href);var w=i.querySelector(Af(g));if(w)return a.state.loading|=4,a.instance=w,Dt(w),w;u=SA(c),(g=ns.get(g))&&Hv(u,g),w=(i.ownerDocument||i).createElement("link"),Dt(w);var D=w;return D._p=new Promise(function(ne,ye){D.onload=ne,D.onerror=ye}),ni(w,"link",u),a.state.loading|=4,Tg(w,c.precedence,i),a.instance=w;case"script":return w=Gu(c.src),(g=i.querySelector(Tf(w)))?(a.instance=g,Dt(g),g):(u=c,(g=ns.get(w))&&(u=S({},c),Gv(u,g)),i=i.ownerDocument||i,g=i.createElement("script"),Dt(g),ni(g,"link",u),i.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Tg(u,c.precedence,i));return a.instance}function Tg(i,a,c){for(var u=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,w=g,D=0;D<u.length;D++){var ne=u[D];if(ne.dataset.precedence===a)w=ne;else if(w!==g)break}w?w.parentNode.insertBefore(i,w.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(i,a.firstChild))}function Hv(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Gv(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var kg=null;function bA(i,a,c){if(kg===null){var u=new Map,g=kg=new Map;g.set(c,u)}else g=kg,u=g.get(c),u||(u=new Map,g.set(c,u));if(u.has(i))return u;for(u.set(i,null),c=c.getElementsByTagName(i),g=0;g<c.length;g++){var w=c[g];if(!(w[Ot]||w[Te]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var D=w.getAttribute(a)||"";D=i+D;var ne=u.get(D);ne?ne.push(w):u.set(D,[w])}}return u}function _A(i,a,c){i=i.ownerDocument||i,i.head.insertBefore(c,a==="title"?i.querySelector("head > title"):null)}function ID(i,a,c){if(c===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function AA(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function CD(i,a,c,u){if(c.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var g=Hu(u.href),w=a.querySelector(Af(g));if(w){a=w._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=Ig.bind(i),a.then(i,i)),c.state.loading|=4,c.instance=w,Dt(w);return}w=a.ownerDocument||a,u=SA(u),(g=ns.get(g))&&Hv(u,g),w=w.createElement("link"),Dt(w);var D=w;D._p=new Promise(function(ne,ye){D.onload=ne,D.onerror=ye}),ni(w,"link",u),c.instance=w}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=Ig.bind(i),a.addEventListener("load",c),a.addEventListener("error",c))}}var Kv=0;function RD(i,a){return i.stylesheets&&i.count===0&&Rg(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var u=setTimeout(function(){if(i.stylesheets&&Rg(i,i.stylesheets),i.unsuspend){var w=i.unsuspend;i.unsuspend=null,w()}},6e4+a);0<i.imgBytes&&Kv===0&&(Kv=62500*uD());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Rg(i,i.stylesheets),i.unsuspend)){var w=i.unsuspend;i.unsuspend=null,w()}},(i.imgBytes>Kv?50:800)+a);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Ig(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Cg=null;function Rg(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Cg=new Map,a.forEach(ND,i),Cg=null,Ig.call(i))}function ND(i,a){if(!(a.state.loading&4)){var c=Cg.get(i);if(c)var u=c.get(null);else{c=new Map,Cg.set(i,c);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<g.length;w++){var D=g[w];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(c.set(D.dataset.precedence,D),u=D)}u&&c.set(null,u)}g=a.instance,D=g.getAttribute("data-precedence"),w=c.get(D)||u,w===u&&c.set(null,g),c.set(D,g),this.count++,u=Ig.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),w?w.parentNode.insertBefore(g,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),a.state.loading|=4}}var kf={$$typeof:G,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function DD(i,a,c,u,g,w,D,ne,ye){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=En(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=En(0),this.hiddenUpdates=En(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=w,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ye,this.incompleteTransitions=new Map}function TA(i,a,c,u,g,w,D,ne,ye,Le,et,it){return i=new DD(i,a,c,D,ye,Le,et,it,ne),a=1,w===!0&&(a|=24),w=Pi(3,null,null,a),i.current=w,w.stateNode=i,a=Tw(),a.refCount++,i.pooledCache=a,a.refCount++,w.memoizedState={element:u,isDehydrated:c,cache:a},Rw(w),i}function kA(i){return i?(i=bu,i):bu}function IA(i,a,c,u,g,w){g=kA(g),u.context===null?u.context=g:u.pendingContext=g,u=Eo(a),u.payload={element:c},w=w===void 0?null:w,w!==null&&(u.callback=w),c=bo(i,u,a),c!==null&&(Ci(c,i,a),sf(c,i,a))}function CA(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function Wv(i,a){CA(i,a),(i=i.alternate)&&CA(i,a)}function RA(i){if(i.tag===13||i.tag===31){var a=Lc(i,67108864);a!==null&&Ci(a,i,67108864),Wv(i,67108864)}}function NA(i){if(i.tag===13||i.tag===31){var a=Li();a=Y(a);var c=Lc(i,a);c!==null&&Ci(c,i,a),Wv(i,a)}}var Ng=!0;function MD(i,a,c,u){var g=W.T;W.T=null;var w=le.p;try{le.p=2,Yv(i,a,c,u)}finally{le.p=w,W.T=g}}function FD(i,a,c,u){var g=W.T;W.T=null;var w=le.p;try{le.p=8,Yv(i,a,c,u)}finally{le.p=w,W.T=g}}function Yv(i,a,c,u){if(Ng){var g=Jv(u);if(g===null)Ov(i,a,u,Dg,c),MA(i,u);else if(PD(g,i,a,c,u))u.stopPropagation();else if(MA(i,u),a&4&&-1<OD.indexOf(i)){for(;g!==null;){var w=Ht(g);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var D=Rn(w.pendingLanes);if(D!==0){var ne=w;for(ne.pendingLanes|=2,ne.entangledLanes|=2;D;){var ye=1<<31-ot(D);ne.entanglements[1]|=ye,D&=~ye}Bs(w),(Hn&6)===0&&(mg=lt()+500,Sf(0))}}break;case 31:case 13:ne=Lc(w,2),ne!==null&&Ci(ne,w,2),gg(),Wv(w,2)}if(w=Jv(u),w===null&&Ov(i,a,u,Dg,c),w===g)break;g=w}g!==null&&u.stopPropagation()}else Ov(i,a,u,null,c)}}function Jv(i){return i=Gi(i),Qv(i)}var Dg=null;function Qv(i){if(Dg=null,i=zt(i),i!==null){var a=o(i);if(a===null)i=null;else{var c=a.tag;if(c===13){if(i=l(a),i!==null)return i;i=null}else if(c===31){if(i=h(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Dg=i,null}function DA(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_t()){case Nt:return 2;case z:return 8;case _:case I:return 32;case ae:return 268435456;default:return 32}default:return 32}}var Xv=!1,Fo=null,Oo=null,Po=null,If=new Map,Cf=new Map,jo=[],OD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function MA(i,a){switch(i){case"focusin":case"focusout":Fo=null;break;case"dragenter":case"dragleave":Oo=null;break;case"mouseover":case"mouseout":Po=null;break;case"pointerover":case"pointerout":If.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cf.delete(a.pointerId)}}function Rf(i,a,c,u,g,w){return i===null||i.nativeEvent!==w?(i={blockedOn:a,domEventName:c,eventSystemFlags:u,nativeEvent:w,targetContainers:[g]},a!==null&&(a=Ht(a),a!==null&&RA(a)),i):(i.eventSystemFlags|=u,a=i.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),i)}function PD(i,a,c,u,g){switch(a){case"focusin":return Fo=Rf(Fo,i,a,c,u,g),!0;case"dragenter":return Oo=Rf(Oo,i,a,c,u,g),!0;case"mouseover":return Po=Rf(Po,i,a,c,u,g),!0;case"pointerover":var w=g.pointerId;return If.set(w,Rf(If.get(w)||null,i,a,c,u,g)),!0;case"gotpointercapture":return w=g.pointerId,Cf.set(w,Rf(Cf.get(w)||null,i,a,c,u,g)),!0}return!1}function FA(i){var a=zt(i.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){i.blockedOn=a,te(i.priority,function(){NA(c)});return}}else if(a===31){if(a=h(c),a!==null){i.blockedOn=a,te(i.priority,function(){NA(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Mg(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=Jv(i.nativeEvent);if(c===null){c=i.nativeEvent;var u=new c.constructor(c.type,c);zd=u,c.target.dispatchEvent(u),zd=null}else return a=Ht(c),a!==null&&RA(a),i.blockedOn=c,!1;a.shift()}return!0}function OA(i,a,c){Mg(i)&&c.delete(a)}function jD(){Xv=!1,Fo!==null&&Mg(Fo)&&(Fo=null),Oo!==null&&Mg(Oo)&&(Oo=null),Po!==null&&Mg(Po)&&(Po=null),If.forEach(OA),Cf.forEach(OA)}function Fg(i,a){i.blockedOn===a&&(i.blockedOn=null,Xv||(Xv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jD)))}var Og=null;function PA(i){Og!==i&&(Og=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Og===i&&(Og=null);for(var a=0;a<i.length;a+=3){var c=i[a],u=i[a+1],g=i[a+2];if(typeof u!="function"){if(Qv(u||c)===null)continue;break}var w=Ht(c);w!==null&&(i.splice(a,3),a-=3,Jw(w,{pending:!0,data:g,method:c.method,action:u},u,g))}}))}function Ku(i){function a(ye){return Fg(ye,i)}Fo!==null&&Fg(Fo,i),Oo!==null&&Fg(Oo,i),Po!==null&&Fg(Po,i),If.forEach(a),Cf.forEach(a);for(var c=0;c<jo.length;c++){var u=jo[c];u.blockedOn===i&&(u.blockedOn=null)}for(;0<jo.length&&(c=jo[0],c.blockedOn===null);)FA(c),c.blockedOn===null&&jo.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(u=0;u<c.length;u+=3){var g=c[u],w=c[u+1],D=g[ze]||null;if(typeof w=="function")D||PA(c);else if(D){var ne=null;if(w&&w.hasAttribute("formAction")){if(g=w,D=w[ze]||null)ne=D.formAction;else if(Qv(g)!==null)continue}else ne=D.action;typeof ne=="function"?c[u+1]=ne:(c.splice(u,3),u-=3),PA(c)}}}function jA(){function i(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(D){return g=D})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),u||setTimeout(c,20)}function c(){if(!u&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function Zv(i){this._internalRoot=i}Pg.prototype.render=Zv.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var c=a.current,u=Li();IA(c,u,i,a,null,null)},Pg.prototype.unmount=Zv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;IA(i.current,2,null,i,null,null),gg(),a[ct]=null}};function Pg(i){this._internalRoot=i}Pg.prototype.unstable_scheduleHydration=function(i){if(i){var a=b();i={blockedOn:null,target:i,priority:a};for(var c=0;c<jo.length&&a!==0&&a<jo[c].priority;c++);jo.splice(c,0,i),c===0&&FA(i)}};var VA=e.version;if(VA!=="19.2.0")throw Error(r(527,VA,"19.2.0"));le.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var VD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jg.isDisabled&&jg.supportsFiber)try{Fe=jg.inject(VD),gt=jg}catch{}}return Df.createRoot=function(i,a){if(!s(i))throw Error(r(299));var c=!1,u="",g=H2,w=G2,D=K2;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(D=a.onRecoverableError)),a=TA(i,1,!1,null,null,c,u,null,g,w,D,jA),i[ct]=a.current,Fv(i),new Zv(a)},Df.hydrateRoot=function(i,a,c){if(!s(i))throw Error(r(299));var u=!1,g="",w=H2,D=G2,ne=K2,ye=null;return c!=null&&(c.unstable_strictMode===!0&&(u=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(D=c.onCaughtError),c.onRecoverableError!==void 0&&(ne=c.onRecoverableError),c.formState!==void 0&&(ye=c.formState)),a=TA(i,1,!0,a,c??null,u,g,ye,w,D,ne,jA),a.context=kA(null),c=a.current,u=Li(),u=Y(u),g=Eo(u),g.callback=null,bo(c,g,u),c=u,a.current.lanes=c,Gr(a,c),Bs(a),i[ct]=a.current,Fv(i),new Pg(a)},Df.version="19.2.0",Df}var WA;function WD(){if(WA)return tx.exports;WA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tx.exports=KD(),tx.exports}var YD=WD(),Ee=NS();const _s=lu(Ee);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var YA="popstate";function JD(n={}){function e(r,s){let{pathname:o,search:l,hash:h}=r.location;return Xx("",{pathname:o,search:l,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:om(s)}return XD(e,t,null,n)}function wr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function oa(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QD(){return Math.random().toString(36).substring(2,10)}function JA(n,e){return{usr:n.state,key:n.key,idx:e}}function Xx(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Cd(e):e,state:t,key:e&&e.key||r||QD()}}function om({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Cd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function XD(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,h="POP",p=null,f=v();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function v(){return(l.state||{idx:null}).idx}function S(){h="POP";let N=v(),U=N==null?null:N-f;f=N,p&&p({action:h,location:re.location,delta:U})}function C(N,U){h="PUSH";let q=Xx(re.location,N,U);f=v()+1;let G=JA(q,f),he=re.createHref(q);try{l.pushState(G,"",he)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;s.location.assign(he)}o&&p&&p({action:h,location:re.location,delta:1})}function R(N,U){h="REPLACE";let q=Xx(re.location,N,U);f=v();let G=JA(q,f),he=re.createHref(q);l.replaceState(G,"",he),o&&p&&p({action:h,location:re.location,delta:0})}function B(N){return ZD(N)}let re={get action(){return h},get location(){return n(s,l)},listen(N){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(YA,S),p=N,()=>{s.removeEventListener(YA,S),p=null}},createHref(N){return e(s,N)},createURL:B,encodeLocation(N){let U=B(N);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:C,replace:R,go(N){return l.go(N)}};return re}function ZD(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),wr(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:om(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function i4(n,e,t="/"){return eM(n,e,t,!1)}function eM(n,e,t,r){let s=typeof e=="string"?Cd(e):e,o=Ja(s.pathname||"/",t);if(o==null)return null;let l=s4(n);tM(l);let h=null;for(let p=0;h==null&&p<l.length;++p){let f=dM(o);h=uM(l[p],f,r)}return h}function s4(n,e=[],t=[],r="",s=!1){let o=(l,h,p=s,f)=>{let v={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&p)return;wr(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let S=Ga([r,v.relativePath]),C=t.concat(v);l.children&&l.children.length>0&&(wr(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),s4(l.children,e,C,S,p)),!(l.path==null&&!l.index)&&e.push({path:S,score:cM(S,l.index),routesMeta:C})};return n.forEach((l,h)=>{if(l.path===""||!l.path?.includes("?"))o(l,h);else for(let p of a4(l.path))o(l,h,!0,p)}),e}function a4(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=a4(r.join("/")),h=[];return h.push(...l.map(p=>p===""?o:[o,p].join("/"))),s&&h.push(...l),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function tM(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:lM(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var nM=/^:[\w-]+$/,rM=3,iM=2,sM=1,aM=10,oM=-2,QA=n=>n==="*";function cM(n,e){let t=n.split("/"),r=t.length;return t.some(QA)&&(r+=oM),e&&(r+=iM),t.filter(s=>!QA(s)).reduce((s,o)=>s+(nM.test(o)?rM:o===""?sM:aM),r)}function lM(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function uM(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",l=[];for(let h=0;h<r.length;++h){let p=r[h],f=h===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",S=S0({path:p.relativePath,caseSensitive:p.caseSensitive,end:f},v),C=p.route;if(!S&&f&&t&&!r[r.length-1].route.index&&(S=S0({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!S)return null;Object.assign(s,S.params),l.push({params:s,pathname:Ga([o,S.pathname]),pathnameBase:gM(Ga([o,S.pathnameBase])),route:C}),S.pathnameBase!=="/"&&(o=Ga([o,S.pathnameBase]))}return l}function S0(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=hM(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((f,{paramName:v,isOptional:S},C)=>{if(v==="*"){let B=h[C]||"";l=o.slice(0,o.length-B.length).replace(/(.)\/+$/,"$1")}const R=h[C];return S&&!R?f[v]=void 0:f[v]=(R||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function hM(n,e=!1,t=!0){oa(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function dM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oa(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ja(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function fM(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Cd(n):n;return{pathname:t?t.startsWith("/")?t:mM(t,e):e,search:yM(r),hash:wM(s)}}function mM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function ax(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pM(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function o4(n){let e=pM(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function c4(n,e,t,r=!1){let s;typeof n=="string"?s=Cd(n):(s={...n},wr(!s.pathname||!s.pathname.includes("?"),ax("?","pathname","search",s)),wr(!s.pathname||!s.pathname.includes("#"),ax("#","pathname","hash",s)),wr(!s.search||!s.search.includes("#"),ax("#","search","hash",s)));let o=n===""||s.pathname==="",l=o?"/":s.pathname,h;if(l==null)h=t;else{let S=e.length-1;if(!r&&l.startsWith("..")){let C=l.split("/");for(;C[0]==="..";)C.shift(),S-=1;s.pathname=C.join("/")}h=S>=0?e[S]:"/"}let p=fM(s,h),f=l&&l!=="/"&&l.endsWith("/"),v=(o||l===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(f||v)&&(p.pathname+="/"),p}var Ga=n=>n.join("/").replace(/\/\/+/g,"/"),gM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),yM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,wM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function vM(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var l4=["POST","PUT","PATCH","DELETE"];new Set(l4);var xM=["GET",...l4];new Set(xM);var Rd=Ee.createContext(null);Rd.displayName="DataRouter";var oy=Ee.createContext(null);oy.displayName="DataRouterState";Ee.createContext(!1);var u4=Ee.createContext({isTransitioning:!1});u4.displayName="ViewTransition";var SM=Ee.createContext(new Map);SM.displayName="Fetchers";var EM=Ee.createContext(null);EM.displayName="Await";var ma=Ee.createContext(null);ma.displayName="Navigation";var sp=Ee.createContext(null);sp.displayName="Location";var pa=Ee.createContext({outlet:null,matches:[],isDataRoute:!1});pa.displayName="Route";var DS=Ee.createContext(null);DS.displayName="RouteError";function bM(n,{relative:e}={}){wr(ap(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=Ee.useContext(ma),{hash:s,pathname:o,search:l}=op(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Ga([t,o])),r.createHref({pathname:h,search:l,hash:s})}function ap(){return Ee.useContext(sp)!=null}function lo(){return wr(ap(),"useLocation() may be used only in the context of a <Router> component."),Ee.useContext(sp).location}var h4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function d4(n){Ee.useContext(ma).static||Ee.useLayoutEffect(n)}function MS(){let{isDataRoute:n}=Ee.useContext(pa);return n?PM():_M()}function _M(){wr(ap(),"useNavigate() may be used only in the context of a <Router> component.");let n=Ee.useContext(Rd),{basename:e,navigator:t}=Ee.useContext(ma),{matches:r}=Ee.useContext(pa),{pathname:s}=lo(),o=JSON.stringify(o4(r)),l=Ee.useRef(!1);return d4(()=>{l.current=!0}),Ee.useCallback((p,f={})=>{if(oa(l.current,h4),!l.current)return;if(typeof p=="number"){t.go(p);return}let v=c4(p,JSON.parse(o),s,f.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ga([e,v.pathname])),(f.replace?t.replace:t.push)(v,f.state,f)},[e,t,o,s,n])}Ee.createContext(null);function f4(){let{matches:n}=Ee.useContext(pa),e=n[n.length-1];return e?e.params:{}}function op(n,{relative:e}={}){let{matches:t}=Ee.useContext(pa),{pathname:r}=lo(),s=JSON.stringify(o4(t));return Ee.useMemo(()=>c4(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function AM(n,e){return m4(n,e)}function m4(n,e,t,r,s){wr(ap(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Ee.useContext(ma),{matches:l}=Ee.useContext(pa),h=l[l.length-1],p=h?h.params:{},f=h?h.pathname:"/",v=h?h.pathnameBase:"/",S=h&&h.route;{let q=S&&S.path||"";p4(f,!S||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let C=lo(),R;if(e){let q=typeof e=="string"?Cd(e):e;wr(v==="/"||q.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${q.pathname}" was given in the \`location\` prop.`),R=q}else R=C;let B=R.pathname||"/",re=B;if(v!=="/"){let q=v.replace(/^\//,"").split("/");re="/"+B.replace(/^\//,"").split("/").slice(q.length).join("/")}let N=i4(n,{pathname:re});oa(S||N!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),oa(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=RM(N&&N.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:Ga([v,o.encodeLocation?o.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?v:Ga([v,o.encodeLocation?o.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),l,t,r,s);return e&&U?Ee.createElement(sp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},U):U}function TM(){let n=OM(),e=vM(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=Ee.createElement(Ee.Fragment,null,Ee.createElement("p",null," Hey developer "),Ee.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Ee.createElement("code",{style:o},"ErrorBoundary")," or"," ",Ee.createElement("code",{style:o},"errorElement")," prop on your route.")),Ee.createElement(Ee.Fragment,null,Ee.createElement("h2",null,"Unexpected Application Error!"),Ee.createElement("h3",{style:{fontStyle:"italic"}},e),t?Ee.createElement("pre",{style:s},t):null,l)}var kM=Ee.createElement(TM,null),IM=class extends Ee.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?Ee.createElement(pa.Provider,{value:this.props.routeContext},Ee.createElement(DS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CM({routeContext:n,match:e,children:t}){let r=Ee.useContext(Rd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Ee.createElement(pa.Provider,{value:n},t)}function RM(n,e=[],t=null,r=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t?.errors;if(l!=null){let f=o.findIndex(v=>v.route.id&&l?.[v.route.id]!==void 0);wr(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let h=!1,p=-1;if(t)for(let f=0;f<o.length;f++){let v=o[f];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=f),v.route.id){let{loaderData:S,errors:C}=t,R=v.route.loader&&!S.hasOwnProperty(v.route.id)&&(!C||C[v.route.id]===void 0);if(v.route.lazy||R){h=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((f,v,S)=>{let C,R=!1,B=null,re=null;t&&(C=l&&v.route.id?l[v.route.id]:void 0,B=v.route.errorElement||kM,h&&(p<0&&S===0?(p4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,re=null):p===S&&(R=!0,re=v.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,S+1)),U=()=>{let q;return C?q=B:R?q=re:v.route.Component?q=Ee.createElement(v.route.Component,null):v.route.element?q=v.route.element:q=f,Ee.createElement(CM,{match:v,routeContext:{outlet:f,matches:N,isDataRoute:t!=null},children:q})};return t&&(v.route.ErrorBoundary||v.route.errorElement||S===0)?Ee.createElement(IM,{location:t.location,revalidation:t.revalidation,component:B,error:C,children:U(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:r}):U()},null)}function FS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NM(n){let e=Ee.useContext(Rd);return wr(e,FS(n)),e}function DM(n){let e=Ee.useContext(oy);return wr(e,FS(n)),e}function MM(n){let e=Ee.useContext(pa);return wr(e,FS(n)),e}function OS(n){let e=MM(n),t=e.matches[e.matches.length-1];return wr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function FM(){return OS("useRouteId")}function OM(){let n=Ee.useContext(DS),e=DM("useRouteError"),t=OS("useRouteError");return n!==void 0?n:e.errors?.[t]}function PM(){let{router:n}=NM("useNavigate"),e=OS("useNavigate"),t=Ee.useRef(!1);return d4(()=>{t.current=!0}),Ee.useCallback(async(s,o={})=>{oa(t.current,h4),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var XA={};function p4(n,e,t){!e&&!XA[n]&&(XA[n]=!0,oa(!1,t))}Ee.memo(jM);function jM({routes:n,future:e,state:t,unstable_onError:r}){return m4(n,void 0,t,r,e)}function rs(n){wr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VM({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){wr(!ap(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),h=Ee.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof t=="string"&&(t=Cd(t));let{pathname:p="/",search:f="",hash:v="",state:S=null,key:C="default"}=t,R=Ee.useMemo(()=>{let B=Ja(p,l);return B==null?null:{location:{pathname:B,search:f,hash:v,state:S,key:C},navigationType:r}},[l,p,f,v,S,C,r]);return oa(R!=null,`<Router basename="${l}"> is not able to match the URL "${p}${f}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:Ee.createElement(ma.Provider,{value:h},Ee.createElement(sp.Provider,{children:e,value:R}))}function BM({children:n,location:e}){return AM(Zx(n),e)}function Zx(n,e=[]){let t=[];return Ee.Children.forEach(n,(r,s)=>{if(!Ee.isValidElement(r))return;let o=[...e,s];if(r.type===Ee.Fragment){t.push.apply(t,Zx(r.props.children,o));return}wr(r.type===rs,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Zx(r.props.children,o)),t.push(l)}),t}var i0="get",s0="application/x-www-form-urlencoded";function cy(n){return n!=null&&typeof n.tagName=="string"}function UM(n){return cy(n)&&n.tagName.toLowerCase()==="button"}function LM(n){return cy(n)&&n.tagName.toLowerCase()==="form"}function zM(n){return cy(n)&&n.tagName.toLowerCase()==="input"}function qM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function $M(n,e){return n.button===0&&(!e||e==="_self")&&!qM(n)}var Vg=null;function HM(){if(Vg===null)try{new FormData(document.createElement("form"),0),Vg=!1}catch{Vg=!0}return Vg}var GM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ox(n){return n!=null&&!GM.has(n)?(oa(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${s0}"`),null):n}function KM(n,e){let t,r,s,o,l;if(LM(n)){let h=n.getAttribute("action");r=h?Ja(h,e):null,t=n.getAttribute("method")||i0,s=ox(n.getAttribute("enctype"))||s0,o=new FormData(n)}else if(UM(n)||zM(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(r=p?Ja(p,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||i0,s=ox(n.getAttribute("formenctype"))||ox(h.getAttribute("enctype"))||s0,o=new FormData(h,n),!HM()){let{name:f,type:v,value:S}=n;if(v==="image"){let C=f?`${f}.`:"";o.append(`${C}x`,"0"),o.append(`${C}y`,"0")}else f&&o.append(f,S)}}else{if(cy(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=i0,r=null,s=s0,l=n}return o&&s==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function PS(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function WM(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Ja(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function YM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function QM(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await YM(o,t);return l.links?l.links():[]}return[]}));return t5(r.flat(1).filter(JM).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ZA(n,e,t,r,s,o){let l=(p,f)=>t[f]?p.route.id!==t[f].route.id:!0,h=(p,f)=>t[f].pathname!==p.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==p.params["*"];return o==="assets"?e.filter((p,f)=>l(p,f)||h(p,f)):o==="data"?e.filter((p,f)=>{let v=r.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(l(p,f)||h(p,f))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function XM(n,e,{includeHydrateFallback:t}={}){return ZM(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function ZM(n){return[...new Set(n)]}function e5(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function t5(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(e5(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}function g4(){let n=Ee.useContext(Rd);return PS(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function n5(){let n=Ee.useContext(oy);return PS(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var jS=Ee.createContext(void 0);jS.displayName="FrameworkContext";function y4(){let n=Ee.useContext(jS);return PS(n,"You must render this element inside a <HydratedRouter> element"),n}function r5(n,e){let t=Ee.useContext(jS),[r,s]=Ee.useState(!1),[o,l]=Ee.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:f,onMouseLeave:v,onTouchStart:S}=e,C=Ee.useRef(null);Ee.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let re=U=>{U.forEach(q=>{l(q.isIntersecting)})},N=new IntersectionObserver(re,{threshold:.5});return C.current&&N.observe(C.current),()=>{N.disconnect()}}},[n]),Ee.useEffect(()=>{if(r){let re=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(re)}}},[r]);let R=()=>{s(!0)},B=()=>{s(!1),l(!1)};return t?n!=="intent"?[o,C,{}]:[o,C,{onFocus:Mf(h,R),onBlur:Mf(p,B),onMouseEnter:Mf(f,R),onMouseLeave:Mf(v,B),onTouchStart:Mf(S,R)}]:[!1,C,{}]}function Mf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function i5({page:n,...e}){let{router:t}=g4(),r=Ee.useMemo(()=>i4(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?Ee.createElement(a5,{page:n,matches:r,...e}):null}function s5(n){let{manifest:e,routeModules:t}=y4(),[r,s]=Ee.useState([]);return Ee.useEffect(()=>{let o=!1;return QM(n,e,t).then(l=>{o||s(l)}),()=>{o=!0}},[n,e,t]),r}function a5({page:n,matches:e,...t}){let r=lo(),{manifest:s,routeModules:o}=y4(),{basename:l}=g4(),{loaderData:h,matches:p}=n5(),f=Ee.useMemo(()=>ZA(n,e,p,s,r,"data"),[n,e,p,s,r]),v=Ee.useMemo(()=>ZA(n,e,p,s,r,"assets"),[n,e,p,s,r]),S=Ee.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let B=new Set,re=!1;if(e.forEach(U=>{let q=s.routes[U.route.id];!q||!q.hasLoader||(!f.some(G=>G.route.id===U.route.id)&&U.route.id in h&&o[U.route.id]?.shouldRevalidate||q.hasClientLoader?re=!0:B.add(U.route.id))}),B.size===0)return[];let N=WM(n,l,"data");return re&&B.size>0&&N.searchParams.set("_routes",e.filter(U=>B.has(U.route.id)).map(U=>U.route.id).join(",")),[N.pathname+N.search]},[l,h,r,s,f,e,n,o]),C=Ee.useMemo(()=>XM(v,s),[v,s]),R=s5(v);return Ee.createElement(Ee.Fragment,null,S.map(B=>Ee.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...t})),C.map(B=>Ee.createElement("link",{key:B,rel:"modulepreload",href:B,...t})),R.map(({key:B,link:re})=>Ee.createElement("link",{key:B,nonce:t.nonce,...re})))}function o5(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var w4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w4&&(window.__reactRouterVersion="7.9.4")}catch{}function c5({basename:n,children:e,window:t}){let r=Ee.useRef();r.current==null&&(r.current=JD({window:t,v5Compat:!0}));let s=r.current,[o,l]=Ee.useState({action:s.action,location:s.location}),h=Ee.useCallback(p=>{Ee.startTransition(()=>l(p))},[l]);return Ee.useLayoutEffect(()=>s.listen(h),[s,h]),Ee.createElement(VM,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var v4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,As=Ee.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:l,state:h,target:p,to:f,preventScrollReset:v,viewTransition:S,...C},R){let{basename:B}=Ee.useContext(ma),re=typeof f=="string"&&v4.test(f),N,U=!1;if(typeof f=="string"&&re&&(N=f,w4))try{let H=new URL(window.location.href),A=f.startsWith("//")?new URL(H.protocol+f):new URL(f),y=Ja(A.pathname,B);A.origin===H.origin&&y!=null?f=y+A.search+A.hash:U=!0}catch{oa(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=bM(f,{relative:s}),[G,he,pe]=r5(r,C),K=d5(f,{replace:l,state:h,target:p,preventScrollReset:v,relative:s,viewTransition:S});function P(H){e&&e(H),H.defaultPrevented||K(H)}let M=Ee.createElement("a",{...C,...pe,href:N||q,onClick:U||o?e:P,ref:o5(R,he),target:p,"data-discover":!re&&t==="render"?"true":void 0});return G&&!re?Ee.createElement(Ee.Fragment,null,M,Ee.createElement(i5,{page:q})):M});As.displayName="Link";var l5=Ee.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:l,viewTransition:h,children:p,...f},v){let S=op(l,{relative:f.relative}),C=lo(),R=Ee.useContext(oy),{navigator:B,basename:re}=Ee.useContext(ma),N=R!=null&&y5(S)&&h===!0,U=B.encodeLocation?B.encodeLocation(S).pathname:S.pathname,q=C.pathname,G=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(q=q.toLowerCase(),G=G?G.toLowerCase():null,U=U.toLowerCase()),G&&re&&(G=Ja(G,re)||G);const he=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let pe=q===U||!s&&q.startsWith(U)&&q.charAt(he)==="/",K=G!=null&&(G===U||!s&&G.startsWith(U)&&G.charAt(U.length)==="/"),P={isActive:pe,isPending:K,isTransitioning:N},M=pe?e:void 0,H;typeof r=="function"?H=r(P):H=[r,pe?"active":null,K?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let A=typeof o=="function"?o(P):o;return Ee.createElement(As,{...f,"aria-current":M,className:H,ref:v,style:A,to:l,viewTransition:h},typeof p=="function"?p(P):p)});l5.displayName="NavLink";var u5=Ee.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:l=i0,action:h,onSubmit:p,relative:f,preventScrollReset:v,viewTransition:S,...C},R)=>{let B=p5(),re=g5(h,{relative:f}),N=l.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&v4.test(h),q=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let he=G.nativeEvent.submitter,pe=he?.getAttribute("formmethod")||l;B(he||G.currentTarget,{fetcherKey:e,method:pe,navigate:t,replace:s,state:o,relative:f,preventScrollReset:v,viewTransition:S})};return Ee.createElement("form",{ref:R,method:N,action:re,onSubmit:r?p:q,...C,"data-discover":!U&&n==="render"?"true":void 0})});u5.displayName="Form";function h5(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x4(n){let e=Ee.useContext(Rd);return wr(e,h5(n)),e}function d5(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:l}={}){let h=MS(),p=lo(),f=op(n,{relative:o});return Ee.useCallback(v=>{if($M(v,e)){v.preventDefault();let S=t!==void 0?t:om(p)===om(f);h(n,{replace:S,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[p,h,f,t,r,e,n,s,o,l])}var f5=0,m5=()=>`__${String(++f5)}__`;function p5(){let{router:n}=x4("useSubmit"),{basename:e}=Ee.useContext(ma),t=FM();return Ee.useCallback(async(r,s={})=>{let{action:o,method:l,encType:h,formData:p,body:f}=KM(r,e);if(s.navigate===!1){let v=s.fetcherKey||m5();await n.fetch(v,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:p,body:f,formMethod:s.method||l,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:p,body:f,formMethod:s.method||l,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function g5(n,{relative:e}={}){let{basename:t}=Ee.useContext(ma),r=Ee.useContext(pa);wr(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...op(n||".",{relative:e})},l=lo();if(n==null){o.search=l.search;let h=new URLSearchParams(o.search),p=h.getAll("index");if(p.some(v=>v==="")){h.delete("index"),p.filter(S=>S).forEach(S=>h.append("index",S));let v=h.toString();o.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ga([t,o.pathname])),om(o)}function y5(n,{relative:e}={}){let t=Ee.useContext(u4);wr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=x4("useViewTransitionState"),s=op(n,{relative:e});if(!t.isTransitioning)return!1;let o=Ja(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Ja(t.nextLocation.pathname,r)||t.nextLocation.pathname;return S0(s.pathname,l)!=null||S0(s.pathname,o)!=null}const w5=()=>{};var eT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},v5=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],l=n[t++],h=n[t++],p=((s&7)<<18|(o&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},E4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],l=s+1<n.length,h=l?n[s+1]:0,p=s+2<n.length,f=p?n[s+2]:0,v=o>>2,S=(o&3)<<4|h>>4;let C=(h&15)<<2|f>>6,R=f&63;p||(R=64,l||(C=64)),r.push(t[v],t[S],t[C],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(S4(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):v5(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const f=s<n.length?t[n.charAt(s)]:64;++s;const S=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||h==null||f==null||S==null)throw new x5;const C=o<<2|h>>4;if(r.push(C),f!==64){const R=h<<4&240|f>>2;if(r.push(R),S!==64){const B=f<<6&192|S;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class x5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S5=function(n){const e=S4(n);return E4.encodeByteArray(e,!0)},E0=function(n){return S5(n).replace(/\./g,"")},b4=function(n){try{return E4.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=()=>E5().__FIREBASE_DEFAULTS__,_5=()=>{if(typeof process>"u"||typeof eT>"u")return;const n=eT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},A5=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&b4(n[1]);return e&&JSON.parse(e)},ly=()=>{try{return w5()||b5()||_5()||A5()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_4=n=>ly()?.emulatorHosts?.[n],A4=n=>{const e=_4(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},T4=()=>ly()?.config,k4=n=>ly()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[E0(JSON.stringify(t)),E0(JSON.stringify(l)),""].join(".")}const Xf={};function k5(){const n={prod:[],emulator:[]};for(const e of Object.keys(Xf))Xf[e]?n.emulator.push(e):n.prod.push(e);return n}function I5(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let tT=!1;function BS(n,e){if(typeof window>"u"||typeof document>"u"||!Ic(window.location.host)||Xf[n]===e||Xf[n]||tT)return;Xf[n]=e;function t(C){return`__firebase__banner__${C}`}const r="__firebase__banner",o=k5().prod.length>0;function l(){const C=document.getElementById(r);C&&C.remove()}function h(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,R){C.setAttribute("width","24"),C.setAttribute("id",R),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function f(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{tT=!0,l()},C}function v(C,R){C.setAttribute("id",R),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function S(){const C=I5(r),R=t("text"),B=document.getElementById(R)||document.createElement("span"),re=t("learnmore"),N=document.getElementById(re)||document.createElement("a"),U=t("preprendIcon"),q=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const G=C.element;h(G),v(N,re);const he=f();p(q,U),G.append(q,B,N,he),document.body.appendChild(G)}o?(B.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yi())}function R5(){const n=ly()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function D5(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function M5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F5(){const n=yi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function O5(){return!R5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P5(){try{return typeof indexedDB=="object"}catch{return!1}}function j5(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5="FirebaseError";class ga extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=V5,Object.setPrototypeOf(this,ga.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cp.prototype.create)}}class cp{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?B5(o,r):"Error",h=`${this.serviceName}: ${l} (${s}).`;return new ga(s,h,r)}}function B5(n,e){return n.replace(U5,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const U5=/\{\$([^}]+)}/g;function L5(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],l=e[s];if(nT(o)&&nT(l)){if(!wl(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function nT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function z5(n,e){const t=new q5(n,e);return t.subscribe.bind(t)}class q5{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");$5(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=cx),s.error===void 0&&(s.error=cx),s.complete===void 0&&(s.complete=cx);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $5(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function cx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(n){return n&&n._delegate?n._delegate:n}class sc{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new T5;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(K5(e))try{this.getOrInitializeService({instanceIdentifier:rl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rl){return this.instances.has(e)}getOptions(e=rl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&l.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:G5(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rl){return this.component?this.component.multipleInstances?e:rl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function G5(n){return n===rl?void 0:n}function K5(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new H5(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Mn||(Mn={}));const Y5={debug:Mn.DEBUG,verbose:Mn.VERBOSE,info:Mn.INFO,warn:Mn.WARN,error:Mn.ERROR,silent:Mn.SILENT},J5=Mn.INFO,Q5={[Mn.DEBUG]:"log",[Mn.VERBOSE]:"log",[Mn.INFO]:"info",[Mn.WARN]:"warn",[Mn.ERROR]:"error"},X5=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=Q5[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class US{constructor(e){this.name=e,this._logLevel=J5,this._logHandler=X5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mn.DEBUG,...e),this._logHandler(this,Mn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mn.VERBOSE,...e),this._logHandler(this,Mn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mn.INFO,...e),this._logHandler(this,Mn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mn.WARN,...e),this._logHandler(this,Mn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mn.ERROR,...e),this._logHandler(this,Mn.ERROR,...e)}}const Z5=(n,e)=>e.some(t=>n instanceof t);let rT,iT;function e8(){return rT||(rT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t8(){return iT||(iT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C4=new WeakMap,e1=new WeakMap,R4=new WeakMap,lx=new WeakMap,LS=new WeakMap;function n8(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(Zo(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&C4.set(t,n)}).catch(()=>{}),LS.set(e,n),e}function r8(n){if(e1.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});e1.set(n,e)}let t1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return e1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||R4.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function i8(n){t1=n(t1)}function s8(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(ux(this),e,...t);return R4.set(r,e.sort?e.sort():[e]),Zo(r)}:t8().includes(n)?function(...e){return n.apply(ux(this),e),Zo(C4.get(this))}:function(...e){return Zo(n.apply(ux(this),e))}}function a8(n){return typeof n=="function"?s8(n):(n instanceof IDBTransaction&&r8(n),Z5(n,e8())?new Proxy(n,t1):n)}function Zo(n){if(n instanceof IDBRequest)return n8(n);if(lx.has(n))return lx.get(n);const e=a8(n);return e!==n&&(lx.set(n,e),LS.set(e,n)),e}const ux=n=>LS.get(n);function o8(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(n,e),h=Zo(l);return r&&l.addEventListener("upgradeneeded",p=>{r(Zo(l.result),p.oldVersion,p.newVersion,Zo(l.transaction),p)}),t&&l.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{o&&p.addEventListener("close",()=>o()),s&&p.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const c8=["get","getKey","getAll","getAllKeys","count"],l8=["put","add","delete","clear"],hx=new Map;function sT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(hx.get(e))return hx.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=l8.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||c8.includes(t)))return;const o=async function(l,...h){const p=this.transaction(l,s?"readwrite":"readonly");let f=p.store;return r&&(f=f.index(h.shift())),(await Promise.all([f[t](...h),s&&p.done]))[0]};return hx.set(e,o),o}i8(n=>({...n,get:(e,t,r)=>sT(e,t)||n.get(e,t,r),has:(e,t)=>!!sT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(h8(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function h8(n){return n.getComponent()?.type==="VERSION"}const n1="@firebase/app",aT="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new US("@firebase/app"),d8="@firebase/app-compat",f8="@firebase/analytics-compat",m8="@firebase/analytics",p8="@firebase/app-check-compat",g8="@firebase/app-check",y8="@firebase/auth",w8="@firebase/auth-compat",v8="@firebase/database",x8="@firebase/data-connect",S8="@firebase/database-compat",E8="@firebase/functions",b8="@firebase/functions-compat",_8="@firebase/installations",A8="@firebase/installations-compat",T8="@firebase/messaging",k8="@firebase/messaging-compat",I8="@firebase/performance",C8="@firebase/performance-compat",R8="@firebase/remote-config",N8="@firebase/remote-config-compat",D8="@firebase/storage",M8="@firebase/storage-compat",F8="@firebase/firestore",O8="@firebase/ai",P8="@firebase/firestore-compat",j8="firebase",V8="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="[DEFAULT]",B8={[n1]:"fire-core",[d8]:"fire-core-compat",[m8]:"fire-analytics",[f8]:"fire-analytics-compat",[g8]:"fire-app-check",[p8]:"fire-app-check-compat",[y8]:"fire-auth",[w8]:"fire-auth-compat",[v8]:"fire-rtdb",[x8]:"fire-data-connect",[S8]:"fire-rtdb-compat",[E8]:"fire-fn",[b8]:"fire-fn-compat",[_8]:"fire-iid",[A8]:"fire-iid-compat",[T8]:"fire-fcm",[k8]:"fire-fcm-compat",[I8]:"fire-perf",[C8]:"fire-perf-compat",[R8]:"fire-rc",[N8]:"fire-rc-compat",[D8]:"fire-gcs",[M8]:"fire-gcs-compat",[F8]:"fire-fst",[P8]:"fire-fst-compat",[O8]:"fire-vertex","fire-js":"fire-js",[j8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=new Map,U8=new Map,i1=new Map;function oT(n,e){try{n.container.addComponent(e)}catch(t){Qa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function vl(n){const e=n.name;if(i1.has(e))return Qa.debug(`There were multiple attempts to register component ${e}.`),!1;i1.set(e,n);for(const t of b0.values())oT(t,n);for(const t of U8.values())oT(t,n);return!0}function uy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ss(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ec=new cp("app","Firebase",L8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ec.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=V8;function hy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:r1,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ec.create("bad-app-name",{appName:String(s)});if(t||(t=T4()),!t)throw ec.create("no-options");const o=b0.get(s);if(o){if(wl(t,o.options)&&wl(r,o.config))return o;throw ec.create("duplicate-app",{appName:s})}const l=new W5(s);for(const p of i1.values())l.addComponent(p);const h=new z8(t,r,l);return b0.set(s,h),h}function zS(n=r1){const e=b0.get(n);if(!e&&n===r1&&T4())return hy();if(!e)throw ec.create("no-app",{appName:n});return e}function Xs(n,e,t){let r=B8[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qa.warn(l.join(" "));return}vl(new sc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8="firebase-heartbeat-database",$8=1,cm="firebase-heartbeat-store";let dx=null;function N4(){return dx||(dx=o8(q8,$8,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(cm)}catch(t){console.warn(t)}}}}).catch(n=>{throw ec.create("idb-open",{originalErrorMessage:n.message})})),dx}async function H8(n){try{const t=(await N4()).transaction(cm),r=await t.objectStore(cm).get(D4(n));return await t.done,r}catch(e){if(e instanceof ga)Qa.warn(e.message);else{const t=ec.create("idb-get",{originalErrorMessage:e?.message});Qa.warn(t.message)}}}async function cT(n,e){try{const r=(await N4()).transaction(cm,"readwrite");await r.objectStore(cm).put(e,D4(n)),await r.done}catch(t){if(t instanceof ga)Qa.warn(t.message);else{const r=ec.create("idb-set",{originalErrorMessage:t?.message});Qa.warn(r.message)}}}function D4(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=1024,K8=30;class W8{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new J8(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=lT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>K8){const s=Q8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=lT(),{heartbeatsToSend:t,unsentEntries:r}=Y8(this._heartbeatsCache.heartbeats),s=E0(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Qa.warn(e),""}}}function lT(){return new Date().toISOString().substring(0,10)}function Y8(n,e=G8){const t=[];let r=n.slice();for(const s of n){const o=t.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),uT(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),uT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class J8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P5()?j5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await H8(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function uT(n){return E0(JSON.stringify({version:2,heartbeats:n})).length}function Q8(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(n){vl(new sc("platform-logger",e=>new u8(e),"PRIVATE")),vl(new sc("heartbeat",e=>new W8(e),"PRIVATE")),Xs(n1,aT,n),Xs(n1,aT,"esm2020"),Xs("fire-js","")}X8("");var Z8="firebase",eF="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs(Z8,eF,"app");var hT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tc,M4;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,M){function H(){}H.prototype=M.prototype,P.F=M.prototype,P.prototype=new H,P.prototype.constructor=P,P.D=function(A,y,x){for(var E=Array(arguments.length-2),$=2;$<arguments.length;$++)E[$-2]=arguments[$];return M.prototype[y].apply(A,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,M,H){H||(H=0);const A=Array(16);if(typeof M=="string")for(var y=0;y<16;++y)A[y]=M.charCodeAt(H++)|M.charCodeAt(H++)<<8|M.charCodeAt(H++)<<16|M.charCodeAt(H++)<<24;else for(y=0;y<16;++y)A[y]=M[H++]|M[H++]<<8|M[H++]<<16|M[H++]<<24;M=P.g[0],H=P.g[1],y=P.g[2];let x=P.g[3],E;E=M+(x^H&(y^x))+A[0]+3614090360&4294967295,M=H+(E<<7&4294967295|E>>>25),E=x+(y^M&(H^y))+A[1]+3905402710&4294967295,x=M+(E<<12&4294967295|E>>>20),E=y+(H^x&(M^H))+A[2]+606105819&4294967295,y=x+(E<<17&4294967295|E>>>15),E=H+(M^y&(x^M))+A[3]+3250441966&4294967295,H=y+(E<<22&4294967295|E>>>10),E=M+(x^H&(y^x))+A[4]+4118548399&4294967295,M=H+(E<<7&4294967295|E>>>25),E=x+(y^M&(H^y))+A[5]+1200080426&4294967295,x=M+(E<<12&4294967295|E>>>20),E=y+(H^x&(M^H))+A[6]+2821735955&4294967295,y=x+(E<<17&4294967295|E>>>15),E=H+(M^y&(x^M))+A[7]+4249261313&4294967295,H=y+(E<<22&4294967295|E>>>10),E=M+(x^H&(y^x))+A[8]+1770035416&4294967295,M=H+(E<<7&4294967295|E>>>25),E=x+(y^M&(H^y))+A[9]+2336552879&4294967295,x=M+(E<<12&4294967295|E>>>20),E=y+(H^x&(M^H))+A[10]+4294925233&4294967295,y=x+(E<<17&4294967295|E>>>15),E=H+(M^y&(x^M))+A[11]+2304563134&4294967295,H=y+(E<<22&4294967295|E>>>10),E=M+(x^H&(y^x))+A[12]+1804603682&4294967295,M=H+(E<<7&4294967295|E>>>25),E=x+(y^M&(H^y))+A[13]+4254626195&4294967295,x=M+(E<<12&4294967295|E>>>20),E=y+(H^x&(M^H))+A[14]+2792965006&4294967295,y=x+(E<<17&4294967295|E>>>15),E=H+(M^y&(x^M))+A[15]+1236535329&4294967295,H=y+(E<<22&4294967295|E>>>10),E=M+(y^x&(H^y))+A[1]+4129170786&4294967295,M=H+(E<<5&4294967295|E>>>27),E=x+(H^y&(M^H))+A[6]+3225465664&4294967295,x=M+(E<<9&4294967295|E>>>23),E=y+(M^H&(x^M))+A[11]+643717713&4294967295,y=x+(E<<14&4294967295|E>>>18),E=H+(x^M&(y^x))+A[0]+3921069994&4294967295,H=y+(E<<20&4294967295|E>>>12),E=M+(y^x&(H^y))+A[5]+3593408605&4294967295,M=H+(E<<5&4294967295|E>>>27),E=x+(H^y&(M^H))+A[10]+38016083&4294967295,x=M+(E<<9&4294967295|E>>>23),E=y+(M^H&(x^M))+A[15]+3634488961&4294967295,y=x+(E<<14&4294967295|E>>>18),E=H+(x^M&(y^x))+A[4]+3889429448&4294967295,H=y+(E<<20&4294967295|E>>>12),E=M+(y^x&(H^y))+A[9]+568446438&4294967295,M=H+(E<<5&4294967295|E>>>27),E=x+(H^y&(M^H))+A[14]+3275163606&4294967295,x=M+(E<<9&4294967295|E>>>23),E=y+(M^H&(x^M))+A[3]+4107603335&4294967295,y=x+(E<<14&4294967295|E>>>18),E=H+(x^M&(y^x))+A[8]+1163531501&4294967295,H=y+(E<<20&4294967295|E>>>12),E=M+(y^x&(H^y))+A[13]+2850285829&4294967295,M=H+(E<<5&4294967295|E>>>27),E=x+(H^y&(M^H))+A[2]+4243563512&4294967295,x=M+(E<<9&4294967295|E>>>23),E=y+(M^H&(x^M))+A[7]+1735328473&4294967295,y=x+(E<<14&4294967295|E>>>18),E=H+(x^M&(y^x))+A[12]+2368359562&4294967295,H=y+(E<<20&4294967295|E>>>12),E=M+(H^y^x)+A[5]+4294588738&4294967295,M=H+(E<<4&4294967295|E>>>28),E=x+(M^H^y)+A[8]+2272392833&4294967295,x=M+(E<<11&4294967295|E>>>21),E=y+(x^M^H)+A[11]+1839030562&4294967295,y=x+(E<<16&4294967295|E>>>16),E=H+(y^x^M)+A[14]+4259657740&4294967295,H=y+(E<<23&4294967295|E>>>9),E=M+(H^y^x)+A[1]+2763975236&4294967295,M=H+(E<<4&4294967295|E>>>28),E=x+(M^H^y)+A[4]+1272893353&4294967295,x=M+(E<<11&4294967295|E>>>21),E=y+(x^M^H)+A[7]+4139469664&4294967295,y=x+(E<<16&4294967295|E>>>16),E=H+(y^x^M)+A[10]+3200236656&4294967295,H=y+(E<<23&4294967295|E>>>9),E=M+(H^y^x)+A[13]+681279174&4294967295,M=H+(E<<4&4294967295|E>>>28),E=x+(M^H^y)+A[0]+3936430074&4294967295,x=M+(E<<11&4294967295|E>>>21),E=y+(x^M^H)+A[3]+3572445317&4294967295,y=x+(E<<16&4294967295|E>>>16),E=H+(y^x^M)+A[6]+76029189&4294967295,H=y+(E<<23&4294967295|E>>>9),E=M+(H^y^x)+A[9]+3654602809&4294967295,M=H+(E<<4&4294967295|E>>>28),E=x+(M^H^y)+A[12]+3873151461&4294967295,x=M+(E<<11&4294967295|E>>>21),E=y+(x^M^H)+A[15]+530742520&4294967295,y=x+(E<<16&4294967295|E>>>16),E=H+(y^x^M)+A[2]+3299628645&4294967295,H=y+(E<<23&4294967295|E>>>9),E=M+(y^(H|~x))+A[0]+4096336452&4294967295,M=H+(E<<6&4294967295|E>>>26),E=x+(H^(M|~y))+A[7]+1126891415&4294967295,x=M+(E<<10&4294967295|E>>>22),E=y+(M^(x|~H))+A[14]+2878612391&4294967295,y=x+(E<<15&4294967295|E>>>17),E=H+(x^(y|~M))+A[5]+4237533241&4294967295,H=y+(E<<21&4294967295|E>>>11),E=M+(y^(H|~x))+A[12]+1700485571&4294967295,M=H+(E<<6&4294967295|E>>>26),E=x+(H^(M|~y))+A[3]+2399980690&4294967295,x=M+(E<<10&4294967295|E>>>22),E=y+(M^(x|~H))+A[10]+4293915773&4294967295,y=x+(E<<15&4294967295|E>>>17),E=H+(x^(y|~M))+A[1]+2240044497&4294967295,H=y+(E<<21&4294967295|E>>>11),E=M+(y^(H|~x))+A[8]+1873313359&4294967295,M=H+(E<<6&4294967295|E>>>26),E=x+(H^(M|~y))+A[15]+4264355552&4294967295,x=M+(E<<10&4294967295|E>>>22),E=y+(M^(x|~H))+A[6]+2734768916&4294967295,y=x+(E<<15&4294967295|E>>>17),E=H+(x^(y|~M))+A[13]+1309151649&4294967295,H=y+(E<<21&4294967295|E>>>11),E=M+(y^(H|~x))+A[4]+4149444226&4294967295,M=H+(E<<6&4294967295|E>>>26),E=x+(H^(M|~y))+A[11]+3174756917&4294967295,x=M+(E<<10&4294967295|E>>>22),E=y+(M^(x|~H))+A[2]+718787259&4294967295,y=x+(E<<15&4294967295|E>>>17),E=H+(x^(y|~M))+A[9]+3951481745&4294967295,P.g[0]=P.g[0]+M&4294967295,P.g[1]=P.g[1]+(y+(E<<21&4294967295|E>>>11))&4294967295,P.g[2]=P.g[2]+y&4294967295,P.g[3]=P.g[3]+x&4294967295}r.prototype.v=function(P,M){M===void 0&&(M=P.length);const H=M-this.blockSize,A=this.C;let y=this.h,x=0;for(;x<M;){if(y==0)for(;x<=H;)s(this,P,x),x+=this.blockSize;if(typeof P=="string"){for(;x<M;)if(A[y++]=P.charCodeAt(x++),y==this.blockSize){s(this,A),y=0;break}}else for(;x<M;)if(A[y++]=P[x++],y==this.blockSize){s(this,A),y=0;break}}this.h=y,this.o+=M},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var M=1;M<P.length-8;++M)P[M]=0;M=this.o*8;for(var H=P.length-8;H<P.length;++H)P[H]=M&255,M/=256;for(this.v(P),P=Array(16),M=0,H=0;H<4;++H)for(let A=0;A<32;A+=8)P[M++]=this.g[H]>>>A&255;return P};function o(P,M){var H=h;return Object.prototype.hasOwnProperty.call(H,P)?H[P]:H[P]=M(P)}function l(P,M){this.h=M;const H=[];let A=!0;for(let y=P.length-1;y>=0;y--){const x=P[y]|0;A&&x==M||(H[y]=x,A=!1)}this.g=H}var h={};function p(P){return-128<=P&&P<128?o(P,function(M){return new l([M|0],M<0?-1:0)}):new l([P|0],P<0?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return S;if(P<0)return N(f(-P));const M=[];let H=1;for(let A=0;P>=H;A++)M[A]=P/H|0,H*=4294967296;return new l(M,0)}function v(P,M){if(P.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(P.charAt(0)=="-")return N(v(P.substring(1),M));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const H=f(Math.pow(M,8));let A=S;for(let x=0;x<P.length;x+=8){var y=Math.min(8,P.length-x);const E=parseInt(P.substring(x,x+y),M);y<8?(y=f(Math.pow(M,y)),A=A.j(y).add(f(E))):(A=A.j(H),A=A.add(f(E)))}return A}var S=p(0),C=p(1),R=p(16777216);n=l.prototype,n.m=function(){if(re(this))return-N(this).m();let P=0,M=1;for(let H=0;H<this.g.length;H++){const A=this.i(H);P+=(A>=0?A:4294967296+A)*M,M*=4294967296}return P},n.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(B(this))return"0";if(re(this))return"-"+N(this).toString(P);const M=f(Math.pow(P,6));var H=this;let A="";for(;;){const y=he(H,M).g;H=U(H,y.j(M));let x=((H.g.length>0?H.g[0]:H.h)>>>0).toString(P);if(H=y,B(H))return x+A;for(;x.length<6;)x="0"+x;A=x+A}},n.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function B(P){if(P.h!=0)return!1;for(let M=0;M<P.g.length;M++)if(P.g[M]!=0)return!1;return!0}function re(P){return P.h==-1}n.l=function(P){return P=U(this,P),re(P)?-1:B(P)?0:1};function N(P){const M=P.g.length,H=[];for(let A=0;A<M;A++)H[A]=~P.g[A];return new l(H,~P.h).add(C)}n.abs=function(){return re(this)?N(this):this},n.add=function(P){const M=Math.max(this.g.length,P.g.length),H=[];let A=0;for(let y=0;y<=M;y++){let x=A+(this.i(y)&65535)+(P.i(y)&65535),E=(x>>>16)+(this.i(y)>>>16)+(P.i(y)>>>16);A=E>>>16,x&=65535,E&=65535,H[y]=E<<16|x}return new l(H,H[H.length-1]&-2147483648?-1:0)};function U(P,M){return P.add(N(M))}n.j=function(P){if(B(this)||B(P))return S;if(re(this))return re(P)?N(this).j(N(P)):N(N(this).j(P));if(re(P))return N(this.j(N(P)));if(this.l(R)<0&&P.l(R)<0)return f(this.m()*P.m());const M=this.g.length+P.g.length,H=[];for(var A=0;A<2*M;A++)H[A]=0;for(A=0;A<this.g.length;A++)for(let y=0;y<P.g.length;y++){const x=this.i(A)>>>16,E=this.i(A)&65535,$=P.i(y)>>>16,ee=P.i(y)&65535;H[2*A+2*y]+=E*ee,q(H,2*A+2*y),H[2*A+2*y+1]+=x*ee,q(H,2*A+2*y+1),H[2*A+2*y+1]+=E*$,q(H,2*A+2*y+1),H[2*A+2*y+2]+=x*$,q(H,2*A+2*y+2)}for(P=0;P<M;P++)H[P]=H[2*P+1]<<16|H[2*P];for(P=M;P<2*M;P++)H[P]=0;return new l(H,0)};function q(P,M){for(;(P[M]&65535)!=P[M];)P[M+1]+=P[M]>>>16,P[M]&=65535,M++}function G(P,M){this.g=P,this.h=M}function he(P,M){if(B(M))throw Error("division by zero");if(B(P))return new G(S,S);if(re(P))return M=he(N(P),M),new G(N(M.g),N(M.h));if(re(M))return M=he(P,N(M)),new G(N(M.g),M.h);if(P.g.length>30){if(re(P)||re(M))throw Error("slowDivide_ only works with positive integers.");for(var H=C,A=M;A.l(P)<=0;)H=pe(H),A=pe(A);var y=K(H,1),x=K(A,1);for(A=K(A,2),H=K(H,2);!B(A);){var E=x.add(A);E.l(P)<=0&&(y=y.add(H),x=E),A=K(A,1),H=K(H,1)}return M=U(P,y.j(M)),new G(y,M)}for(y=S;P.l(M)>=0;){for(H=Math.max(1,Math.floor(P.m()/M.m())),A=Math.ceil(Math.log(H)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),x=f(H),E=x.j(M);re(E)||E.l(P)>0;)H-=A,x=f(H),E=x.j(M);B(x)&&(x=C),y=y.add(x),P=U(P,E)}return new G(y,P)}n.B=function(P){return he(this,P).h},n.and=function(P){const M=Math.max(this.g.length,P.g.length),H=[];for(let A=0;A<M;A++)H[A]=this.i(A)&P.i(A);return new l(H,this.h&P.h)},n.or=function(P){const M=Math.max(this.g.length,P.g.length),H=[];for(let A=0;A<M;A++)H[A]=this.i(A)|P.i(A);return new l(H,this.h|P.h)},n.xor=function(P){const M=Math.max(this.g.length,P.g.length),H=[];for(let A=0;A<M;A++)H[A]=this.i(A)^P.i(A);return new l(H,this.h^P.h)};function pe(P){const M=P.g.length+1,H=[];for(let A=0;A<M;A++)H[A]=P.i(A)<<1|P.i(A-1)>>>31;return new l(H,P.h)}function K(P,M){const H=M>>5;M%=32;const A=P.g.length-H,y=[];for(let x=0;x<A;x++)y[x]=M>0?P.i(x+H)>>>M|P.i(x+H+1)<<32-M:P.i(x+H);return new l(y,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,M4=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=v,tc=l}).apply(typeof hT<"u"?hT:typeof self<"u"?self:typeof window<"u"?window:{});var Bg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var F4,Kf,O4,a0,s1,P4,j4,V4;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bg=="object"&&Bg];for(var k=0;k<m.length;++k){var j=m[k];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=t(this);function s(m,k){if(k)e:{var j=r;m=m.split(".");for(var oe=0;oe<m.length-1;oe++){var je=m[oe];if(!(je in j))break e;j=j[je]}m=m[m.length-1],oe=j[m],k=k(oe),k!=oe&&k!=null&&e(j,m,{configurable:!0,writable:!0,value:k})}}s("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(m){return m||function(k){var j=[],oe;for(oe in k)Object.prototype.hasOwnProperty.call(k,oe)&&j.push([oe,k[oe]]);return j}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function h(m){var k=typeof m;return k=="object"&&m!=null||k=="function"}function p(m,k,j){return m.call.apply(m.bind,arguments)}function f(m,k,j){return f=p,f.apply(null,arguments)}function v(m,k){var j=Array.prototype.slice.call(arguments,1);return function(){var oe=j.slice();return oe.push.apply(oe,arguments),m.apply(this,oe)}}function S(m,k){function j(){}j.prototype=k.prototype,m.Z=k.prototype,m.prototype=new j,m.prototype.constructor=m,m.Ob=function(oe,je,Ke){for(var St=Array(arguments.length-2),vn=2;vn<arguments.length;vn++)St[vn-2]=arguments[vn];return k.prototype[je].apply(oe,St)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function R(m){const k=m.length;if(k>0){const j=Array(k);for(let oe=0;oe<k;oe++)j[oe]=m[oe];return j}return[]}function B(m,k){for(let oe=1;oe<arguments.length;oe++){const je=arguments[oe];var j=typeof je;if(j=j!="object"?j:je?Array.isArray(je)?"array":j:"null",j=="array"||j=="object"&&typeof je.length=="number"){j=m.length||0;const Ke=je.length||0;m.length=j+Ke;for(let St=0;St<Ke;St++)m[j+St]=je[St]}else m.push(je)}}class re{constructor(k,j){this.i=k,this.j=j,this.h=0,this.g=null}get(){let k;return this.h>0?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function N(m){l.setTimeout(()=>{throw m},0)}function U(){var m=P;let k=null;return m.g&&(k=m.g,m.g=m.g.next,m.g||(m.h=null),k.next=null),k}class q{constructor(){this.h=this.g=null}add(k,j){const oe=G.get();oe.set(k,j),this.h?this.h.next=oe:this.g=oe,this.h=oe}}var G=new re(()=>new he,m=>m.reset());class he{constructor(){this.next=this.g=this.h=null}set(k,j){this.h=k,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,K=!1,P=new q,M=()=>{const m=Promise.resolve(void 0);pe=()=>{m.then(H)}};function H(){for(var m;m=U();){try{m.h.call(m.g)}catch(j){N(j)}var k=G;k.j(m),k.h<100&&(k.h++,m.next=k.g,k.g=m)}K=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function y(m,k){this.type=m,this.g=this.target=k,this.defaultPrevented=!1}y.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,k=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const j=()=>{};l.addEventListener("test",j,k),l.removeEventListener("test",j,k)}catch{}return m})();function E(m){return/^[\s\xa0]*$/.test(m)}function $(m,k){y.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,k)}S($,y),$.prototype.init=function(m,k){const j=this.type=m.type,oe=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=k,k=m.relatedTarget,k||(j=="mouseover"?k=m.fromElement:j=="mouseout"&&(k=m.toElement)),this.relatedTarget=k,oe?(this.clientX=oe.clientX!==void 0?oe.clientX:oe.pageX,this.clientY=oe.clientY!==void 0?oe.clientY:oe.pageY,this.screenX=oe.screenX||0,this.screenY=oe.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),W=0;function le(m,k,j,oe,je){this.listener=m,this.proxy=null,this.src=k,this.type=j,this.capture=!!oe,this.ha=je,this.key=++W,this.da=this.fa=!1}function Q(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function T(m,k,j){for(const oe in m)k.call(j,m[oe],oe,m)}function se(m,k){for(const j in m)k.call(void 0,m[j],j,m)}function ie(m){const k={};for(const j in m)k[j]=m[j];return k}const ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(m,k){let j,oe;for(let je=1;je<arguments.length;je++){oe=arguments[je];for(j in oe)m[j]=oe[j];for(let Ke=0;Ke<ue.length;Ke++)j=ue[Ke],Object.prototype.hasOwnProperty.call(oe,j)&&(m[j]=oe[j])}}function me(m){this.src=m,this.g={},this.h=0}me.prototype.add=function(m,k,j,oe,je){const Ke=m.toString();m=this.g[Ke],m||(m=this.g[Ke]=[],this.h++);const St=Ae(m,k,oe,je);return St>-1?(k=m[St],j||(k.fa=!1)):(k=new le(k,this.src,Ke,!!oe,je),k.fa=j,m.push(k)),k};function O(m,k){const j=k.type;if(j in m.g){var oe=m.g[j],je=Array.prototype.indexOf.call(oe,k,void 0),Ke;(Ke=je>=0)&&Array.prototype.splice.call(oe,je,1),Ke&&(Q(k),m.g[j].length==0&&(delete m.g[j],m.h--))}}function Ae(m,k,j,oe){for(let je=0;je<m.length;++je){const Ke=m[je];if(!Ke.da&&Ke.listener==k&&Ke.capture==!!j&&Ke.ha==oe)return je}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),ge={};function be(m,k,j,oe,je){if(Array.isArray(k)){for(let Ke=0;Ke<k.length;Ke++)be(m,k[Ke],j,oe,je);return null}return j=ke(j),m&&m[ee]?m.J(k,j,h(oe)?!!oe.capture:!1,je):L(m,k,j,!1,oe,je)}function L(m,k,j,oe,je,Ke){if(!k)throw Error("Invalid event type");const St=h(je)?!!je.capture:!!je;let vn=Ve(m);if(vn||(m[Pe]=vn=new me(m)),j=vn.add(k,j,oe,St,Ke),j.proxy)return j;if(oe=J(),j.proxy=oe,oe.src=m,oe.listener=j,m.addEventListener)x||(je=St),je===void 0&&(je=!1),m.addEventListener(k.toString(),oe,je);else if(m.attachEvent)m.attachEvent(de(k.toString()),oe);else if(m.addListener&&m.removeListener)m.addListener(oe);else throw Error("addEventListener and attachEvent are unavailable.");return j}function J(){function m(j){return k.call(m.src,m.listener,j)}const k=xe;return m}function ce(m,k,j,oe,je){if(Array.isArray(k))for(var Ke=0;Ke<k.length;Ke++)ce(m,k[Ke],j,oe,je);else oe=h(oe)?!!oe.capture:!!oe,j=ke(j),m&&m[ee]?(m=m.i,Ke=String(k).toString(),Ke in m.g&&(k=m.g[Ke],j=Ae(k,j,oe,je),j>-1&&(Q(k[j]),Array.prototype.splice.call(k,j,1),k.length==0&&(delete m.g[Ke],m.h--)))):m&&(m=Ve(m))&&(k=m.g[k.toString()],m=-1,k&&(m=Ae(k,j,oe,je)),(j=m>-1?k[m]:null)&&Ne(j))}function Ne(m){if(typeof m!="number"&&m&&!m.da){var k=m.src;if(k&&k[ee])O(k.i,m);else{var j=m.type,oe=m.proxy;k.removeEventListener?k.removeEventListener(j,oe,m.capture):k.detachEvent?k.detachEvent(de(j),oe):k.addListener&&k.removeListener&&k.removeListener(oe),(j=Ve(k))?(O(j,m),j.h==0&&(j.src=null,k[Pe]=null)):Q(m)}}}function de(m){return m in ge?ge[m]:ge[m]="on"+m}function xe(m,k){if(m.da)m=!0;else{k=new $(k,this);const j=m.listener,oe=m.ha||m.src;m.fa&&Ne(m),m=j.call(oe,k)}return m}function Ve(m){return m=m[Pe],m instanceof me?m:null}var we="__closure_events_fn_"+(Math.random()*1e9>>>0);function ke(m){return typeof m=="function"?m:(m[we]||(m[we]=function(k){return m.handleEvent(k)}),m[we])}function Me(){A.call(this),this.i=new me(this),this.M=this,this.G=null}S(Me,A),Me.prototype[ee]=!0,Me.prototype.removeEventListener=function(m,k,j,oe){ce(this,m,k,j,oe)};function Se(m,k){var j,oe=m.G;if(oe)for(j=[];oe;oe=oe.G)j.push(oe);if(m=m.M,oe=k.type||k,typeof k=="string")k=new y(k,m);else if(k instanceof y)k.target=k.target||m;else{var je=k;k=new y(oe,m),_e(k,je)}je=!0;let Ke,St;if(j)for(St=j.length-1;St>=0;St--)Ke=k.g=j[St],je=Be(Ke,oe,!0,k)&&je;if(Ke=k.g=m,je=Be(Ke,oe,!0,k)&&je,je=Be(Ke,oe,!1,k)&&je,j)for(St=0;St<j.length;St++)Ke=k.g=j[St],je=Be(Ke,oe,!1,k)&&je}Me.prototype.N=function(){if(Me.Z.N.call(this),this.i){var m=this.i;for(const k in m.g){const j=m.g[k];for(let oe=0;oe<j.length;oe++)Q(j[oe]);delete m.g[k],m.h--}}this.G=null},Me.prototype.J=function(m,k,j,oe){return this.i.add(String(m),k,!1,j,oe)},Me.prototype.K=function(m,k,j,oe){return this.i.add(String(m),k,!0,j,oe)};function Be(m,k,j,oe){if(k=m.i.g[String(k)],!k)return!0;k=k.concat();let je=!0;for(let Ke=0;Ke<k.length;++Ke){const St=k[Ke];if(St&&!St.da&&St.capture==j){const vn=St.listener,Tr=St.ha||St.src;St.fa&&O(m.i,St),je=vn.call(Tr,oe)!==!1&&je}}return je&&!oe.defaultPrevented}function Xe(m,k){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(k)>2147483647?-1:l.setTimeout(m,k||0)}function We(m){m.g=Xe(()=>{m.g=null,m.i&&(m.i=!1,We(m))},m.l);const k=m.h;m.h=null,m.m.apply(null,k)}class lt extends A{constructor(k,j){super(),this.m=k,this.l=j,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:We(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _t(m){A.call(this),this.h=m,this.g={}}S(_t,A);var Nt=[];function z(m){T(m.g,function(k,j){this.g.hasOwnProperty(j)&&Ne(k)},m),m.g={}}_t.prototype.N=function(){_t.Z.N.call(this),z(this)},_t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _=l.JSON.stringify,I=l.JSON.parse,ae=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function ve(){}function Re(){}var Fe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gt(){y.call(this,"d")}S(gt,y);function pt(){y.call(this,"c")}S(pt,y);var ot={},At=null;function Et(){return At=At||new Me}ot.Ia="serverreachability";function Qt(m){y.call(this,ot.Ia,m)}S(Qt,y);function An(m){const k=Et();Se(k,new Qt(k))}ot.STAT_EVENT="statevent";function Xt(m,k){y.call(this,ot.STAT_EVENT,m),this.stat=k}S(Xt,y);function Vt(m){const k=Et();Se(k,new Xt(k,m))}ot.Ja="timingevent";function Rn(m,k){y.call(this,ot.Ja,m),this.size=k}S(Rn,y);function un(m,k){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},k)}function hn(){this.g=!0}hn.prototype.ua=function(){this.g=!1};function Hr(m,k,j,oe,je,Ke){m.info(function(){if(m.g)if(Ke){var St="",vn=Ke.split("&");for(let $n=0;$n<vn.length;$n++){var Tr=vn[$n].split("=");if(Tr.length>1){const pr=Tr[0];Tr=Tr[1];const Wi=pr.split("_");St=Wi.length>=2&&Wi[1]=="type"?St+(pr+"="+Tr+"&"):St+(pr+"=redacted&")}}}else St=null;else St=Ke;return"XMLHTTP REQ ("+oe+") [attempt "+je+"]: "+k+`
`+j+`
`+St})}function jn(m,k,j,oe,je,Ke,St){m.info(function(){return"XMLHTTP RESP ("+oe+") [ attempt "+je+"]: "+k+`
`+j+`
`+Ke+" "+St})}function En(m,k,j,oe){m.info(function(){return"XMLHTTP TEXT ("+k+"): "+qn(m,j)+(oe?" "+oe:"")})}function Gr(m,k){m.info(function(){return"TIMEOUT: "+k})}hn.prototype.info=function(){};function qn(m,k){if(!m.g)return k;if(!k)return null;try{const Ke=JSON.parse(k);if(Ke){for(m=0;m<Ke.length;m++)if(Array.isArray(Ke[m])){var j=Ke[m];if(!(j.length<2)){var oe=j[1];if(Array.isArray(oe)&&!(oe.length<1)){var je=oe[0];if(je!="noop"&&je!="stop"&&je!="close")for(let St=1;St<oe.length;St++)oe[St]=""}}}}return _(Ke)}catch{return k}}var an={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},li={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},F;function Y(){}S(Y,ve),Y.prototype.g=function(){return new XMLHttpRequest},F=new Y;function X(m){return encodeURIComponent(String(m))}function b(m){var k=1;m=m.split(":");const j=[];for(;k>0&&m.length;)j.push(m.shift()),k--;return m.length&&j.push(m.join(":")),j}function te(m,k,j,oe){this.j=m,this.i=k,this.l=j,this.S=oe||1,this.V=new _t(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}var Te={},ze={};function ct(m,k,j){m.M=1,m.A=en(Qe(k)),m.u=j,m.R=!0,kt(m,null)}function kt(m,k){m.F=Date.now(),Ot(m),m.B=Qe(m.A);var j=m.B,oe=m.S;Array.isArray(oe)||(oe=[String(oe)]),yr(j.i,"t",oe),m.C=0,j=m.j.L,m.h=new De,m.g=Np(m.j,j?k:null,!m.u),m.P>0&&(m.O=new lt(f(m.Y,m,m.g),m.P)),k=m.V,j=m.g,oe=m.ba;var je="readystatechange";Array.isArray(je)||(je&&(Nt[0]=je.toString()),je=Nt);for(let Ke=0;Ke<je.length;Ke++){const St=be(j,je[Ke],oe||k.handleEvent,!1,k.h||k);if(!St)break;k.g[St.key]=St}k=m.J?ie(m.J):{},m.u?(m.v||(m.v="POST"),k["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,k)):(m.v="GET",m.g.ea(m.B,m.v,null,k)),An(),Hr(m.i,m.v,m.B,m.l,m.S,m.u)}te.prototype.ba=function(m){m=m.target;const k=this.O;k&&ms(m)==3?k.j():this.Y(m)},te.prototype.Y=function(m){try{if(m==this.g)e:{const vn=ms(this.g),Tr=this.g.ya(),$n=this.g.ca();if(!(vn<3)&&(vn!=3||this.g&&(this.h.h||this.g.la()||Xr(this.g)))){this.K||vn!=4||Tr==7||(Tr==8||$n<=0?An(3):An(2)),zt(this);var k=this.g.ca();this.X=k;var j=wt(this);if(this.o=k==200,jn(this.i,this.v,this.B,this.l,this.S,vn,k),this.o){if(this.U&&!this.L){t:{if(this.g){var oe,je=this.g;if((oe=je.g?je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(oe)){var Ke=oe;break t}}Ke=null}if(m=Ke)En(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Gt(this,m);else{this.o=!1,this.m=3,Vt(12),Bt(this),Ht(this);break e}}if(this.R){m=!0;let pr;for(;!this.K&&this.C<j.length;)if(pr=bt(this,j),pr==ze){vn==4&&(this.m=4,Vt(14),m=!1),En(this.i,this.l,null,"[Incomplete Response]");break}else if(pr==Te){this.m=4,Vt(15),En(this.i,this.l,j,"[Invalid Chunk]"),m=!1;break}else En(this.i,this.l,pr,null),Gt(this,pr);if(on(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vn!=4||j.length!=0||this.h.h||(this.m=1,Vt(16),m=!1),this.o=this.o&&m,!m)En(this.i,this.l,j,"[Invalid Chunked Response]"),Bt(this),Ht(this);else if(j.length>0&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.aa&&!St.P&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Kd(St),St.P=!0,Vt(11))}}else En(this.i,this.l,j,null),Gt(this,j);vn==4&&Bt(this),this.o&&!this.K&&(vn==4?kp(this.j,this):(this.o=!1,Ot(this)))}else va(this.g),k==400&&j.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),Bt(this),Ht(this)}}}catch{}finally{}};function wt(m){if(!on(m))return m.g.la();const k=Xr(m.g);if(k==="")return"";let j="";const oe=k.length,je=ms(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Bt(m),Ht(m),"";m.h.i=new l.TextDecoder}for(let Ke=0;Ke<oe;Ke++)m.h.h=!0,j+=m.h.i.decode(k[Ke],{stream:!(je&&Ke==oe-1)});return k.length=0,m.h.g+=j,m.C=0,m.h.g}function on(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function bt(m,k){var j=m.C,oe=k.indexOf(`
`,j);return oe==-1?ze:(j=Number(k.substring(j,oe)),isNaN(j)?Te:(oe+=1,oe+j>k.length?ze:(k=k.slice(oe,oe+j),m.C=oe+j,k)))}te.prototype.cancel=function(){this.K=!0,Bt(this)};function Ot(m){m.T=Date.now()+m.H,Lt(m,m.H)}function Lt(m,k){if(m.D!=null)throw Error("WatchDog timer not null");m.D=un(f(m.aa,m),k)}function zt(m){m.D&&(l.clearTimeout(m.D),m.D=null)}te.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Gr(this.i,this.B),this.M!=2&&(An(),Vt(17)),Bt(this),this.m=2,Ht(this)):Lt(this,this.T-m)};function Ht(m){m.j.I==0||m.K||kp(m.j,m)}function Bt(m){zt(m);var k=m.O;k&&typeof k.dispose=="function"&&k.dispose(),m.O=null,z(m.V),m.g&&(k=m.g,m.g=null,k.abort(),k.dispose())}function Gt(m,k){try{var j=m.j;if(j.I!=0&&(j.g==m||Tt(j.h,m))){if(!m.L&&Tt(j.h,m)&&j.I==3){try{var oe=j.Ba.g.parse(k)}catch{oe=null}if(Array.isArray(oe)&&oe.length==3){var je=oe;if(je[0]==0){e:if(!j.v){if(j.g)if(j.g.F+3e3<m.F)yu(j),po(j);else break e;jc(j),Vt(18)}}else j.xa=je[1],0<j.xa-j.K&&je[2]<37500&&j.F&&j.A==0&&!j.C&&(j.C=un(f(j.Va,j),6e3));vt(j.h)<=1&&j.ta&&(j.ta=void 0)}else Fs(j,11)}else if((m.L||j.g==m)&&yu(j),!E(k))for(je=j.Ba.g.parse(k),k=0;k<je.length;k++){let $n=je[k];const pr=$n[0];if(!(pr<=j.K))if(j.K=pr,$n=$n[1],j.I==2)if($n[0]=="c"){j.M=$n[1],j.ba=$n[2];const Wi=$n[3];Wi!=null&&(j.ka=Wi,j.j.info("VER="+j.ka));const Os=$n[4];Os!=null&&(j.za=Os,j.j.info("SVER="+j.za));const ps=$n[5];ps!=null&&typeof ps=="number"&&ps>0&&(oe=1.5*ps,j.O=oe,j.j.info("backChannelRequestTimeoutMs_="+oe)),oe=j;const gs=m.g;if(gs){const Vc=gs.g?gs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vc){var Ke=oe.h;Ke.g||Vc.indexOf("spdy")==-1&&Vc.indexOf("quic")==-1&&Vc.indexOf("h2")==-1||(Ke.j=Ke.l,Ke.g=new Set,Ke.h&&(Rt(Ke,Ke.h),Ke.h=null))}if(oe.G){const wu=gs.g?gs.g.getResponseHeader("X-HTTP-Session-Id"):null;wu&&(oe.wa=wu,Mt(oe.J,oe.G,wu))}}j.I=3,j.l&&j.l.ra(),j.aa&&(j.T=Date.now()-m.F,j.j.info("Handshake RTT: "+j.T+"ms")),oe=j;var St=m;if(oe.na=Rp(oe,oe.L?oe.ba:null,oe.W),St.L){xt(oe.h,St);var vn=St,Tr=oe.O;Tr&&(vn.H=Tr),vn.D&&(zt(vn),Ot(vn)),oe.g=St}else Ap(oe);j.i.length>0&&Ms(j)}else $n[0]!="stop"&&$n[0]!="close"||Fs(j,7);else j.I==3&&($n[0]=="stop"||$n[0]=="close"?$n[0]=="stop"?Fs(j,7):Hd(j):$n[0]!="noop"&&j.l&&j.l.qa($n),j.A=0)}}An(4)}catch{}}var Dt=class{constructor(m,k){this.g=m,this.map=k}};function It(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pt(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function vt(m){return m.h?1:m.g?m.g.size:0}function Tt(m,k){return m.h?m.h==k:m.g?m.g.has(k):!1}function Rt(m,k){m.g?m.g.add(k):m.h=k}function xt(m,k){m.h&&m.h==k?m.h=null:m.g&&m.g.has(k)&&m.g.delete(k)}It.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function $e(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let k=m.i;for(const j of m.g.values())k=k.concat(j.G);return k}return R(m.i)}var Ge=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ut(m,k){if(m){m=m.split("&");for(let j=0;j<m.length;j++){const oe=m[j].indexOf("=");let je,Ke=null;oe>=0?(je=m[j].substring(0,oe),Ke=m[j].substring(oe+1)):je=m[j],k(je,Ke?decodeURIComponent(Ke.replace(/\+/g," ")):"")}}}function Ze(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let k;m instanceof Ze?(this.l=m.l,st(this,m.j),this.o=m.o,this.g=m.g,qt(this,m.u),this.h=m.h,nn(this,Ar(m.i)),this.m=m.m):m&&(k=String(m).match(Ge))?(this.l=!1,st(this,k[1]||"",!0),this.o=fe(k[2]||""),this.g=fe(k[3]||"",!0),qt(this,k[4]),this.h=fe(k[5]||"",!0),nn(this,k[6]||"",!0),this.m=fe(k[7]||"")):(this.l=!1,this.i=new Tn(null,this.l))}Ze.prototype.toString=function(){const m=[];var k=this.j;k&&m.push(cn(k,bn,!0),":");var j=this.g;return(j||k=="file")&&(m.push("//"),(k=this.o)&&m.push(cn(k,bn,!0),"@"),m.push(X(j).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.u,j!=null&&m.push(":",String(j))),(j=this.h)&&(this.g&&j.charAt(0)!="/"&&m.push("/"),m.push(cn(j,j.charAt(0)=="/"?_n:dn,!0))),(j=this.i.toString())&&m.push("?",j),(j=this.m)&&m.push("#",cn(j,cr)),m.join("")},Ze.prototype.resolve=function(m){const k=Qe(this);let j=!!m.j;j?st(k,m.j):j=!!m.o,j?k.o=m.o:j=!!m.g,j?k.g=m.g:j=m.u!=null;var oe=m.h;if(j)qt(k,m.u);else if(j=!!m.h){if(oe.charAt(0)!="/")if(this.g&&!this.h)oe="/"+oe;else{var je=k.h.lastIndexOf("/");je!=-1&&(oe=k.h.slice(0,je+1)+oe)}if(je=oe,je==".."||je==".")oe="";else if(je.indexOf("./")!=-1||je.indexOf("/.")!=-1){oe=je.lastIndexOf("/",0)==0,je=je.split("/");const Ke=[];for(let St=0;St<je.length;){const vn=je[St++];vn=="."?oe&&St==je.length&&Ke.push(""):vn==".."?((Ke.length>1||Ke.length==1&&Ke[0]!="")&&Ke.pop(),oe&&St==je.length&&Ke.push("")):(Ke.push(vn),oe=!0)}oe=Ke.join("/")}else oe=je}return j?k.h=oe:j=m.i.toString()!=="",j?nn(k,Ar(m.i)):j=!!m.m,j&&(k.m=m.m),k};function Qe(m){return new Ze(m)}function st(m,k,j){m.j=j?fe(k,!0):k,m.j&&(m.j=m.j.replace(/:$/,""))}function qt(m,k){if(k){if(k=Number(k),isNaN(k)||k<0)throw Error("Bad port number "+k);m.u=k}else m.u=null}function nn(m,k,j){k instanceof Tn?(m.i=k,fu(m.i,m.l)):(j||(k=cn(k,wn)),m.i=new Tn(k,m.l))}function Mt(m,k,j){m.i.set(k,j)}function en(m){return Mt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function fe(m,k){return m?k?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function cn(m,k,j){return typeof m=="string"?(m=encodeURI(m).replace(k,rn),j&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function rn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var bn=/[#\/\?@]/g,dn=/[#\?:]/g,_n=/[#\?]/g,wn=/[#\?@]/g,cr=/#/g;function Tn(m,k){this.h=this.g=null,this.i=m||null,this.j=!!k}function kn(m){m.g||(m.g=new Map,m.h=0,m.i&&ut(m.i,function(k,j){m.add(decodeURIComponent(k.replace(/\+/g," ")),j)}))}n=Tn.prototype,n.add=function(m,k){kn(this),this.i=null,m=hr(this,m);let j=this.g.get(m);return j||this.g.set(m,j=[]),j.push(k),this.h+=1,this};function ir(m,k){kn(m),k=hr(m,k),m.g.has(k)&&(m.i=null,m.h-=m.g.get(k).length,m.g.delete(k))}function Qn(m,k){return kn(m),k=hr(m,k),m.g.has(k)}n.forEach=function(m,k){kn(this),this.g.forEach(function(j,oe){j.forEach(function(je){m.call(k,je,oe,this)},this)},this)};function ur(m,k){kn(m);let j=[];if(typeof k=="string")Qn(m,k)&&(j=j.concat(m.g.get(hr(m,k))));else for(m=Array.from(m.g.values()),k=0;k<m.length;k++)j=j.concat(m[k]);return j}n.set=function(m,k){return kn(this),this.i=null,m=hr(this,m),Qn(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[k]),this.h+=1,this},n.get=function(m,k){return m?(m=ur(this,m),m.length>0?String(m[0]):k):k};function yr(m,k,j){ir(m,k),j.length>0&&(m.i=null,m.g.set(hr(m,k),R(j)),m.h+=j.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],k=Array.from(this.g.keys());for(let oe=0;oe<k.length;oe++){var j=k[oe];const je=X(j);j=ur(this,j);for(let Ke=0;Ke<j.length;Ke++){let St=je;j[Ke]!==""&&(St+="="+X(j[Ke])),m.push(St)}}return this.i=m.join("&")};function Ar(m){const k=new Tn;return k.i=m.i,m.g&&(k.g=new Map(m.g),k.h=m.h),k}function hr(m,k){return k=String(k),m.j&&(k=k.toLowerCase()),k}function fu(m,k){k&&!m.j&&(kn(m),m.i=null,m.g.forEach(function(j,oe){const je=oe.toLowerCase();oe!=je&&(ir(this,oe),yr(this,je,j))},m)),m.j=k}function ds(m,k){const j=new hn;if(l.Image){const oe=new Image;oe.onload=v(Gi,j,"TestLoadImage: loaded",!0,k,oe),oe.onerror=v(Gi,j,"TestLoadImage: error",!1,k,oe),oe.onabort=v(Gi,j,"TestLoadImage: abort",!1,k,oe),oe.ontimeout=v(Gi,j,"TestLoadImage: timeout",!1,k,oe),l.setTimeout(function(){oe.ontimeout&&oe.ontimeout()},1e4),oe.src=m}else k(!1)}function zd(m,k){const j=new hn,oe=new AbortController,je=setTimeout(()=>{oe.abort(),Gi(j,"TestPingServer: timeout",!1,k)},1e4);fetch(m,{signal:oe.signal}).then(Ke=>{clearTimeout(je),Ke.ok?Gi(j,"TestPingServer: ok",!0,k):Gi(j,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(je),Gi(j,"TestPingServer: error",!1,k)})}function Gi(m,k,j,oe,je){try{je&&(je.onload=null,je.onerror=null,je.onabort=null,je.ontimeout=null),oe(j)}catch{}}function ho(){this.g=new ae}function Rs(m){this.i=m.Sb||null,this.h=m.ab||!1}S(Rs,ve),Rs.prototype.g=function(){return new Dc(this.i,this.h)};function Dc(m,k){Me.call(this),this.H=m,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Dc,Me),n=Dc.prototype,n.open=function(m,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=k,this.readyState=1,fs(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const k={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(k.body=m),(this.H||l).fetch(new Request(this.D,k)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fo(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,fs(this)),this.g&&(this.readyState=3,fs(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mu(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function mu(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var k=m.value?m.value:new Uint8Array(0);(k=this.B.decode(k,{stream:!m.done}))&&(this.response=this.responseText+=k)}m.done?fo(this):fs(this),this.readyState==3&&mu(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,fo(this))},n.Na=function(m){this.g&&(this.response=m,fo(this))},n.ga=function(){this.g&&fo(this)};function fo(m){m.readyState=4,m.l=null,m.j=null,m.B=null,fs(m)}n.setRequestHeader=function(m,k){this.A.append(m,k)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],k=this.h.entries();for(var j=k.next();!j.done;)j=j.value,m.push(j[0]+": "+j[1]),j=k.next();return m.join(`\r
`)};function fs(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Dc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Ki(m){let k="";return T(m,function(j,oe){k+=oe,k+=":",k+=j,k+=`\r
`}),k}function Mc(m,k,j){e:{for(oe in j){var oe=!1;break e}oe=!0}oe||(j=Ki(j),typeof m=="string"?j!=null&&X(j):Mt(m,k,j))}function Xn(m){Me.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xn,Me);var Ns=/^https?$/i,qd=["POST","PUT"];n=Xn.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,k,j,oe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);k=k?k.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():F.g(),this.g.onreadystatechange=C(f(this.Ca,this));try{this.B=!0,this.g.open(k,String(m),!0),this.B=!1}catch(Ke){Fc(this,Ke);return}if(m=j||"",j=new Map(this.headers),oe)if(Object.getPrototypeOf(oe)===Object.prototype)for(var je in oe)j.set(je,oe[je]);else if(typeof oe.keys=="function"&&typeof oe.get=="function")for(const Ke of oe.keys())j.set(Ke,oe.get(Ke));else throw Error("Unknown input type for opt_headers: "+String(oe));oe=Array.from(j.keys()).find(Ke=>Ke.toLowerCase()=="content-type"),je=l.FormData&&m instanceof l.FormData,!(Array.prototype.indexOf.call(qd,k,void 0)>=0)||oe||je||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ke,St]of j)this.g.setRequestHeader(Ke,St);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(Ke){Fc(this,Ke)}};function Fc(m,k){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=k,m.o=5,$d(m),wa(m)}function $d(m){m.A||(m.A=!0,Se(m,"complete"),Se(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Se(this,"complete"),Se(this,"abort"),wa(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wa(this,!0)),Xn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Oc(this):this.Xa())},n.Xa=function(){Oc(this)};function Oc(m){if(m.h&&typeof o<"u"){if(m.v&&ms(m)==4)setTimeout(m.Ca.bind(m),0);else if(Se(m,"readystatechange"),ms(m)==4){m.h=!1;try{const Ke=m.ca();e:switch(Ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var j;if(!(j=k)){var oe;if(oe=Ke===0){let St=String(m.D).match(Ge)[1]||null;!St&&l.self&&l.self.location&&(St=l.self.location.protocol.slice(0,-1)),oe=!Ns.test(St?St.toLowerCase():"")}j=oe}if(j)Se(m,"complete"),Se(m,"success");else{m.o=6;try{var je=ms(m)>2?m.g.statusText:""}catch{je=""}m.l=je+" ["+m.ca()+"]",$d(m)}}finally{wa(m)}}}}function wa(m,k){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const j=m.g;m.g=null,k||Se(m,"ready");try{j.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ms(m){return m.g?m.g.readyState:0}n.ca=function(){try{return ms(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var k=this.g.responseText;return m&&k.indexOf(m)==0&&(k=k.substring(m.length)),I(k)}};function Xr(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function va(m){const k={};m=(m.g&&ms(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let oe=0;oe<m.length;oe++){if(E(m[oe]))continue;var j=b(m[oe]);const je=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const Ke=k[je]||[];k[je]=Ke,Ke.push(j)}se(k,function(oe){return oe.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ds(m,k,j){return j&&j.internalChannelParams&&j.internalChannelParams[m]||k}function mo(m){this.za=0,this.i=[],this.j=new hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ds("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ds("baseRetryDelayMs",5e3,m),this.Za=Ds("retryDelaySeedMs",1e4,m),this.Ta=Ds("forwardChannelMaxRetries",2,m),this.va=Ds("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new It(m&&m.concurrentRequestLimit),this.Ba=new ho,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=mo.prototype,n.ka=8,n.I=1,n.connect=function(m,k,j,oe){Vt(0),this.W=m,this.H=k||{},j&&oe!==void 0&&(this.H.OSID=j,this.H.OAID=oe),this.F=this.X,this.J=Rp(this,null,this.W),Ms(this)};function Hd(m){if(pu(m),m.I==3){var k=m.V++,j=Qe(m.J);if(Mt(j,"SID",m.M),Mt(j,"RID",k),Mt(j,"TYPE","terminate"),Pc(m,j),k=new te(m,m.j,k),k.M=2,k.A=en(Qe(j)),j=!1,l.navigator&&l.navigator.sendBeacon)try{j=l.navigator.sendBeacon(k.A.toString(),"")}catch{}!j&&l.Image&&(new Image().src=k.A,j=!0),j||(k.g=Np(k.j,null),k.g.ea(k.A)),k.F=Date.now(),Ot(k)}Cp(m)}function po(m){m.g&&(Kd(m),m.g.cancel(),m.g=null)}function pu(m){po(m),m.v&&(l.clearTimeout(m.v),m.v=null),yu(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&l.clearTimeout(m.m),m.m=null)}function Ms(m){if(!Pt(m.h)&&!m.m){m.m=!0;var k=m.Ea;pe||M(),K||(pe(),K=!0),P.add(k,m),m.D=0}}function gu(m,k){return vt(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=k.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=un(f(m.Ea,m,k),Ip(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const je=new te(this,this.j,m);let Ke=this.o;if(this.U&&(Ke?(Ke=ie(Ke),_e(Ke,this.U)):Ke=this.U),this.u!==null||this.R||(je.J=Ke,Ke=null),this.S)e:{for(var k=0,j=0;j<this.i.length;j++){t:{var oe=this.i[j];if("__data__"in oe.map&&(oe=oe.map.__data__,typeof oe=="string")){oe=oe.length;break t}oe=void 0}if(oe===void 0)break;if(k+=oe,k>4096){k=j;break e}if(k===4096||j===this.i.length-1){k=j+1;break e}}k=1e3}else k=1e3;k=_p(this,je,k),j=Qe(this.J),Mt(j,"RID",m),Mt(j,"CVER",22),this.G&&Mt(j,"X-HTTP-Session-Id",this.G),Pc(this,j),Ke&&(this.R?k="headers="+X(Ki(Ke))+"&"+k:this.u&&Mc(j,this.u,Ke)),Rt(this.h,je),this.Ra&&Mt(j,"TYPE","init"),this.S?(Mt(j,"$req",k),Mt(j,"SID","null"),je.U=!0,ct(je,j,null)):ct(je,j,k),this.I=2}}else this.I==3&&(m?Gd(this,m):this.i.length==0||Pt(this.h)||Gd(this))};function Gd(m,k){var j;k?j=k.l:j=m.V++;const oe=Qe(m.J);Mt(oe,"SID",m.M),Mt(oe,"RID",j),Mt(oe,"AID",m.K),Pc(m,oe),m.u&&m.o&&Mc(oe,m.u,m.o),j=new te(m,m.j,j,m.D+1),m.u===null&&(j.J=m.o),k&&(m.i=k.G.concat(m.i)),k=_p(m,j,1e3),j.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Rt(m.h,j),ct(j,oe,k)}function Pc(m,k){m.H&&T(m.H,function(j,oe){Mt(k,oe,j)}),m.l&&T({},function(j,oe){Mt(k,oe,j)})}function _p(m,k,j){j=Math.min(m.i.length,j);const oe=m.l?f(m.l.Ka,m.l,m):null;e:{var je=m.i;let vn=-1;for(;;){const Tr=["count="+j];vn==-1?j>0?(vn=je[0].g,Tr.push("ofs="+vn)):vn=0:Tr.push("ofs="+vn);let $n=!0;for(let pr=0;pr<j;pr++){var Ke=je[pr].g;const Wi=je[pr].map;if(Ke-=vn,Ke<0)vn=Math.max(0,je[pr].g-100),$n=!1;else try{Ke="req"+Ke+"_"||"";try{var St=Wi instanceof Map?Wi:Object.entries(Wi);for(const[Os,ps]of St){let gs=ps;h(ps)&&(gs=_(ps)),Tr.push(Ke+Os+"="+encodeURIComponent(gs))}}catch(Os){throw Tr.push(Ke+"type="+encodeURIComponent("_badmap")),Os}}catch{oe&&oe(Wi)}}if($n){St=Tr.join("&");break e}}St=void 0}return m=m.i.splice(0,j),k.G=m,St}function Ap(m){if(!m.g&&!m.v){m.Y=1;var k=m.Da;pe||M(),K||(pe(),K=!0),P.add(k,m),m.A=0}}function jc(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=un(f(m.Da,m),Ip(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,Tp(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=un(f(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),po(this),Tp(this))};function Kd(m){m.B!=null&&(l.clearTimeout(m.B),m.B=null)}function Tp(m){m.g=new te(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var k=Qe(m.na);Mt(k,"RID","rpc"),Mt(k,"SID",m.M),Mt(k,"AID",m.K),Mt(k,"CI",m.F?"0":"1"),!m.F&&m.ia&&Mt(k,"TO",m.ia),Mt(k,"TYPE","xmlhttp"),Pc(m,k),m.u&&m.o&&Mc(k,m.u,m.o),m.O&&(m.g.H=m.O);var j=m.g;m=m.ba,j.M=1,j.A=en(Qe(k)),j.u=null,j.R=!0,kt(j,m)}n.Va=function(){this.C!=null&&(this.C=null,po(this),jc(this),Vt(19))};function yu(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function kp(m,k){var j=null;if(m.g==k){yu(m),Kd(m),m.g=null;var oe=2}else if(Tt(m.h,k))j=k.G,xt(m.h,k),oe=1;else return;if(m.I!=0){if(k.o)if(oe==1){j=k.u?k.u.length:0,k=Date.now()-k.F;var je=m.D;oe=Et(),Se(oe,new Rn(oe,j)),Ms(m)}else Ap(m);else if(je=k.m,je==3||je==0&&k.X>0||!(oe==1&&gu(m,k)||oe==2&&jc(m)))switch(j&&j.length>0&&(k=m.h,k.i=k.i.concat(j)),je){case 1:Fs(m,5);break;case 4:Fs(m,10);break;case 3:Fs(m,6);break;default:Fs(m,2)}}}function Ip(m,k){let j=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(j*=2),j*k}function Fs(m,k){if(m.j.info("Error code "+k),k==2){var j=f(m.bb,m),oe=m.Ua;const je=!oe;oe=new Ze(oe||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||st(oe,"https"),en(oe),je?ds(oe.toString(),j):zd(oe.toString(),j)}else Vt(2);m.I=0,m.l&&m.l.pa(k),Cp(m),pu(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Cp(m){if(m.I=0,m.ja=[],m.l){const k=$e(m.h);(k.length!=0||m.i.length!=0)&&(B(m.ja,k),B(m.ja,m.i),m.h.i.length=0,R(m.i),m.i.length=0),m.l.oa()}}function Rp(m,k,j){var oe=j instanceof Ze?Qe(j):new Ze(j);if(oe.g!="")k&&(oe.g=k+"."+oe.g),qt(oe,oe.u);else{var je=l.location;oe=je.protocol,k=k?k+"."+je.hostname:je.hostname,je=+je.port;const Ke=new Ze(null);oe&&st(Ke,oe),k&&(Ke.g=k),je&&qt(Ke,je),j&&(Ke.h=j),oe=Ke}return j=m.G,k=m.wa,j&&k&&Mt(oe,j,k),Mt(oe,"VER",m.ka),Pc(m,oe),oe}function Np(m,k,j){if(k&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return k=m.Aa&&!m.ma?new Xn(new Rs({ab:j})):new Xn(m.ma),k.Fa(m.L),k}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dp(){}n=Dp.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function go(){}go.prototype.g=function(m,k){return new vi(m,k)};function vi(m,k){Me.call(this),this.g=new mo(k),this.l=m,this.h=k&&k.messageUrlParams||null,m=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(m?m["X-WebChannel-Content-Type"]=k.messageContentType:m={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.sa&&(m?m["X-WebChannel-Client-Profile"]=k.sa:m={"X-WebChannel-Client-Profile":k.sa}),this.g.U=m,(m=k&&k.Qb)&&!E(m)&&(this.g.u=m),this.A=k&&k.supportsCrossDomainXhr||!1,this.v=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!E(k)&&(this.g.G=k,m=this.h,m!==null&&k in m&&(m=this.h,k in m&&delete m[k])),this.j=new xa(this)}S(vi,Me),vi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vi.prototype.close=function(){Hd(this.g)},vi.prototype.o=function(m){var k=this.g;if(typeof m=="string"){var j={};j.__data__=m,m=j}else this.v&&(j={},j.__data__=_(m),m=j);k.i.push(new Dt(k.Ya++,m)),k.I==3&&Ms(k)},vi.prototype.N=function(){this.g.l=null,delete this.j,Hd(this.g),delete this.g,vi.Z.N.call(this)};function Mp(m){gt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var k=m.__sm__;if(k){e:{for(const j in k){m=j;break e}m=void 0}(this.i=m)&&(m=this.i,k=k!==null&&m in k?k[m]:void 0),this.data=k}else this.data=m}S(Mp,gt);function Fp(){pt.call(this),this.status=1}S(Fp,pt);function xa(m){this.g=m}S(xa,Dp),xa.prototype.ra=function(){Se(this.g,"a")},xa.prototype.qa=function(m){Se(this.g,new Mp(m))},xa.prototype.pa=function(m){Se(this.g,new Fp)},xa.prototype.oa=function(){Se(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,vi.prototype.send=vi.prototype.o,vi.prototype.open=vi.prototype.m,vi.prototype.close=vi.prototype.close,V4=function(){return new go},j4=function(){return Et()},P4=ot,s1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},an.NO_ERROR=0,an.TIMEOUT=8,an.HTTP_ERROR=6,a0=an,li.COMPLETE="complete",O4=li,Re.EventType=Fe,Fe.OPEN="a",Fe.CLOSE="b",Fe.ERROR="c",Fe.MESSAGE="d",Me.prototype.listen=Me.prototype.J,Kf=Re,Xn.prototype.listenOnce=Xn.prototype.K,Xn.prototype.getLastError=Xn.prototype.Ha,Xn.prototype.getLastErrorCode=Xn.prototype.ya,Xn.prototype.getStatus=Xn.prototype.ca,Xn.prototype.getResponseJson=Xn.prototype.La,Xn.prototype.getResponseText=Xn.prototype.la,Xn.prototype.send=Xn.prototype.ea,Xn.prototype.setWithCredentials=Xn.prototype.Fa,F4=Xn}).apply(typeof Bg<"u"?Bg:typeof self<"u"?self:typeof window<"u"?window:{});const dT="@firebase/firestore",fT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};fi.UNAUTHENTICATED=new fi(null),fi.GOOGLE_CREDENTIALS=new fi("google-credentials-uid"),fi.FIRST_PARTY=new fi("first-party-uid"),fi.MOCK_USER=new fi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=new US("@firebase/firestore");function Ju(){return xl.logLevel}function Ft(n,...e){if(xl.logLevel<=Mn.DEBUG){const t=e.map(qS);xl.debug(`Firestore (${Nd}): ${n}`,...t)}}function Xa(n,...e){if(xl.logLevel<=Mn.ERROR){const t=e.map(qS);xl.error(`Firestore (${Nd}): ${n}`,...t)}}function lh(n,...e){if(xl.logLevel<=Mn.WARN){const t=e.map(qS);xl.warn(`Firestore (${Nd}): ${n}`,...t)}}function qS(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,B4(n,r,t)}function B4(n,e,t){let r=`FIRESTORE (${Nd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Xa(r),new Error(r)}function Gn(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||B4(e,s,r)}function yn(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends ga{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(fi.UNAUTHENTICATED)))}shutdown(){}}class nF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class rF{constructor(e){this.t=e,this.currentUser=fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Gn(this.o===void 0,42304);let r=this.i;const s=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let o=new Ka;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ka,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const p=o;e.enqueueRetryable((async()=>{await p.promise,await s(this.currentUser)}))},h=p=>{Ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(Ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ka)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gn(typeof r.accessToken=="string",31837,{l:r}),new U4(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gn(e===null||typeof e=="string",2055,{h:e}),new fi(e)}}class iF{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=fi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sF{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new iF(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(fi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aF{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ss(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Gn(this.o===void 0,3512);const r=o=>{o.error!=null&&Ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,Ft("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{Ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Gn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new mT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=oF(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function Fn(n,e){return n<e?-1:n>e?1:0}function a1(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return fx(s)===fx(o)?Fn(s,o):fx(s)?1:-1}return Fn(n.length,e.length)}const cF=55296,lF=57343;function fx(n){const e=n.charCodeAt(0);return e>=cF&&e<=lF}function uh(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="__name__";class Ls{constructor(e,t,r){t===void 0?t=0:t>e.length&&tn(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&tn(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ls.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ls?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Ls.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Fn(e.length,t.length)}static compareSegments(e,t){const r=Ls.isNumericId(e),s=Ls.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Ls.extractNumericId(e).compare(Ls.extractNumericId(t)):a1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return tc.fromString(e.substring(4,e.length-2))}}class lr extends Ls{construct(e,t,r){return new lr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ct(nt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new lr(t)}static emptyPath(){return new lr([])}}const uF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class oi extends Ls{construct(e,t,r){return new oi(e,t,r)}static isValidIdentifier(e){return uF.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pT}static keyField(){return new oi([pT])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Ct(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new Ct(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ct(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,s+=2}else h==="`"?(l=!l,s++):h!=="."||l?(r+=h,s++):(o(),s++)}if(o(),l)throw new Ct(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new oi(t)}static emptyPath(){return new oi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.path=e}static fromPath(e){return new Jt(lr.fromString(e))}static fromName(e){return new Jt(lr.fromString(e).popFirst(5))}static empty(){return new Jt(lr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Jt(new lr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(n,e,t){if(!t)throw new Ct(nt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hF(n,e,t,r){if(e===!0&&r===!0)throw new Ct(nt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function gT(n){if(!Jt.isDocumentKey(n))throw new Ct(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yT(n){if(Jt.isDocumentKey(n))throw new Ct(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function z4(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function dy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":tn(12329,{type:typeof n})}function Ts(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ct(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dy(n);throw new Ct(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(n,e){const t={typeString:n};return e&&(t.value=e),t}function up(n,e){if(!z4(n))throw new Ct(nt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new Ct(nt.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=-62135596800,vT=1e6;class mr{static now(){return mr.fromMillis(Date.now())}static fromDate(e){return mr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*vT);return new mr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ct(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ct(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<wT)throw new Ct(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ct(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vT}_compareTo(e){return this.seconds===e.seconds?Fn(this.nanoseconds,e.nanoseconds):Fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(up(e,mr._jsonSchema))return new mr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mr._jsonSchemaVersion="firestore/timestamp/1.0",mr._jsonSchema={type:zr("string",mr._jsonSchemaVersion),seconds:zr("number"),nanoseconds:zr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{static fromTimestamp(e){return new fn(e)}static min(){return new fn(new mr(0,0))}static max(){return new fn(new mr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=-1;function dF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=fn.fromTimestamp(r===1e9?new mr(t+1,0):new mr(t,r));return new ac(s,Jt.empty(),e)}function fF(n){return new ac(n.readTime,n.key,lm)}class ac{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ac(fn.min(),Jt.empty(),lm)}static max(){return new ac(fn.max(),Jt.empty(),lm)}}function mF(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Jt.comparator(n.documentKey,e.documentKey),t!==0?t:Fn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dd(n){if(n.code!==nt.FAILED_PRECONDITION||n.message!==pF)throw n;Ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new at(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof at?t:at.resolve(t)}catch(t){return at.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):at.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):at.reject(t)}static resolve(e){return new at(((t,r)=>{t(e)}))}static reject(e){return new at(((t,r)=>{r(e)}))}static waitFor(e){return new at(((t,r)=>{let s=0,o=0,l=!1;e.forEach((h=>{++s,h.next((()=>{++o,l&&o===s&&t()}),(p=>r(p)))})),l=!0,o===s&&t()}))}static or(e){let t=at.resolve(!1);for(const r of e)t=t.next((s=>s?at.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,o)=>{r.push(t.call(this,s,o))})),this.waitFor(r)}static mapArray(e,t){return new at(((r,s)=>{const o=e.length,l=new Array(o);let h=0;for(let p=0;p<o;p++){const f=p;t(e[f]).next((v=>{l[f]=v,++h,h===o&&r(l)}),(v=>s(v)))}}))}static doWhile(e,t){return new at(((r,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):r()};o()}))}}function yF(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Md(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=-1;function my(n){return n==null}function _0(n){return n===0&&1/n==-1/0}function wF(n){return typeof n=="number"&&Number.isInteger(n)&&!_0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="";function vF(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=xT(e)),e=xF(n.get(t),e);return xT(e)}function xF(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case q4:t+="";break;default:t+=o}}return t}function xT(n){return n+q4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Cc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,t){this.comparator=e,this.root=t||ii.EMPTY}insert(e,t){return new vr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ii.BLACK,null,null))}remove(e){return new vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ii.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ug(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ug(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ug(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ug(this.root,e,this.comparator,!0)}}class Ug{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ii{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??ii.RED,this.left=s??ii.EMPTY,this.right=o??ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new ii(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ii.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return ii.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw tn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw tn(27949);return e+(this.isRed()?0:1)}}ii.EMPTY=null,ii.RED=!0,ii.BLACK=!1;ii.EMPTY=new class{constructor(){this.size=0}get key(){throw tn(57766)}get value(){throw tn(16141)}get color(){throw tn(16727)}get left(){throw tn(29726)}get right(){throw tn(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new ii(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.comparator=e,this.data=new vr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ET(this.data.getIterator())}getIteratorFrom(e){return new ET(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof $r)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new $r(this.comparator);return t.data=e,t}}class ET{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.fields=e,e.sort(oi.comparator)}static empty(){return new qi([])}unionWith(e){let t=new $r(oi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new qi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return uh(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new H4("Invalid base64 string: "+o):o}})(e);return new ci(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o})(e);return new ci(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ci.EMPTY_BYTE_STRING=new ci("");const SF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oc(n){if(Gn(!!n,39018),typeof n=="string"){let e=0;const t=SF.exec(n);if(Gn(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rr(n.seconds),nanos:Rr(n.nanos)}}function Rr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function cc(n){return typeof n=="string"?ci.fromBase64String(n):ci.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4="server_timestamp",K4="__type__",W4="__previous_value__",Y4="__local_write_time__";function GS(n){return(n?.mapValue?.fields||{})[K4]?.stringValue===G4}function py(n){const e=n.mapValue.fields[W4];return GS(e)?py(e):e}function um(n){const e=oc(n.mapValue.fields[Y4].timestampValue);return new mr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,t,r,s,o,l,h,p,f,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=f,this.isUsingEmulator=v}}const A0="(default)";class hm{constructor(e,t){this.projectId=e,this.database=t||A0}static empty(){return new hm("","")}get isDefaultDatabase(){return this.database===A0}isEqual(e){return e instanceof hm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="__type__",bF="__max__",Lg={mapValue:{}},Q4="__vector__",T0="value";function lc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?GS(n)?4:AF(n)?9007199254740991:_F(n)?10:11:tn(28295,{value:n})}function ca(n,e){if(n===e)return!0;const t=lc(n);if(t!==lc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return um(n).isEqual(um(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=oc(s.timestampValue),h=oc(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return cc(s.bytesValue).isEqual(cc(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return Rr(s.geoPointValue.latitude)===Rr(o.geoPointValue.latitude)&&Rr(s.geoPointValue.longitude)===Rr(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Rr(s.integerValue)===Rr(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Rr(s.doubleValue),h=Rr(o.doubleValue);return l===h?_0(l)===_0(h):isNaN(l)&&isNaN(h)}return!1})(n,e);case 9:return uh(n.arrayValue.values||[],e.arrayValue.values||[],ca);case 10:case 11:return(function(s,o){const l=s.mapValue.fields||{},h=o.mapValue.fields||{};if(ST(l)!==ST(h))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(h[p]===void 0||!ca(l[p],h[p])))return!1;return!0})(n,e);default:return tn(52216,{left:n})}}function dm(n,e){return(n.values||[]).find((t=>ca(t,e)))!==void 0}function hh(n,e){if(n===e)return 0;const t=lc(n),r=lc(e);if(t!==r)return Fn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fn(n.booleanValue,e.booleanValue);case 2:return(function(o,l){const h=Rr(o.integerValue||o.doubleValue),p=Rr(l.integerValue||l.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(n,e);case 3:return bT(n.timestampValue,e.timestampValue);case 4:return bT(um(n),um(e));case 5:return a1(n.stringValue,e.stringValue);case 6:return(function(o,l){const h=cc(o),p=cc(l);return h.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(o,l){const h=o.split("/"),p=l.split("/");for(let f=0;f<h.length&&f<p.length;f++){const v=Fn(h[f],p[f]);if(v!==0)return v}return Fn(h.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,l){const h=Fn(Rr(o.latitude),Rr(l.latitude));return h!==0?h:Fn(Rr(o.longitude),Rr(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return _T(n.arrayValue,e.arrayValue);case 10:return(function(o,l){const h=o.fields||{},p=l.fields||{},f=h[T0]?.arrayValue,v=p[T0]?.arrayValue,S=Fn(f?.values?.length||0,v?.values?.length||0);return S!==0?S:_T(f,v)})(n.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Lg.mapValue&&l===Lg.mapValue)return 0;if(o===Lg.mapValue)return 1;if(l===Lg.mapValue)return-1;const h=o.fields||{},p=Object.keys(h),f=l.fields||{},v=Object.keys(f);p.sort(),v.sort();for(let S=0;S<p.length&&S<v.length;++S){const C=a1(p[S],v[S]);if(C!==0)return C;const R=hh(h[p[S]],f[v[S]]);if(R!==0)return R}return Fn(p.length,v.length)})(n.mapValue,e.mapValue);default:throw tn(23264,{he:t})}}function bT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fn(n,e);const t=oc(n),r=oc(e),s=Fn(t.seconds,r.seconds);return s!==0?s:Fn(t.nanos,r.nanos)}function _T(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=hh(t[s],r[s]);if(o)return o}return Fn(t.length,r.length)}function dh(n){return o1(n)}function o1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=oc(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return cc(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Jt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=o1(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${o1(t.fields[l])}`;return s+"}"})(n.mapValue):tn(61005,{value:n})}function o0(n){switch(lc(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=py(n);return e?16+o0(e):16;case 5:return 2*n.stringValue.length;case 6:return cc(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+o0(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Cc(r.fields,((o,l)=>{s+=o.length+o0(l)})),s})(n.mapValue);default:throw tn(13486,{value:n})}}function AT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function c1(n){return!!n&&"integerValue"in n}function KS(n){return!!n&&"arrayValue"in n}function TT(n){return!!n&&"nullValue"in n}function kT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function c0(n){return!!n&&"mapValue"in n}function _F(n){return(n?.mapValue?.fields||{})[J4]?.stringValue===Q4}function Zf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Cc(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Zf(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zf(n.arrayValue.values[t]);return e}return{...n}}function AF(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===bF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.value=e}static empty(){return new Mi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!c0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zf(t)}setAll(e){let t=oi.emptyPath(),r={},s=[];e.forEach(((l,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,r,s),r={},s=[],t=h.popLast()}l?r[h.lastSegment()]=Zf(l):s.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());c0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ca(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];c0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Cc(t,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Mi(Zf(this.value))}}function X4(n){const e=[];return Cc(n.fields,((t,r)=>{const s=new oi([t]);if(c0(r)){const o=X4(r.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)})),new qi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,t,r,s,o,l,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=l,this.documentState=h}static newInvalidDocument(e){return new mi(e,0,fn.min(),fn.min(),fn.min(),Mi.empty(),0)}static newFoundDocument(e,t,r,s){return new mi(e,1,t,fn.min(),r,s,0)}static newNoDocument(e,t){return new mi(e,2,t,fn.min(),fn.min(),Mi.empty(),0)}static newUnknownDocument(e,t){return new mi(e,3,t,fn.min(),fn.min(),Mi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(fn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,t){this.position=e,this.inclusive=t}}function IT(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],l=n.position[s];if(o.field.isKeyField()?r=Jt.comparator(Jt.fromName(l.referenceValue),t.key):r=hh(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function CT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ca(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t="asc"){this.field=e,this.dir=t}}function TF(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{}class Ur extends Z4{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new IF(e,t,r):t==="array-contains"?new NF(e,r):t==="in"?new DF(e,r):t==="not-in"?new MF(e,r):t==="array-contains-any"?new FF(e,r):new Ur(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new CF(e,r):new RF(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(hh(t,this.value)):t!==null&&lc(this.value)===lc(t)&&this.matchesComparison(hh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Is extends Z4{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Is(e,t)}matches(e){return e3(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function e3(n){return n.op==="and"}function t3(n){return kF(n)&&e3(n)}function kF(n){for(const e of n.filters)if(e instanceof Is)return!1;return!0}function l1(n){if(n instanceof Ur)return n.field.canonicalString()+n.op.toString()+dh(n.value);if(t3(n))return n.filters.map((e=>l1(e))).join(",");{const e=n.filters.map((t=>l1(t))).join(",");return`${n.op}(${e})`}}function n3(n,e){return n instanceof Ur?(function(r,s){return s instanceof Ur&&r.op===s.op&&r.field.isEqual(s.field)&&ca(r.value,s.value)})(n,e):n instanceof Is?(function(r,s){return s instanceof Is&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,l,h)=>o&&n3(l,s.filters[h])),!0):!1})(n,e):void tn(19439)}function r3(n){return n instanceof Ur?(function(t){return`${t.field.canonicalString()} ${t.op} ${dh(t.value)}`})(n):n instanceof Is?(function(t){return t.op.toString()+" {"+t.getFilters().map(r3).join(" ,")+"}"})(n):"Filter"}class IF extends Ur{constructor(e,t,r){super(e,t,r),this.key=Jt.fromName(r.referenceValue)}matches(e){const t=Jt.comparator(e.key,this.key);return this.matchesComparison(t)}}class CF extends Ur{constructor(e,t){super(e,"in",t),this.keys=i3("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class RF extends Ur{constructor(e,t){super(e,"not-in",t),this.keys=i3("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function i3(n,e){return(e.arrayValue?.values||[]).map((t=>Jt.fromName(t.referenceValue)))}class NF extends Ur{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return KS(t)&&dm(t.arrayValue,this.value)}}class DF extends Ur{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&dm(this.value.arrayValue,t)}}class MF extends Ur{constructor(e,t){super(e,"not-in",t)}matches(e){if(dm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!dm(this.value.arrayValue,t)}}class FF extends Ur{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!KS(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>dm(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,t=null,r=[],s=[],o=null,l=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=l,this.endAt=h,this.Te=null}}function RT(n,e=null,t=[],r=[],s=null,o=null,l=null){return new OF(n,e,t,r,s,o,l)}function WS(n){const e=yn(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>l1(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),my(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>dh(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>dh(r))).join(",")),e.Te=t}return e.Te}function YS(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!TF(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!n3(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!CT(n.startAt,e.startAt)&&CT(n.endAt,e.endAt)}function u1(n){return Jt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t=null,r=[],s=[],o=null,l="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=l,this.startAt=h,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PF(n,e,t,r,s,o,l,h){return new Fd(n,e,t,r,s,o,l,h)}function gy(n){return new Fd(n)}function NT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function s3(n){return n.collectionGroup!==null}function em(n){const e=yn(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new $r(oi.comparator);return l.filters.forEach((p=>{p.getFlattenedFilters().forEach((f=>{f.isInequality()&&(h=h.add(f.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new fm(o,r))})),t.has(oi.keyField().canonicalString())||e.Ie.push(new fm(oi.keyField(),r))}return e.Ie}function Zs(n){const e=yn(n);return e.Ee||(e.Ee=jF(e,em(n))),e.Ee}function jF(n,e){if(n.limitType==="F")return RT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new fm(s.field,o)}));const t=n.endAt?new k0(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new k0(n.startAt.position,n.startAt.inclusive):null;return RT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function h1(n,e){const t=n.filters.concat([e]);return new Fd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function d1(n,e,t){return new Fd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yy(n,e){return YS(Zs(n),Zs(e))&&n.limitType===e.limitType}function a3(n){return`${WS(Zs(n))}|lt:${n.limitType}`}function Qu(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>r3(s))).join(", ")}]`),my(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>dh(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>dh(s))).join(",")),`Target(${r})`})(Zs(n))}; limitType=${n.limitType})`}function wy(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Jt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of em(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,h,p){const f=IT(l,h,p);return l.inclusive?f<=0:f<0})(r.startAt,em(r),s)||r.endAt&&!(function(l,h,p){const f=IT(l,h,p);return l.inclusive?f>=0:f>0})(r.endAt,em(r),s))})(n,e)}function VF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function o3(n){return(e,t)=>{let r=!1;for(const s of em(n)){const o=BF(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function BF(n,e,t){const r=n.field.isKeyField()?Jt.comparator(e.key,t.key):(function(o,l,h){const p=l.data.field(o),f=h.data.field(o);return p!==null&&f!==null?hh(p,f):tn(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tn(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Cc(this.inner,((t,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return $4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=new vr(Jt.comparator);function Za(){return UF}const c3=new vr(Jt.comparator);function Wf(...n){let e=c3;for(const t of n)e=e.insert(t.key,t);return e}function l3(n){let e=c3;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function ol(){return tm()}function u3(){return tm()}function tm(){return new hu((n=>n.toString()),((n,e)=>n.isEqual(e)))}const LF=new vr(Jt.comparator),zF=new $r(Jt.comparator);function On(...n){let e=zF;for(const t of n)e=e.add(t);return e}const qF=new $r(Fn);function $F(){return qF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_0(e)?"-0":e}}function h3(n){return{integerValue:""+n}}function HF(n,e){return wF(e)?h3(e):JS(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(){this._=void 0}}function GF(n,e,t){return n instanceof I0?(function(s,o){const l={fields:{[K4]:{stringValue:G4},[Y4]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&GS(o)&&(o=py(o)),o&&(l.fields[W4]=o),{mapValue:l}})(t,e):n instanceof mm?f3(n,e):n instanceof pm?m3(n,e):(function(s,o){const l=d3(s,o),h=DT(l)+DT(s.Ae);return c1(l)&&c1(s.Ae)?h3(h):JS(s.serializer,h)})(n,e)}function KF(n,e,t){return n instanceof mm?f3(n,e):n instanceof pm?m3(n,e):t}function d3(n,e){return n instanceof C0?(function(r){return c1(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class I0 extends vy{}class mm extends vy{constructor(e){super(),this.elements=e}}function f3(n,e){const t=p3(e);for(const r of n.elements)t.some((s=>ca(s,r)))||t.push(r);return{arrayValue:{values:t}}}class pm extends vy{constructor(e){super(),this.elements=e}}function m3(n,e){let t=p3(e);for(const r of n.elements)t=t.filter((s=>!ca(s,r)));return{arrayValue:{values:t}}}class C0 extends vy{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function DT(n){return Rr(n.integerValue||n.doubleValue)}function p3(n){return KS(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function WF(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof mm&&s instanceof mm||r instanceof pm&&s instanceof pm?uh(r.elements,s.elements,ca):r instanceof C0&&s instanceof C0?ca(r.Ae,s.Ae):r instanceof I0&&s instanceof I0})(n.transform,e.transform)}class YF{constructor(e,t){this.version=e,this.transformResults=t}}class ea{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ea}static exists(e){return new ea(void 0,e)}static updateTime(e){return new ea(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function l0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class xy{}function g3(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new w3(n.key,ea.none()):new hp(n.key,n.data,ea.none());{const t=n.data,r=Mi.empty();let s=new $r(oi.comparator);for(let o of e.fields)if(!s.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),s=s.add(o)}return new Rc(n.key,r,new qi(s.toArray()),ea.none())}}function JF(n,e,t){n instanceof hp?(function(s,o,l){const h=s.value.clone(),p=FT(s.fieldTransforms,o,l.transformResults);h.setAll(p),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Rc?(function(s,o,l){if(!l0(s.precondition,o))return void o.convertToUnknownDocument(l.version);const h=FT(s.fieldTransforms,o,l.transformResults),p=o.data;p.setAll(y3(s)),p.setAll(h),o.convertToFoundDocument(l.version,p).setHasCommittedMutations()})(n,e,t):(function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function nm(n,e,t,r){return n instanceof hp?(function(o,l,h,p){if(!l0(o.precondition,l))return h;const f=o.value.clone(),v=OT(o.fieldTransforms,p,l);return f.setAll(v),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(n,e,t,r):n instanceof Rc?(function(o,l,h,p){if(!l0(o.precondition,l))return h;const f=OT(o.fieldTransforms,p,l),v=l.data;return v.setAll(y3(o)),v.setAll(f),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((S=>S.field)))})(n,e,t,r):(function(o,l,h){return l0(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h})(n,e,t)}function QF(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=d3(r.transform,s||null);o!=null&&(t===null&&(t=Mi.empty()),t.set(r.field,o))}return t||null}function MT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&uh(r,s,((o,l)=>WF(o,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hp extends xy{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Rc extends xy{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function y3(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function FT(n,e,t){const r=new Map;Gn(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const o=n[s],l=o.transform,h=e.data.field(o.field);r.set(o.field,KF(l,h,t[s]))}return r}function OT(n,e,t){const r=new Map;for(const s of n){const o=s.transform,l=t.data.field(s.field);r.set(s.field,GF(o,l,e))}return r}class w3 extends xy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XF extends xy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&JF(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=nm(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=nm(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=u3();return this.mutations.forEach((s=>{const o=e.get(s.key),l=o.overlayedDocument;let h=this.applyToLocalView(l,o.mutatedFields);h=t.has(s.key)?null:h;const p=g3(l,h);p!==null&&r.set(s.key,p),l.isValidDocument()||l.convertToNoDocument(fn.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),On())}isEqual(e){return this.batchId===e.batchId&&uh(this.mutations,e.mutations,((t,r)=>MT(t,r)))&&uh(this.baseMutations,e.baseMutations,((t,r)=>MT(t,r)))}}class QS{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Gn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return LF})();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,r[l].version);return new QS(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vr,Vn;function nO(n){switch(n){case nt.OK:return tn(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return tn(15467,{code:n})}}function v3(n){if(n===void 0)return Xa("GRPC error has no .code"),nt.UNKNOWN;switch(n){case Vr.OK:return nt.OK;case Vr.CANCELLED:return nt.CANCELLED;case Vr.UNKNOWN:return nt.UNKNOWN;case Vr.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Vr.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Vr.INTERNAL:return nt.INTERNAL;case Vr.UNAVAILABLE:return nt.UNAVAILABLE;case Vr.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Vr.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Vr.NOT_FOUND:return nt.NOT_FOUND;case Vr.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Vr.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Vr.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Vr.ABORTED:return nt.ABORTED;case Vr.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Vr.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Vr.DATA_LOSS:return nt.DATA_LOSS;default:return tn(39323,{code:n})}}(Vn=Vr||(Vr={}))[Vn.OK=0]="OK",Vn[Vn.CANCELLED=1]="CANCELLED",Vn[Vn.UNKNOWN=2]="UNKNOWN",Vn[Vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vn[Vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vn[Vn.NOT_FOUND=5]="NOT_FOUND",Vn[Vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vn[Vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vn[Vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vn[Vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vn[Vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vn[Vn.ABORTED=10]="ABORTED",Vn[Vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vn[Vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vn[Vn.INTERNAL=13]="INTERNAL",Vn[Vn.UNAVAILABLE=14]="UNAVAILABLE",Vn[Vn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=new tc([4294967295,4294967295],0);function PT(n){const e=rO().encode(n),t=new M4;return t.update(e),new Uint8Array(t.digest())}function jT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new tc([t,r],0),new tc([s,o],0)]}class XS{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Yf(`Invalid padding: ${t}`);if(r<0)throw new Yf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Yf(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=tc.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(tc.fromNumber(r)));return s.compare(iO)===1&&(s=new tc([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=PT(e),[r,s]=jT(t);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);if(!this.we(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new XS(o,s,t);return r.forEach((h=>l.insert(h))),l}insert(e){if(this.ge===0)return;const t=PT(e),[r,s]=jT(t);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Yf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,dp.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Sy(fn.min(),s,new vr(Fn),Za(),On())}}class dp{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new dp(r,t,On(),On(),On())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class x3{constructor(e,t){this.targetId=e,this.Ce=t}}class S3{constructor(e,t,r=ci.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class VT{constructor(){this.ve=0,this.Fe=BT(),this.Me=ci.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=On(),t=On(),r=On();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:tn(38017,{changeType:o})}})),new dp(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=BT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Za(),this.Je=zg(),this.He=zg(),this.Ye=new vr(Fn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:tn(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(u1(o))if(r===0){const l=new Jt(o.path);this.et(t,l,mi.newNoDocument(l,fn.min()))}else Gn(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const h=this.ut(e),p=h?this.ct(h,e,l):1;if(p!==0){this.it(t);const f=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let l,h;try{l=cc(r).toUint8Array()}catch(p){if(p instanceof H4)return lh("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new XS(l,s,o)}catch(p){return lh(p instanceof Yf?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((o=>{const l=this.Ge.ht(),h=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,l)=>{const h=this.ot(l);if(h){if(o.current&&u1(h.target)){const p=new Jt(h.target.path);this.It(p).has(l)||this.Et(l,p)||this.et(l,p,mi.newNoDocument(p,e))}o.Be&&(t.set(l,o.ke()),o.qe())}}));let r=On();this.He.forEach(((o,l)=>{let h=!0;l.forEachWhile((p=>{const f=this.ot(p);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const s=new Sy(e,t,this.Ye,this.je,r);return this.je=Za(),this.Je=zg(),this.He=zg(),this.Ye=new vr(Fn),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new VT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new $r(Fn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new $r(Fn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ft("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new VT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function zg(){return new vr(Jt.comparator)}function BT(){return new vr(Jt.comparator)}const aO={asc:"ASCENDING",desc:"DESCENDING"},oO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cO={and:"AND",or:"OR"};class lO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function f1(n,e){return n.useProto3Json||my(e)?e:{value:e}}function R0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E3(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function uO(n,e){return R0(n,e.toTimestamp())}function ta(n){return Gn(!!n,49232),fn.fromTimestamp((function(t){const r=oc(t);return new mr(r.seconds,r.nanos)})(n))}function ZS(n,e){return m1(n,e).canonicalString()}function m1(n,e){const t=(function(s){return new lr(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function b3(n){const e=lr.fromString(n);return Gn(I3(e),10190,{key:e.toString()}),e}function p1(n,e){return ZS(n.databaseId,e.path)}function mx(n,e){const t=b3(e);if(t.get(1)!==n.databaseId.projectId)throw new Ct(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ct(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Jt(A3(t))}function _3(n,e){return ZS(n.databaseId,e)}function hO(n){const e=b3(n);return e.length===4?lr.emptyPath():A3(e)}function g1(n){return new lr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function A3(n){return Gn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function UT(n,e,t){return{name:p1(n,e),fields:t.value.mapValue.fields}}function dO(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:tn(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(f,v){return f.useProto3Json?(Gn(v===void 0||typeof v=="string",58123),ci.fromBase64String(v||"")):(Gn(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),ci.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&(function(f){const v=f.code===void 0?nt.UNKNOWN:v3(f.code);return new Ct(v,f.message||"")})(l);t=new S3(r,s,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=mx(n,r.document.name),o=ta(r.document.updateTime),l=r.document.createTime?ta(r.document.createTime):fn.min(),h=new Mi({mapValue:{fields:r.document.fields}}),p=mi.newFoundDocument(s,o,l,h),f=r.targetIds||[],v=r.removedTargetIds||[];t=new u0(f,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=mx(n,r.document),o=r.readTime?ta(r.readTime):fn.min(),l=mi.newNoDocument(s,o),h=r.removedTargetIds||[];t=new u0([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=mx(n,r.document),o=r.removedTargetIds||[];t=new u0([],o,s,null)}else{if(!("filter"in e))return tn(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,l=new tO(s,o),h=r.targetId;t=new x3(h,l)}}return t}function fO(n,e){let t;if(e instanceof hp)t={update:UT(n,e.key,e.value)};else if(e instanceof w3)t={delete:p1(n,e.key)};else if(e instanceof Rc)t={update:UT(n,e.key,e.data),updateMask:EO(e.fieldMask)};else{if(!(e instanceof XF))return tn(16599,{Vt:e.type});t={verify:p1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const h=l.transform;if(h instanceof I0)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof mm)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof pm)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof C0)return{fieldPath:l.field.canonicalString(),increment:h.Ae};throw tn(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:uO(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:tn(27497)})(n,e.precondition)),t}function mO(n,e){return n&&n.length>0?(Gn(e!==void 0,14353),n.map((t=>(function(s,o){let l=s.updateTime?ta(s.updateTime):ta(o);return l.isEqual(fn.min())&&(l=ta(o)),new YF(l,s.transformResults||[])})(t,e)))):[]}function pO(n,e){return{documents:[_3(n,e.path)]}}function gO(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=_3(n,s);const o=(function(f){if(f.length!==0)return k3(Is.create(f,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const l=(function(f){if(f.length!==0)return f.map((v=>(function(C){return{field:Xu(C.field),direction:vO(C.dir)}})(v)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=f1(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:s}}function yO(n){let e=hO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Gn(r===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let o=[];t.where&&(o=(function(S){const C=T3(S);return C instanceof Is&&t3(C)?C.getFilters():[C]})(t.where));let l=[];t.orderBy&&(l=(function(S){return S.map((C=>(function(B){return new fm(Zu(B.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(C)))})(t.orderBy));let h=null;t.limit&&(h=(function(S){let C;return C=typeof S=="object"?S.value:S,my(C)?null:C})(t.limit));let p=null;t.startAt&&(p=(function(S){const C=!!S.before,R=S.values||[];return new k0(R,C)})(t.startAt));let f=null;return t.endAt&&(f=(function(S){const C=!S.before,R=S.values||[];return new k0(R,C)})(t.endAt)),PF(e,s,l,o,h,"F",p,f)}function wO(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tn(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function T3(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Zu(t.unaryFilter.field);return Ur.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Zu(t.unaryFilter.field);return Ur.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zu(t.unaryFilter.field);return Ur.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Zu(t.unaryFilter.field);return Ur.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return tn(61313);default:return tn(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ur.create(Zu(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return tn(58110);default:return tn(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Is.create(t.compositeFilter.filters.map((r=>T3(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return tn(1026)}})(t.compositeFilter.op))})(n):tn(30097,{filter:n})}function vO(n){return aO[n]}function xO(n){return oO[n]}function SO(n){return cO[n]}function Xu(n){return{fieldPath:n.canonicalString()}}function Zu(n){return oi.fromServerFormat(n.fieldPath)}function k3(n){return n instanceof Ur?(function(t){if(t.op==="=="){if(kT(t.value))return{unaryFilter:{field:Xu(t.field),op:"IS_NAN"}};if(TT(t.value))return{unaryFilter:{field:Xu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(kT(t.value))return{unaryFilter:{field:Xu(t.field),op:"IS_NOT_NAN"}};if(TT(t.value))return{unaryFilter:{field:Xu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xu(t.field),op:xO(t.op),value:t.value}}})(n):n instanceof Is?(function(t){const r=t.getFilters().map((s=>k3(s)));return r.length===1?r[0]:{compositeFilter:{op:SO(t.op),filters:r}}})(n):tn(54877,{filter:n})}function EO(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function I3(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,t,r,s,o=fn.min(),l=fn.min(),h=ci.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.yt=e}}function _O(n){const e=yO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?d1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this.Cn=new TO}addToCollectionParentIndex(e,t){return this.Cn.add(t),at.resolve()}getCollectionParents(e,t){return at.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return at.resolve()}deleteFieldIndex(e,t){return at.resolve()}deleteAllFieldIndexes(e){return at.resolve()}createTargetIndexes(e,t){return at.resolve()}getDocumentsMatchingTarget(e,t){return at.resolve(null)}getIndexType(e,t){return at.resolve(0)}getFieldIndexes(e,t){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}getMinOffset(e,t){return at.resolve(ac.min())}getMinOffsetFromCollectionGroup(e,t){return at.resolve(ac.min())}updateCollectionGroup(e,t,r){return at.resolve()}updateIndexEntries(e,t){return at.resolve()}}class TO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new $r(lr.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new $r(lr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},C3=41943040;class Ni{static withCacheSize(e){return new Ni(e,Ni.DEFAULT_COLLECTION_PERCENTILE,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni.DEFAULT_COLLECTION_PERCENTILE=10,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ni.DEFAULT=new Ni(C3,Ni.DEFAULT_COLLECTION_PERCENTILE,Ni.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ni.DISABLED=new Ni(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fh(0)}static cr(){return new fh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="LruGarbageCollector",kO=1048576;function qT([n,e],[t,r]){const s=Fn(n,t);return s===0?Fn(e,r):s}class IO{constructor(e){this.Ir=e,this.buffer=new $r(qT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();qT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class CO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ft(zT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Md(t)?Ft(zT,"Ignoring IndexedDB error during garbage collection: ",t):await Dd(t)}await this.Vr(3e5)}))}}class RO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return at.resolve(fy.ce);const r=new IO(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ft("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(LT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,o,l,h,p,f;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(Ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),s=this.params.maximumSequenceNumbersToCollect):s=S,l=Date.now(),this.nthSequenceNumber(e,s)))).next((S=>(r=S,h=Date.now(),this.removeTargets(e,r,t)))).next((S=>(o=S,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(f=Date.now(),Ju()<=Mn.DEBUG&&Ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-v}ms
	Determined least recently used ${s} in `+(h-l)+`ms
	Removed ${o} targets in `+(p-h)+`ms
	Removed ${S} documents in `+(f-p)+`ms
Total Duration: ${f-v}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:S}))))}}function NO(n,e){return new RO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.changes=new hu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?at.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&nm(r.mutation,s,qi.empty(),mr.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,On()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=On()){const s=ol();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((o=>{let l=Wf();return o.forEach(((h,p)=>{l=l.insert(h,p.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=ol();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,On())))}populateOverlays(e,t,r){const s=[];return r.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((l,h)=>{t.set(l,h)}))}))}computeViews(e,t,r,s){let o=Za();const l=tm(),h=(function(){return tm()})();return t.forEach(((p,f)=>{const v=r.get(f.key);s.has(f.key)&&(v===void 0||v.mutation instanceof Rc)?o=o.insert(f.key,f):v!==void 0?(l.set(f.key,v.mutation.getFieldMask()),nm(v.mutation,f,v.mutation.getFieldMask(),mr.now())):l.set(f.key,qi.empty())})),this.recalculateAndSaveOverlays(e,o).next((p=>(p.forEach(((f,v)=>l.set(f,v))),t.forEach(((f,v)=>h.set(f,new MO(v,l.get(f)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=tm();let s=new vr(((l,h)=>l-h)),o=On();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const h of l)h.keys().forEach((p=>{const f=t.get(p);if(f===null)return;let v=r.get(p)||qi.empty();v=h.applyToLocalView(f,v),r.set(p,v);const S=(s.get(h.batchId)||On()).add(p);s=s.insert(h.batchId,S)}))})).next((()=>{const l=[],h=s.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),f=p.key,v=p.value,S=u3();v.forEach((C=>{if(!o.has(C)){const R=g3(t.get(C),r.get(C));R!==null&&S.set(C,R),o=o.add(C)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,S))}return at.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(l){return Jt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):s3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):at.resolve(ol());let h=lm,p=o;return l.next((f=>at.forEach(f,((v,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),o.get(v)?at.resolve():this.remoteDocumentCache.getEntry(e,v).next((C=>{p=p.insert(v,C)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,p,f,On()))).next((v=>({batchId:h,changes:l3(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Jt(t)).next((r=>{let s=Wf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let l=Wf();return this.indexManager.getCollectionParents(e,o).next((h=>at.forEach(h,(p=>{const f=(function(S,C){return new Fd(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(t,p.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next((v=>{v.forEach(((S,C)=>{l=l.insert(S,C)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s)))).next((l=>{o.forEach(((p,f)=>{const v=f.getKey();l.get(v)===null&&(l=l.insert(v,mi.newInvalidDocument(v)))}));let h=Wf();return l.forEach(((p,f)=>{const v=o.get(p);v!==void 0&&nm(v.mutation,f,qi.empty(),mr.now()),wy(t,f)&&(h=h.insert(p,f))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return at.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:ta(s.createTime)}})(t)),at.resolve()}getNamedQuery(e,t){return at.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:_O(s.bundledQuery),readTime:ta(s.readTime)}})(t)),at.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.overlays=new vr(Jt.comparator),this.qr=new Map}getOverlay(e,t){return at.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ol();return at.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,o)=>{this.St(e,t,o)})),at.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),at.resolve()}getOverlaysForCollection(e,t,r){const s=ol(),o=t.length+1,l=new Jt(t.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const p=h.getNext().value,f=p.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&p.largestBatchId>r&&s.set(p.getKey(),p)}return at.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new vr(((f,v)=>f-v));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let v=o.get(f.largestBatchId);v===null&&(v=ol(),o=o.insert(f.largestBatchId,v)),v.set(f.getKey(),f)}}const h=ol(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((f,v)=>h.set(f,v))),!(h.size()>=s)););return at.resolve(h)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new eO(t,r));let o=this.qr.get(t);o===void 0&&(o=On(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.sessionToken=ci.EMPTY_BYTE_STRING}getSessionToken(e){return at.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,at.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.Qr=new $r(Yr.$r),this.Ur=new $r(Yr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Yr(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Yr(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Jt(new lr([])),r=new Yr(t,e),s=new Yr(t,e+1),o=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Jt(new lr([])),r=new Yr(t,e),s=new Yr(t,e+1);let o=On();return this.Ur.forEachInRange([r,s],(l=>{o=o.add(l.key)})),o}containsKey(e){const t=new Yr(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Yr{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Jt.comparator(e.key,t.key)||Fn(e.Yr,t.Yr)}static Kr(e,t){return Fn(e.Yr,t.Yr)||Jt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new $r(Yr.$r)}checkEmpty(e){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new ZF(o,t,r,s);this.mutationQueue.push(l);for(const h of s)this.Zr=this.Zr.add(new Yr(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return at.resolve(l)}lookupMutationBatch(e,t){return at.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),o=s<0?0:s;return at.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?HS:this.tr-1)}getAllMutationBatches(e){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yr(t,0),s=new Yr(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],(l=>{const h=this.Xr(l.Yr);o.push(h)})),at.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $r(Fn);return t.forEach((s=>{const o=new Yr(s,0),l=new Yr(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(h=>{r=r.add(h.Yr)}))})),at.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;Jt.isDocumentKey(o)||(o=o.child(""));const l=new Yr(new Jt(o),0);let h=new $r(Fn);return this.Zr.forEachWhile((p=>{const f=p.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(h=h.add(p.Yr)),!0)}),l),at.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Gn(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return at.forEach(t.mutations,(s=>{const o=new Yr(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Yr(t,0),s=this.Zr.firstAfterOrEqual(r);return at.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,at.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.ri=e,this.docs=(function(){return new vr(Jt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return at.resolve(r?r.document.mutableCopy():mi.newInvalidDocument(t))}getEntries(e,t){let r=Za();return t.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():mi.newInvalidDocument(s))})),at.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=Za();const l=t.path,h=new Jt(l.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:f,value:{document:v}}=p.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||mF(fF(v),r)<=0||(s.has(v.key)||wy(t,v))&&(o=o.insert(v.key,v.mutableCopy()))}return at.resolve(o)}getAllFromCollectionGroup(e,t,r,s){tn(9500)}ii(e,t){return at.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new UO(this)}getSize(e){return at.resolve(this.size)}}class UO extends DO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),at.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.persistence=e,this.si=new hu((t=>WS(t)),YS),this.lastRemoteSnapshotVersion=fn.min(),this.highestTargetId=0,this.oi=0,this._i=new eE,this.targetCount=0,this.ai=fh.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),at.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new fh(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,at.resolve()}updateTargetData(e,t){return this.Pr(t),at.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.si.forEach(((l,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),at.waitFor(o).next((()=>s))}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return at.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),at.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((l=>{o.push(s.markPotentiallyOrphaned(e,l))})),at.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),at.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return at.resolve(r)}containsKey(e,t){return at.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,t){this.ui={},this.overlays={},this.ci=new fy(0),this.li=!1,this.li=!0,this.hi=new jO,this.referenceDelegate=e(this),this.Pi=new LO(this),this.indexManager=new AO,this.remoteDocumentCache=(function(s){return new BO(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new bO(t),this.Ii=new OO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new VO(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Ft("MemoryPersistence","Starting transaction:",e);const s=new zO(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,t){return at.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class zO extends gF{constructor(e){super(),this.currentSequenceNumber=e}}class tE{constructor(e){this.persistence=e,this.Ri=new eE,this.Vi=null}static mi(e){return new tE(e)}get fi(){if(this.Vi)return this.Vi;throw tn(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),at.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),at.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),at.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.fi,(r=>{const s=Jt.fromPath(r);return this.gi(e,s).next((o=>{o||t.removeEntry(s,fn.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return at.or([()=>at.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class N0{constructor(e,t){this.persistence=e,this.pi=new hu((r=>vF(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=NO(this,t)}static mi(e,t){return new N0(e,t)}Ei(){}di(e){return at.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return at.forEach(this.pi,((r,s)=>this.br(e,r,s).next((o=>o?at.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,t).next((h=>{h||(r++,o.removeEntry(l,fn.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),at.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),at.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),at.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),at.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=o0(e.data.value)),t}br(e,t,r){return at.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return at.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=On(),s=On();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new nE(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return O5()?8:yF(yi())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.ys(e,t).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,t,s,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new qO;return this.Ss(e,t,l).next((h=>{if(o.result=h,this.Vs)return this.bs(e,t,l,h.size)}))})).next((()=>o.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(Ju()<=Mn.DEBUG&&Ft("QueryEngine","SDK will not create cache indexes for query:",Qu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),at.resolve()):(Ju()<=Mn.DEBUG&&Ft("QueryEngine","Query:",Qu(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ju()<=Mn.DEBUG&&Ft("QueryEngine","The SDK decides to create cache indexes for query:",Qu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zs(t))):at.resolve())}ys(e,t){if(NT(t))return at.resolve(null);let r=Zs(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=d1(t,null,"F"),r=Zs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=On(...o);return this.ps.getDocuments(e,l).next((h=>this.indexManager.getMinOffset(e,r).next((p=>{const f=this.Ds(t,h);return this.Cs(t,f,l,p.readTime)?this.ys(e,d1(t,null,"F")):this.vs(e,f,t,p)}))))})))))}ws(e,t,r,s){return NT(t)||s.isEqual(fn.min())?at.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(t,o);return this.Cs(t,l,r,s)?at.resolve(null):(Ju()<=Mn.DEBUG&&Ft("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qu(t)),this.vs(e,l,t,dF(s,lm)).next((h=>h)))}))}Ds(e,t){let r=new $r(o3(e));return t.forEach(((s,o)=>{wy(e,o)&&(r=r.add(o))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,r){return Ju()<=Mn.DEBUG&&Ft("QueryEngine","Using full collection scan to execute query:",Qu(t)),this.ps.getDocumentsMatchingQuery(e,t,ac.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((o=>(t.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="LocalStore",HO=3e8;class GO{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new vr(Fn),this.xs=new hu((o=>WS(o)),YS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function KO(n,e,t,r){return new GO(n,e,t,r)}async function N3(n,e){const t=yn(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],h=[];let p=On();for(const f of s){l.push(f.batchId);for(const v of f.mutations)p=p.add(v.key)}for(const f of o){h.push(f.batchId);for(const v of f.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(r,p).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:h})))}))}))}function WO(n,e){const t=yn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,p,f,v){const S=f.batch,C=S.keys();let R=at.resolve();return C.forEach((B=>{R=R.next((()=>v.getEntry(p,B))).next((re=>{const N=f.docVersions.get(B);Gn(N!==null,48541),re.version.compareTo(N)<0&&(S.applyToRemoteDocument(re,f),re.isValidDocument()&&(re.setReadTime(f.commitVersion),v.addEntry(re)))}))})),R.next((()=>h.mutationQueue.removeMutationBatch(p,S)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let p=On();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(p=p.add(h.batch.mutations[f].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function D3(n){const e=yn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function YO(n,e){const t=yn(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const h=[];e.targetChanges.forEach(((v,S)=>{const C=s.get(S);if(!C)return;h.push(t.Pi.removeMatchingKeys(o,v.removedDocuments,S).next((()=>t.Pi.addMatchingKeys(o,v.addedDocuments,S))));let R=C.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(S)!==null?R=R.withResumeToken(ci.EMPTY_BYTE_STRING,fn.min()).withLastLimboFreeSnapshotVersion(fn.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,r)),s=s.insert(S,R),(function(re,N,U){return re.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=HO?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(C,R,v)&&h.push(t.Pi.updateTargetData(o,R))}));let p=Za(),f=On();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(JO(o,l,e.documentUpdates).next((v=>{p=v.ks,f=v.qs}))),!r.isEqual(fn.min())){const v=t.Pi.getLastRemoteSnapshotVersion(o).next((S=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(v)}return at.waitFor(h).next((()=>l.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,p,f))).next((()=>p))})).then((o=>(t.Ms=s,o)))}function JO(n,e,t){let r=On(),s=On();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let l=Za();return t.forEach(((h,p)=>{const f=o.get(h);p.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(h)),p.isNoDocument()&&p.version.isEqual(fn.min())?(e.removeEntry(h,p.readTime),l=l.insert(h,p)):!f.isValidDocument()||p.version.compareTo(f.version)>0||p.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(p),l=l.insert(h,p)):Ft(rE,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",p.version)})),{ks:l,qs:s}}))}function QO(n,e){const t=yn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=HS),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function XO(n,e){const t=yn(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((o=>o?(s=o,at.resolve(s)):t.Pi.allocateTargetId(r).next((l=>(s=new Yo(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function y1(n,e,t){const r=yn(n),s=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Md(l))throw l;Ft(rE,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function $T(n,e,t){const r=yn(n);let s=fn.min(),o=On();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(p,f,v){const S=yn(p),C=S.xs.get(v);return C!==void 0?at.resolve(S.Ms.get(C)):S.Pi.getTargetData(f,v)})(r,l,Zs(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,h.targetId).next((p=>{o=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?s:fn.min(),t?o:On()))).next((h=>(ZO(r,VF(e),h),{documents:h,Qs:o})))))}function ZO(n,e,t){let r=n.Os.get(e)||fn.min();t.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(e,r)}class HT{constructor(){this.activeTargetIds=$F()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eP{constructor(){this.Mo=new HT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new HT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="ConnectivityMonitor";class KT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ft(GT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ft(GT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qg=null;function w1(){return qg===null?qg=(function(){return 268435456+Math.round(2147483648*Math.random())})():qg++,"0x"+qg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="RestConnection",nP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===A0?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,o){const l=w1(),h=this.zo(e,t.toUriEncodedString());Ft(px,`Sending RPC '${e}' ${l}:`,h,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,s,o);const{host:f}=new URL(h),v=Ic(f);return this.Jo(e,h,p,r,v).then((S=>(Ft(px,`Received RPC '${e}' ${l}: `,S),S)),(S=>{throw lh(px,`RPC '${e}' ${l} failed with error: `,S,"url: ",h,"request:",r),S}))}Ho(e,t,r,s,o,l){return this.Go(e,t,r,s,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}zo(e,t){const r=nP[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="WebChannelConnection";class sP extends rP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,o){const l=w1();return new Promise(((h,p)=>{const f=new F4;f.setWithCredentials(!0),f.listenOnce(O4.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case a0.NO_ERROR:const S=f.getResponseJson();Ft(hi,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(S)),h(S);break;case a0.TIMEOUT:Ft(hi,`RPC '${e}' ${l} timed out`),p(new Ct(nt.DEADLINE_EXCEEDED,"Request time out"));break;case a0.HTTP_ERROR:const C=f.getStatus();if(Ft(hi,`RPC '${e}' ${l} failed with status:`,C,"response text:",f.getResponseText()),C>0){let R=f.getResponseJson();Array.isArray(R)&&(R=R[0]);const B=R?.error;if(B&&B.status&&B.message){const re=(function(U){const q=U.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(q)>=0?q:nt.UNKNOWN})(B.status);p(new Ct(re,B.message))}else p(new Ct(nt.UNKNOWN,"Server responded with status "+f.getStatus()))}else p(new Ct(nt.UNAVAILABLE,"Connection failed."));break;default:tn(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Ft(hi,`RPC '${e}' ${l} completed.`)}}));const v=JSON.stringify(s);Ft(hi,`RPC '${e}' ${l} sending request:`,s),f.send(t,"POST",v,r,15)}))}T_(e,t,r){const s=w1(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=V4(),h=j4(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(p.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const v=o.join("");Ft(hi,`Creating RPC '${e}' stream ${s}: ${v}`,p);const S=l.createWebChannel(v,p);this.I_(S);let C=!1,R=!1;const B=new iP({Yo:N=>{R?Ft(hi,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(C||(Ft(hi,`Opening RPC '${e}' stream ${s} transport.`),S.open(),C=!0),Ft(hi,`RPC '${e}' stream ${s} sending:`,N),S.send(N))},Zo:()=>S.close()}),re=(N,U,q)=>{N.listen(U,(G=>{try{q(G)}catch(he){setTimeout((()=>{throw he}),0)}}))};return re(S,Kf.EventType.OPEN,(()=>{R||(Ft(hi,`RPC '${e}' stream ${s} transport opened.`),B.o_())})),re(S,Kf.EventType.CLOSE,(()=>{R||(R=!0,Ft(hi,`RPC '${e}' stream ${s} transport closed`),B.a_(),this.E_(S))})),re(S,Kf.EventType.ERROR,(N=>{R||(R=!0,lh(hi,`RPC '${e}' stream ${s} transport errored. Name:`,N.name,"Message:",N.message),B.a_(new Ct(nt.UNAVAILABLE,"The operation could not be completed")))})),re(S,Kf.EventType.MESSAGE,(N=>{if(!R){const U=N.data[0];Gn(!!U,16349);const q=U,G=q?.error||q[0]?.error;if(G){Ft(hi,`RPC '${e}' stream ${s} received error:`,G);const he=G.status;let pe=(function(M){const H=Vr[M];if(H!==void 0)return v3(H)})(he),K=G.message;pe===void 0&&(pe=nt.INTERNAL,K="Unknown error status: "+he+" with message "+G.message),R=!0,B.a_(new Ct(pe,K)),S.close()}else Ft(hi,`RPC '${e}' stream ${s} received:`,U),B.u_(U)}})),re(h,P4.STAT_EVENT,(N=>{N.stat===s1.PROXY?Ft(hi,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===s1.NOPROXY&&Ft(hi,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function gx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(n){return new lO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&Ft("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="PersistentStream";class F3{constructor(e,t,r,s,o,l,h,p){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new M3(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===nt.RESOURCE_EXHAUSTED?(Xa(t.toString()),Xa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new Ct(nt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ft(WT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ft(WT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aP extends F3{constructor(e,t,r,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=dO(this.serializer,e),r=(function(o){if(!("targetChange"in o))return fn.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?fn.min():l.readTime?ta(l.readTime):fn.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=g1(this.serializer),t.addTarget=(function(o,l){let h;const p=l.target;if(h=u1(p)?{documents:pO(o,p)}:{query:gO(o,p).ft},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=E3(o,l.resumeToken);const f=f1(o,l.expectedCount);f!==null&&(h.expectedCount=f)}else if(l.snapshotVersion.compareTo(fn.min())>0){h.readTime=R0(o,l.snapshotVersion.toTimestamp());const f=f1(o,l.expectedCount);f!==null&&(h.expectedCount=f)}return h})(this.serializer,e);const r=wO(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=g1(this.serializer),t.removeTarget=e,this.q_(t)}}class oP extends F3{constructor(e,t,r,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Gn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Gn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Gn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=mO(e.writeResults,e.commitTime),r=ta(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=g1(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>fO(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{}class lP extends cP{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Ct(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,m1(t,r),s,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ct(nt.UNKNOWN,o.toString())}))}Ho(e,t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Ho(e,m1(t,r),s,l,h,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ct(nt.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class uP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xa(t),this.aa=!1):Ft("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl="RemoteStore";class hP{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{du(this)&&(Ft(Sl,"Restarting streams for network reachability change."),await(async function(p){const f=yn(p);f.Ea.add(4),await fp(f),f.Ra.set("Unknown"),f.Ea.delete(4),await by(f)})(this))}))})),this.Ra=new uP(r,s)}}async function by(n){if(du(n))for(const e of n.da)await e(!0)}async function fp(n){for(const e of n.da)await e(!1)}function O3(n,e){const t=yn(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),oE(t)?aE(t):Od(t).O_()&&sE(t,e))}function iE(n,e){const t=yn(n),r=Od(t);t.Ia.delete(e),r.O_()&&P3(t,e),t.Ia.size===0&&(r.O_()?r.L_():du(t)&&t.Ra.set("Unknown"))}function sE(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Od(n).Y_(e)}function P3(n,e){n.Va.Ue(e),Od(n).Z_(e)}function aE(n){n.Va=new sO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Od(n).start(),n.Ra.ua()}function oE(n){return du(n)&&!Od(n).x_()&&n.Ia.size>0}function du(n){return yn(n).Ea.size===0}function j3(n){n.Va=void 0}async function dP(n){n.Ra.set("Online")}async function fP(n){n.Ia.forEach(((e,t)=>{sE(n,e)}))}async function mP(n,e){j3(n),oE(n)?(n.Ra.ha(e),aE(n)):n.Ra.set("Unknown")}async function pP(n,e,t){if(n.Ra.set("Online"),e instanceof S3&&e.state===2&&e.cause)try{await(async function(s,o){const l=o.cause;for(const h of o.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,l),s.Ia.delete(h),s.Va.removeTarget(h))})(n,e)}catch(r){Ft(Sl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await D0(n,r)}else if(e instanceof u0?n.Va.Ze(e):e instanceof x3?n.Va.st(e):n.Va.tt(e),!t.isEqual(fn.min()))try{const r=await D3(n.localStore);t.compareTo(r)>=0&&await(function(o,l){const h=o.Va.Tt(l);return h.targetChanges.forEach(((p,f)=>{if(p.resumeToken.approximateByteSize()>0){const v=o.Ia.get(f);v&&o.Ia.set(f,v.withResumeToken(p.resumeToken,l))}})),h.targetMismatches.forEach(((p,f)=>{const v=o.Ia.get(p);if(!v)return;o.Ia.set(p,v.withResumeToken(ci.EMPTY_BYTE_STRING,v.snapshotVersion)),P3(o,p);const S=new Yo(v.target,p,f,v.sequenceNumber);sE(o,S)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){Ft(Sl,"Failed to raise snapshot:",r),await D0(n,r)}}async function D0(n,e,t){if(!Md(e))throw e;n.Ea.add(1),await fp(n),n.Ra.set("Offline"),t||(t=()=>D3(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ft(Sl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await by(n)}))}function V3(n,e){return e().catch((t=>D0(n,t,e)))}async function _y(n){const e=yn(n),t=uc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:HS;for(;gP(e);)try{const s=await QO(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,yP(e,s)}catch(s){await D0(e,s)}B3(e)&&U3(e)}function gP(n){return du(n)&&n.Ta.length<10}function yP(n,e){n.Ta.push(e);const t=uc(n);t.O_()&&t.X_&&t.ea(e.mutations)}function B3(n){return du(n)&&!uc(n).x_()&&n.Ta.length>0}function U3(n){uc(n).start()}async function wP(n){uc(n).ra()}async function vP(n){const e=uc(n);for(const t of n.Ta)e.ea(t.mutations)}async function xP(n,e,t){const r=n.Ta.shift(),s=QS.from(r,e,t);await V3(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await _y(n)}async function SP(n,e){e&&uc(n).X_&&await(async function(r,s){if((function(l){return nO(l)&&l!==nt.ABORTED})(s.code)){const o=r.Ta.shift();uc(r).B_(),await V3(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await _y(r)}})(n,e),B3(n)&&U3(n)}async function YT(n,e){const t=yn(n);t.asyncQueue.verifyOperationInProgress(),Ft(Sl,"RemoteStore received new credentials");const r=du(t);t.Ea.add(3),await fp(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await by(t)}async function EP(n,e){const t=yn(n);e?(t.Ea.delete(2),await by(t)):e||(t.Ea.add(2),await fp(t),t.Ra.set("Unknown"))}function Od(n){return n.ma||(n.ma=(function(t,r,s){const o=yn(t);return o.sa(),new aP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:dP.bind(null,n),t_:fP.bind(null,n),r_:mP.bind(null,n),H_:pP.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),oE(n)?aE(n):n.Ra.set("Unknown")):(await n.ma.stop(),j3(n))}))),n.ma}function uc(n){return n.fa||(n.fa=(function(t,r,s){const o=yn(t);return o.sa(),new oP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:wP.bind(null,n),r_:SP.bind(null,n),ta:vP.bind(null,n),na:xP.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await _y(n)):(await n.fa.stop(),n.Ta.length>0&&(Ft(Sl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Ka,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const l=Date.now()+r,h=new cE(e,t,l,s,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lE(n,e){if(Xa("AsyncQueue",`${e}: ${n}`),Md(n))return new Ct(nt.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{static emptySet(e){return new th(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Jt.comparator(t.key,r.key):(t,r)=>Jt.comparator(t.key,r.key),this.keyedMap=Wf(),this.sortedSet=new vr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof th)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new th;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.ga=new vr(Jt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):tn(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class mh{constructor(e,t,r,s,o,l,h,p,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,s,o){const l=[];return t.forEach((h=>{l.push({type:0,doc:h})})),new mh(e,t,th.emptySet(t),l,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class _P{constructor(){this.queries=QT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=yn(t),o=s.queries;s.queries=QT(),o.forEach(((l,h)=>{for(const p of h.Sa)p.onError(r)}))})(this,new Ct(nt.ABORTED,"Firestore shutting down"))}}function QT(){return new hu((n=>a3(n)),yy)}async function uE(n,e){const t=yn(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new bP,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const h=lE(l,`Initialization of query '${Qu(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&dE(t)}async function hE(n,e){const t=yn(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function AP(n,e){const t=yn(n);let r=!1;for(const s of e){const o=s.query,l=t.queries.get(o);if(l){for(const h of l.Sa)h.Fa(s)&&(r=!0);l.wa=s}}r&&dE(t)}function TP(n,e,t){const r=yn(n),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);r.queries.delete(e)}function dE(n){n.Ca.forEach((e=>{e.next()}))}var v1,XT;(XT=v1||(v1={})).Ma="default",XT.Cache="cache";class fE{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new mh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=mh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==v1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e){this.key=e}}class z3{constructor(e){this.key=e}}class kP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=On(),this.mutatedKeys=On(),this.eu=o3(e),this.tu=new th(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new JT,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,l=s,h=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((v,S)=>{const C=s.get(v),R=wy(this.query,S)?S:null,B=!!C&&this.mutatedKeys.has(C.key),re=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let N=!1;C&&R?C.data.isEqual(R.data)?B!==re&&(r.track({type:3,doc:R}),N=!0):this.su(C,R)||(r.track({type:2,doc:R}),N=!0,(p&&this.eu(R,p)>0||f&&this.eu(R,f)<0)&&(h=!0)):!C&&R?(r.track({type:0,doc:R}),N=!0):C&&!R&&(r.track({type:1,doc:C}),N=!0,(p||f)&&(h=!0)),N&&(R?(l=l.add(R),o=re?o.add(v):o.delete(v)):(l=l.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const v=this.query.limitType==="F"?l.last():l.first();l=l.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:l,iu:r,Cs:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((v,S)=>(function(R,B){const re=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tn(20277,{Rt:N})}};return re(R)-re(B)})(v.type,S.type)||this.eu(v.doc,S.doc))),this.ou(r),s=s??!1;const h=t&&!s?this._u():[],p=this.Xa.size===0&&this.current&&!s?1:0,f=p!==this.Za;return this.Za=p,l.length!==0||f?{snapshot:new mh(this.query,e.tu,o,l,e.mutatedKeys,p===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new JT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=On(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new z3(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new L3(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=On();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return mh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mE="SyncEngine";class IP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class CP{constructor(e){this.key=e,this.hu=!1}}class RP{constructor(e,t,r,s,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new hu((h=>a3(h)),yy),this.Iu=new Map,this.Eu=new Set,this.du=new vr(Jt.comparator),this.Au=new Map,this.Ru=new eE,this.Vu={},this.mu=new Map,this.fu=fh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NP(n,e,t=!0){const r=W3(n);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await q3(r,e,t,!0),s}async function DP(n,e){const t=W3(n);await q3(t,e,!0,!1)}async function q3(n,e,t,r){const s=await XO(n.localStore,Zs(e)),o=s.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await MP(n,e,o,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&O3(n.remoteStore,s),h}async function MP(n,e,t,r,s){n.pu=(S,C,R)=>(async function(re,N,U,q){let G=N.view.ru(U);G.Cs&&(G=await $T(re.localStore,N.query,!1).then((({documents:P})=>N.view.ru(P,G))));const he=q&&q.targetChanges.get(N.targetId),pe=q&&q.targetMismatches.get(N.targetId)!=null,K=N.view.applyChanges(G,re.isPrimaryClient,he,pe);return ek(re,N.targetId,K.au),K.snapshot})(n,S,C,R);const o=await $T(n.localStore,e,!0),l=new kP(e,o.Qs),h=l.ru(o.documents),p=dp.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),f=l.applyChanges(h,n.isPrimaryClient,p);ek(n,t,f.au);const v=new IP(e,t,l);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function FP(n,e,t){const r=yn(n),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((l=>!yy(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await y1(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&iE(r.remoteStore,s.targetId),x1(r,s.targetId)})).catch(Dd)):(x1(r,s.targetId),await y1(r.localStore,s.targetId,!0))}async function OP(n,e){const t=yn(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),iE(t.remoteStore,r.targetId))}async function PP(n,e,t){const r=qP(n);try{const s=await(function(l,h){const p=yn(l),f=mr.now(),v=h.reduce(((R,B)=>R.add(B.key)),On());let S,C;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let B=Za(),re=On();return p.Ns.getEntries(R,v).next((N=>{B=N,B.forEach(((U,q)=>{q.isValidDocument()||(re=re.add(U))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,B))).next((N=>{S=N;const U=[];for(const q of h){const G=QF(q,S.get(q.key).overlayedDocument);G!=null&&U.push(new Rc(q.key,G,X4(G.value.mapValue),ea.exists(!0)))}return p.mutationQueue.addMutationBatch(R,f,U,h)})).next((N=>{C=N;const U=N.applyToLocalDocumentSet(S,re);return p.documentOverlayCache.saveOverlays(R,N.batchId,U)}))})).then((()=>({batchId:C.batchId,changes:l3(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,h,p){let f=l.Vu[l.currentUser.toKey()];f||(f=new vr(Fn)),f=f.insert(h,p),l.Vu[l.currentUser.toKey()]=f})(r,s.batchId,t),await mp(r,s.changes),await _y(r.remoteStore)}catch(s){const o=lE(s,"Failed to persist write");t.reject(o)}}async function $3(n,e){const t=yn(n);try{const r=await YO(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const l=t.Au.get(o);l&&(Gn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Gn(l.hu,14607):s.removedDocuments.size>0&&(Gn(l.hu,42227),l.hu=!1))})),await mp(t,r,e)}catch(r){await Dd(r)}}function ZT(n,e,t){const r=yn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((o,l)=>{const h=l.view.va(e);h.snapshot&&s.push(h.snapshot)})),(function(l,h){const p=yn(l);p.onlineState=h;let f=!1;p.queries.forEach(((v,S)=>{for(const C of S.Sa)C.va(h)&&(f=!0)})),f&&dE(p)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jP(n,e,t){const r=yn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),o=s&&s.key;if(o){let l=new vr(Jt.comparator);l=l.insert(o,mi.newNoDocument(o,fn.min()));const h=On().add(o),p=new Sy(fn.min(),new Map,new vr(Fn),l,h);await $3(r,p),r.du=r.du.remove(o),r.Au.delete(e),pE(r)}else await y1(r.localStore,e,!1).then((()=>x1(r,e,t))).catch(Dd)}async function VP(n,e){const t=yn(n),r=e.batch.batchId;try{const s=await WO(t.localStore,e);G3(t,r,null),H3(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await mp(t,s)}catch(s){await Dd(s)}}async function BP(n,e,t){const r=yn(n);try{const s=await(function(l,h){const p=yn(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let v;return p.mutationQueue.lookupMutationBatch(f,h).next((S=>(Gn(S!==null,37113),v=S.keys(),p.mutationQueue.removeMutationBatch(f,S)))).next((()=>p.mutationQueue.performConsistencyCheck(f))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(f,v,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,v))).next((()=>p.localDocuments.getDocuments(f,v)))}))})(r.localStore,e);G3(r,e,t),H3(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await mp(r,s)}catch(s){await Dd(s)}}function H3(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function G3(n,e,t){const r=yn(n);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function x1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||K3(n,r)}))}function K3(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(iE(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),pE(n))}function ek(n,e,t){for(const r of t)r instanceof L3?(n.Ru.addReference(r.key,e),UP(n,r)):r instanceof z3?(Ft(mE,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||K3(n,r.key)):tn(19791,{wu:r})}function UP(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Ft(mE,"New document in limbo: "+t),n.Eu.add(r),pE(n))}function pE(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Jt(lr.fromString(e)),r=n.fu.next();n.Au.set(r,new CP(t)),n.du=n.du.insert(t,r),O3(n.remoteStore,new Yo(Zs(gy(t.path)),r,"TargetPurposeLimboResolution",fy.ce))}}async function mp(n,e,t){const r=yn(n),s=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,p)=>{l.push(r.pu(p,e,t).then((f=>{if((f||t)&&r.isPrimaryClient){const v=f?!f.fromCache:t?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(f){s.push(f);const v=nE.As(p.targetId,f);o.push(v)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(p,f){const v=yn(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>at.forEach(f,(C=>at.forEach(C.Es,(R=>v.persistence.referenceDelegate.addReference(S,C.targetId,R))).next((()=>at.forEach(C.ds,(R=>v.persistence.referenceDelegate.removeReference(S,C.targetId,R)))))))))}catch(S){if(!Md(S))throw S;Ft(rE,"Failed to update sequence numbers: "+S)}for(const S of f){const C=S.targetId;if(!S.fromCache){const R=v.Ms.get(C),B=R.snapshotVersion,re=R.withLastLimboFreeSnapshotVersion(B);v.Ms=v.Ms.insert(C,re)}}})(r.localStore,o))}async function LP(n,e){const t=yn(n);if(!t.currentUser.isEqual(e)){Ft(mE,"User change. New user:",e.toKey());const r=await N3(t.localStore,e);t.currentUser=e,(function(o,l){o.mu.forEach((h=>{h.forEach((p=>{p.reject(new Ct(nt.CANCELLED,l))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mp(t,r.Ls)}}function zP(n,e){const t=yn(n),r=t.Au.get(e);if(r&&r.hu)return On().add(r.key);{let s=On();const o=t.Iu.get(e);if(!o)return s;for(const l of o){const h=t.Tu.get(l);s=s.unionWith(h.view.nu)}return s}}function W3(n){const e=yn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jP.bind(null,e),e.Pu.H_=AP.bind(null,e.eventManager),e.Pu.yu=TP.bind(null,e.eventManager),e}function qP(n){const e=yn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BP.bind(null,e),e}class M0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ey(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return KO(this.persistence,new $O,e.initialUser,this.serializer)}Cu(e){return new R3(tE.mi,this.serializer)}Du(e){return new eP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}M0.provider={build:()=>new M0};class $P extends M0{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Gn(this.persistence.referenceDelegate instanceof N0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new CO(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ni.withCacheSize(this.cacheSizeBytes):Ni.DEFAULT;return new R3((r=>N0.mi(r,t)),this.serializer)}}class S1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=LP.bind(null,this.syncEngine),await EP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _P})()}createDatastore(e){const t=Ey(e.databaseInfo.databaseId),r=(function(o){return new sP(o)})(e.databaseInfo);return(function(o,l,h,p){return new lP(o,l,h,p)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,o,l,h){return new hP(r,s,o,l,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>ZT(this.syncEngine,t,0)),(function(){return KT.v()?new KT:new tP})())}createSyncEngine(e,t){return(function(s,o,l,h,p,f,v){const S=new RP(s,o,l,h,p,f);return v&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=yn(t);Ft(Sl,"RemoteStore shutting down."),r.Ea.add(5),await fp(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}S1.provider={build:()=>new S1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc="FirestoreClient";class HP{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=fi.UNAUTHENTICATED,this.clientId=$S.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{Ft(hc,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Ft(hc,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ka;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=lE(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function yx(n,e){n.asyncQueue.verifyOperationInProgress(),Ft(hc,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await N3(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function tk(n,e){n.asyncQueue.verifyOperationInProgress();const t=await GP(n);Ft(hc,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>YT(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>YT(e.remoteStore,s))),n._onlineComponents=e}async function GP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ft(hc,"Using user provided OfflineComponentProvider");try{await yx(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===nt.FAILED_PRECONDITION||s.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;lh("Error using user provided cache. Falling back to memory cache: "+t),await yx(n,new M0)}}else Ft(hc,"Using default OfflineComponentProvider"),await yx(n,new $P(void 0));return n._offlineComponents}async function Y3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ft(hc,"Using user provided OnlineComponentProvider"),await tk(n,n._uninitializedComponentsProvider._online)):(Ft(hc,"Using default OnlineComponentProvider"),await tk(n,new S1))),n._onlineComponents}function KP(n){return Y3(n).then((e=>e.syncEngine))}async function F0(n){const e=await Y3(n),t=e.eventManager;return t.onListen=NP.bind(null,e.syncEngine),t.onUnlisten=FP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=DP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=OP.bind(null,e.syncEngine),t}function WP(n,e,t={}){const r=new Ka;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,h,p,f){const v=new gE({next:C=>{v.Nu(),l.enqueueAndForget((()=>hE(o,S)));const R=C.docs.has(h);!R&&C.fromCache?f.reject(new Ct(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&C.fromCache&&p&&p.source==="server"?f.reject(new Ct(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(C)},error:C=>f.reject(C)}),S=new fE(gy(h.path),v,{includeMetadataChanges:!0,qa:!0});return uE(o,S)})(await F0(n),n.asyncQueue,e,t,r))),r.promise}function YP(n,e,t={}){const r=new Ka;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,h,p,f){const v=new gE({next:C=>{v.Nu(),l.enqueueAndForget((()=>hE(o,S))),C.fromCache&&p.source==="server"?f.reject(new Ct(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(C)},error:C=>f.reject(C)}),S=new fE(h,v,{includeMetadataChanges:!0,qa:!0});return uE(o,S)})(await F0(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="firestore.googleapis.com",rk=!0;class ik{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ct(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Q3,this.ssl=rk}else this.host=e.host,this.ssl=e.ssl??rk;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=C3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kO)throw new Ct(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=J3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ct(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ct(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ct(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ay{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ik({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ct(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ik(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tF;switch(r.type){case"firstParty":return new sF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ct(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=nk.get(t);r&&(Ft("ComponentProvider","Removing Datastore"),nk.delete(t),r.terminate())})(this),Promise.resolve()}}function JP(n,e,t,r={}){n=Ts(n,Ay);const s=Ic(e),o=n._getSettings(),l={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;s&&(VS(`https://${h}`),BS("Firestore",!0)),o.host!==Q3&&o.host!==h&&lh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...o,host:h,ssl:s,emulatorOptions:r};if(!wl(p,l)&&(n._setSettings(p),r.mockUserToken)){let f,v;if(typeof r.mockUserToken=="string")f=r.mockUserToken,v=fi.MOCK_USER;else{f=I4(r.mockUserToken,n._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new Ct(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new fi(S)}n._authCredentials=new nF(new U4(f,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nc(this.firestore,e,this._query)}}class Nr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nr(this.firestore,e,this._key)}toJSON(){return{type:Nr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(up(t,Nr._jsonSchema))return new Nr(e,r||null,new Jt(lr.fromString(t.referencePath)))}}Nr._jsonSchemaVersion="firestore/documentReference/1.0",Nr._jsonSchema={type:zr("string",Nr._jsonSchemaVersion),referencePath:zr("string")};class nc extends Nc{constructor(e,t,r){super(e,t,gy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nr(this.firestore,null,new Jt(e))}withConverter(e){return new nc(this.firestore,e,this._path)}}function Fi(n,e,...t){if(n=Mr(n),L4("collection","path",e),n instanceof Ay){const r=lr.fromString(e,...t);return yT(r),new nc(n,null,r)}{if(!(n instanceof Nr||n instanceof nc))throw new Ct(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(lr.fromString(e,...t));return yT(r),new nc(n.firestore,null,r)}}function ph(n,e,...t){if(n=Mr(n),arguments.length===1&&(e=$S.newId()),L4("doc","path",e),n instanceof Ay){const r=lr.fromString(e,...t);return gT(r),new Nr(n,null,new Jt(r))}{if(!(n instanceof Nr||n instanceof nc))throw new Ct(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(lr.fromString(e,...t));return gT(r),new Nr(n.firestore,n instanceof nc?n.converter:null,new Jt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="AsyncQueue";class ak{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new M3(this,"async_queue_retry"),this._c=()=>{const r=gx();r&&Ft(sk,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=gx();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=gx();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ka;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Md(e))throw e;Ft(sk,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Xa("INTERNAL UNHANDLED ERROR: ",ok(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=cE.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&tn(47125,{Pc:ok(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ok(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class El extends Ay{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new ak,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ak(e),this._firestoreClient=void 0,await e}}}function yE(n,e){const t=typeof n=="object"?n:zS(),r=typeof n=="string"?n:A0,s=uy(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=A4("firestore");o&&JP(s,...o)}return s}function Ty(n){if(n._terminated)throw new Ct(nt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||QP(n),n._firestoreClient}function QP(n){const e=n._freezeSettings(),t=(function(s,o,l,h){return new EF(s,o,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,J3(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new HP(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this._byteString=e}static fromBase64String(e){try{return new as(ci.fromBase64String(e))}catch(t){throw new Ct(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new as(ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:as._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(up(e,as._jsonSchema))return as.fromBase64String(e.bytes)}}as._jsonSchemaVersion="firestore/bytes/1.0",as._jsonSchema={type:zr("string",as._jsonSchemaVersion),bytes:zr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ct(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ct(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ct(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fn(this._lat,e._lat)||Fn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:na._jsonSchemaVersion}}static fromJSON(e){if(up(e,na._jsonSchema))return new na(e.latitude,e.longitude)}}na._jsonSchemaVersion="firestore/geoPoint/1.0",na._jsonSchema={type:zr("string",na._jsonSchemaVersion),latitude:zr("number"),longitude:zr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ra._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(up(e,ra._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ra(e.vectorValues);throw new Ct(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ra._jsonSchemaVersion="firestore/vectorValue/1.0",ra._jsonSchema={type:zr("string",ra._jsonSchemaVersion),vectorValues:zr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=/^__.*__$/;class ZP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Rc(e,this.data,this.fieldMask,t,this.fieldTransforms):new hp(e,this.data,t,this.fieldTransforms)}}class X3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Rc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Z3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tn(40011,{Ac:n})}}class vE{constructor(e,t,r,s,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return O0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Z3(this.Ac)&&XP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ej{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ey(e)}Cc(e,t,r,s=!1){return new vE({Ac:e,methodName:t,Dc:r,path:oi.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xE(n){const e=n._freezeSettings(),t=Ey(n._databaseId);return new ej(n._databaseId,!!e.ignoreUndefinedProperties,t)}function tj(n,e,t,r,s,o={}){const l=n.Cc(o.merge||o.mergeFields?2:0,e,t,s);SE("Data must be an object, but it was:",l,r);const h=eI(r,l);let p,f;if(o.merge)p=new qi(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const v=[];for(const S of o.mergeFields){const C=E1(e,S,t);if(!l.contains(C))throw new Ct(nt.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);nI(v,C)||v.push(C)}p=new qi(v),f=l.fieldTransforms.filter((S=>p.covers(S.field)))}else p=null,f=l.fieldTransforms;return new ZP(new Mi(h),p,f)}class Iy extends wE{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Iy}}function nj(n,e,t,r){const s=n.Cc(1,e,t);SE("Data must be an object, but it was:",s,r);const o=[],l=Mi.empty();Cc(r,((p,f)=>{const v=EE(e,p,t);f=Mr(f);const S=s.yc(v);if(f instanceof Iy)o.push(v);else{const C=pp(f,S);C!=null&&(o.push(v),l.set(v,C))}}));const h=new qi(o);return new X3(l,h,s.fieldTransforms)}function rj(n,e,t,r,s,o){const l=n.Cc(1,e,t),h=[E1(e,r,t)],p=[s];if(o.length%2!=0)throw new Ct(nt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<o.length;C+=2)h.push(E1(e,o[C])),p.push(o[C+1]);const f=[],v=Mi.empty();for(let C=h.length-1;C>=0;--C)if(!nI(f,h[C])){const R=h[C];let B=p[C];B=Mr(B);const re=l.yc(R);if(B instanceof Iy)f.push(R);else{const N=pp(B,re);N!=null&&(f.push(R),v.set(R,N))}}const S=new qi(f);return new X3(v,S,l.fieldTransforms)}function ij(n,e,t,r=!1){return pp(t,n.Cc(r?4:3,e))}function pp(n,e){if(tI(n=Mr(n)))return SE("Unsupported field value:",e,n),eI(n,e);if(n instanceof wE)return(function(r,s){if(!Z3(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const o=[];let l=0;for(const h of r){let p=pp(h,s.wc(l));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),l++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=Mr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HF(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=mr.fromDate(r);return{timestampValue:R0(s.serializer,o)}}if(r instanceof mr){const o=new mr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:R0(s.serializer,o)}}if(r instanceof na)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof as)return{bytesValue:E3(s.serializer,r._byteString)};if(r instanceof Nr){const o=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ZS(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ra)return(function(l,h){return{mapValue:{fields:{[J4]:{stringValue:Q4},[T0]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw h.Sc("VectorValues must only contain numeric values.");return JS(h.serializer,f)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${dy(r)}`)})(n,e)}function eI(n,e){const t={};return $4(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cc(n,((r,s)=>{const o=pp(s,e.mc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function tI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof mr||n instanceof na||n instanceof as||n instanceof Nr||n instanceof wE||n instanceof ra)}function SE(n,e,t){if(!tI(t)||!z4(t)){const r=dy(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function E1(n,e,t){if((e=Mr(e))instanceof ky)return e._internalPath;if(typeof e=="string")return EE(n,e);throw O0("Field path arguments must be of type string or ",n,!1,void 0,t)}const sj=new RegExp("[~\\*/\\[\\]]");function EE(n,e,t){if(e.search(sj)>=0)throw O0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ky(...e.split("."))._internalPath}catch{throw O0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function O0(n,e,t,r,s){const o=r&&!r.isEmpty(),l=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(o||l)&&(p+=" (found",o&&(p+=` in field ${r}`),l&&(p+=` in document ${s}`),p+=")"),new Ct(nt.INVALID_ARGUMENT,h+n+p)}function nI(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Nr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class aj extends rI{data(){return super.data()}}function Cy(n,e){return typeof e=="string"?EE(n,e):e instanceof ky?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ct(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bE{}class sI extends bE{}function gh(n,e,...t){let r=[];e instanceof bE&&r.push(e),r=r.concat(t),(function(o){const l=o.filter((p=>p instanceof _E)).length,h=o.filter((p=>p instanceof Ry)).length;if(l>1||l>0&&h>0)throw new Ct(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class Ry extends sI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Ry(e,t,r)}_apply(e){const t=this._parse(e);return aI(e._query,t),new Nc(e.firestore,e.converter,h1(e._query,t))}_parse(e){const t=xE(e.firestore);return(function(o,l,h,p,f,v,S){let C;if(f.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Ct(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){uk(S,v);const B=[];for(const re of S)B.push(lk(p,o,re));C={arrayValue:{values:B}}}else C=lk(p,o,S)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||uk(S,v),C=ij(h,l,S,v==="in"||v==="not-in");return Ur.create(f,v,C)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function b1(n,e,t){const r=e,s=Cy("where",n);return Ry._create(s,r,t)}class _E extends bE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _E(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Is.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let l=s;const h=o.getFlattenedFilters();for(const p of h)aI(l,p),l=h1(l,p)})(e._query,t),new Nc(e.firestore,e.converter,h1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class AE extends sI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new AE(e,t)}_apply(e){const t=(function(s,o,l){if(s.startAt!==null)throw new Ct(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Ct(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fm(o,l)})(e._query,this._field,this._direction);return new Nc(e.firestore,e.converter,(function(s,o){const l=s.explicitOrderBy.concat([o]);return new Fd(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function TE(n,e="asc"){const t=e,r=Cy("orderBy",n);return AE._create(r,t)}function lk(n,e,t){if(typeof(t=Mr(t))=="string"){if(t==="")throw new Ct(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!s3(e)&&t.indexOf("/")!==-1)throw new Ct(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(lr.fromString(t));if(!Jt.isDocumentKey(r))throw new Ct(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return AT(n,new Jt(r))}if(t instanceof Nr)return AT(n,t._key);throw new Ct(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dy(t)}.`)}function uk(n,e){if(!Array.isArray(n)||n.length===0)throw new Ct(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aI(n,e){const t=(function(s,o){for(const l of s)for(const h of l.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ct(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ct(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class oj{convertValue(e,t="none"){switch(lc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw tn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Cc(e,((s,o)=>{r[s]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[T0].arrayValue?.values?.map((r=>Rr(r.doubleValue)));return new ra(t)}convertGeoPoint(e){return new na(Rr(e.latitude),Rr(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=py(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(um(e));default:return null}}convertTimestamp(e){const t=oc(e);return new mr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=lr.fromString(e);Gn(I3(r),9688,{name:e});const s=new hm(r.get(1),r.get(3)),o=new Jt(r.popFirst(5));return s.isEqual(t)||Xa(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Jf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ul extends rI{constructor(e,t,r,s,o,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new h0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Cy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ul._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ul._jsonSchemaVersion="firestore/documentSnapshot/1.0",ul._jsonSchema={type:zr("string",ul._jsonSchemaVersion),bundleSource:zr("string","DocumentSnapshot"),bundleName:zr("string"),bundle:zr("string")};class h0 extends ul{data(e={}){return super.data(e)}}class hl{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Jf(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new h0(this._firestore,this._userDataWriter,r.key,r,new Jf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ct(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((h=>{const p=new h0(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Jf(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const p=new h0(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Jf(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,v=-1;return h.type!==0&&(f=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),v=l.indexOf(h.doc.key)),{type:lj(h.type),doc:p,oldIndex:f,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$S.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tn(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(n){n=Ts(n,Nr);const e=Ts(n.firestore,El);return WP(Ty(e),n._key).then((t=>cI(e,n,t)))}hl._jsonSchemaVersion="firestore/querySnapshot/1.0",hl._jsonSchema={type:zr("string",hl._jsonSchemaVersion),bundleSource:zr("string","QuerySnapshot"),bundleName:zr("string"),bundle:zr("string")};class kE extends oj{constructor(e){super(),this.firestore=e}convertBytes(e){return new as(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nr(this.firestore,null,t)}}function yh(n){n=Ts(n,Nc);const e=Ts(n.firestore,El),t=Ty(e),r=new kE(e);return iI(n._query),YP(t,n._query).then((s=>new hl(e,r,n,s)))}function IE(n,e,t,...r){n=Ts(n,Nr);const s=Ts(n.firestore,El),o=xE(s);let l;return l=typeof(e=Mr(e))=="string"||e instanceof ky?rj(o,"updateDoc",n._key,e,t,r):nj(o,"updateDoc",n._key,e),oI(s,[l.toMutation(n._key,ea.exists(!0))])}function dc(n,e){const t=Ts(n.firestore,El),r=ph(n),s=cj(n.converter,e);return oI(t,[tj(xE(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,ea.exists(!1))]).then((()=>r))}function uj(n,...e){n=Mr(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||ck(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(ck(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let o,l,h;if(n instanceof Nr)l=Ts(n.firestore,El),h=gy(n._key.path),o={next:p=>{e[r]&&e[r](cI(l,n,p))},error:e[r+1],complete:e[r+2]};else{const p=Ts(n,Nc);l=Ts(p.firestore,El),h=p._query;const f=new kE(l);o={next:v=>{e[r]&&e[r](new hl(l,f,p,v))},error:e[r+1],complete:e[r+2]},iI(n._query)}return(function(f,v,S,C){const R=new gE(C),B=new fE(v,R,S);return f.asyncQueue.enqueueAndForget((async()=>uE(await F0(f),B))),()=>{R.Nu(),f.asyncQueue.enqueueAndForget((async()=>hE(await F0(f),B)))}})(Ty(l),h,s,o)}function oI(n,e){return(function(r,s){const o=new Ka;return r.asyncQueue.enqueueAndForget((async()=>PP(await KP(r),s,o))),o.promise})(Ty(n),e)}function cI(n,e,t){const r=t.docs.get(e._key),s=new kE(n);return new ul(n,s,e._key,r,new Jf(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Nd=s})(uu),vl(new sc("firestore",((r,{instanceIdentifier:s,options:o})=>{const l=r.getProvider("app").getImmediate(),h=new El(new rF(r.getProvider("auth-internal")),new aF(l,r.getProvider("app-check-internal")),(function(f,v){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ct(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hm(f.options.projectId,v)})(l,s),l);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Xs(dT,fT,e),Xs(dT,fT,"esm2020")})();const hj={apiKey:"AIzaSyBc7x8gddDmeCztU8S0TStIbj3VUg5I6Gk",authDomain:"algoescrow.firebaseapp.com",projectId:"algoescrow",storageBucket:"algoescrow.firebasestorage.app",messagingSenderId:"112755487139",appId:"1:112755487139:web:17ffd1a212ffcbe95dea16",measurementId:"G-XSXPX5Z2CN"},dj=hy(hj),wi=yE(dj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mj=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),hk=n=>{const e=mj(n);return e.charAt(0).toUpperCase()+e.slice(1)},lI=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),pj=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=Ee.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...h},p)=>Ee.createElement("svg",{ref:p,...gj,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:lI("lucide",s),...!o&&!pj(h)&&{"aria-hidden":"true"},...h},[...l.map(([f,v])=>Ee.createElement(f,v)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=(n,e)=>{const t=Ee.forwardRef(({className:r,...s},o)=>Ee.createElement(yj,{ref:o,iconNode:e,className:lI(`lucide-${fj(hk(n))}`,`lucide-${n}`,r),...s}));return t.displayName=hk(n),t};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],uI=mn("arrow-left",wj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],CE=mn("arrow-right",vj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],hI=mn("award",xj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Cs=mn("briefcase",Sj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],dI=mn("building-2",Ej);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],RE=mn("calendar",bj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],dk=mn("check",_j);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],eo=mn("chevron-down",Aj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ss=mn("circle-alert",Tj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dl=mn("circle-check-big",kj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ws=mn("circle-check",Ij);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gp=mn("clock",Cj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Nj=mn("cloud-upload",Rj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],NE=mn("code",Dj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Fj=mn("copy",Mj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],to=mn("dollar-sign",Oj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_1=mn("external-link",Pj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vj=mn("eye",jj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ny=mn("file-text",Bj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Lj=mn("funnel",Uj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],fk=mn("graduation-cap",zj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],fI=mn("globe",qj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],DE=mn("image",$j);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],mI=mn("link",Hj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],Kj=mn("linkedin",Gj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],pI=mn("list",Wj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ia=mn("loader-circle",Yj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ME=mn("lock",Jj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Xj=mn("mail",Qj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],FE=mn("map-pin",Zj);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],tV=mn("newspaper",eV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Dy=mn("package",nV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],iV=mn("qr-code",rV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],OE=mn("search",sV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],My=mn("send",aV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],gI=mn("shield",oV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],lV=mn("shopping-cart",cV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],gm=mn("star",uV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],PE=mn("triangle-alert",hV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],yI=mn("upload",dV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wI=mn("user-check",fV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],vI=mn("user-plus",mV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ym=mn("user",pV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],jE=mn("wallet",gV);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bl=mn("x",yV),mk=[{name:"Post Job",path:"/post-job",icon:Cs},{name:"Post Consultation",path:"/consultations",icon:wI},{name:"Post Project",path:"/catalog",icon:Dy}],xI=({isScrolled:n})=>{const e=[{name:"Jobs",path:"/jobs"},{name:"Projects",path:"/catalog"},{name:"Consultants",path:"/consultations"},{name:"Create Escrow",path:"/create-escrow"},{name:"Dashboard",path:"/dashboard"}],[t,r]=Ee.useState(!1),[s,o]=Ee.useState(!1),l="bg-white/95 shadow-lg text-gray-800 backdrop-blur-md",h="text-white",p="text-gray-700";return d.jsxs("nav",{className:`fixed top-0 left-0 w-full flex items-center justify-between px-4 md:px-12 lg:px-24 transition-all duration-500 z-20 ${n?`${l} py-3 md:py-4`:"bg-transparent py-4 md:py-6"}`,children:[d.jsxs("a",{href:"/",className:"flex items-center gap-2 text-xl font-bold tracking-wider",children:[d.jsxs("svg",{className:`h-8 w-8 transition-all duration-500 ${n?"text-teal-600":h}`,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M12 11C10.619 11 9.5 12.119 9.5 13.5V17.5C9.5 18.881 10.619 20 12 20C13.381 20 14.5 18.881 14.5 17.5V13.5C14.5 12.119 13.381 11 12 11Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M19 11H5C4.44772 11 4 11.4477 4 12V21C4 21.5523 4.44772 22 5 22H19C19.5523 22 20 21.5523 20 21V12C20 11.4477 19.5523 11 19 11Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 4V7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 2L12 4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),d.jsx("span",{className:n?p:h,children:"WorknHire"})]}),d.jsxs("div",{className:"hidden md:flex items-center gap-6 lg:gap-10",children:[e.map((f,v)=>d.jsxs("a",{href:f.path,className:`group flex flex-col gap-0.5 font-medium ${n?p:h}`,children:[f.name,d.jsx("div",{className:`${n?"bg-teal-600":"bg-white"} h-0.5 w-0 group-hover:w-full transition-all duration-300`})]},v)),d.jsxs("div",{className:"relative h-full flex items-center",children:[d.jsxs("button",{type:"button",onClick:()=>o(!s),onMouseDown:f=>f.preventDefault(),className:`flex items-center border-2 px-4 py-1 text-sm font-semibold rounded-full cursor-pointer transition-all duration-300 ${n?"border-teal-600 text-teal-600 hover:bg-teal-600 hover:text-white":"border-white text-white hover:bg-white hover:text-teal-600"}`,"aria-haspopup":"true","aria-expanded":s,children:["Post",d.jsx(eo,{className:`w-4 h-4 ml-1.5 transition-transform duration-200 ${s?"rotate-180":"rotate-0"}`})]}),s&&d.jsx("div",{className:"absolute top-full mt-2 w-56 rounded-lg shadow-xl bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",style:{zIndex:150},role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",children:d.jsx("div",{className:"py-1",role:"none",children:mk.map((f,v)=>d.jsxs("a",{href:f.path,className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",role:"menuitem",onClick:()=>o(!1),children:[d.jsx(f.icon,{className:"w-4 h-4 mr-2 text-teal-600"}),f.name]},v))})})]})]}),d.jsxs("div",{className:"hidden md:flex items-center",children:[d.jsxs("svg",{className:`h-6 w-6 mr-6 cursor-pointer ${n?"text-gray-700 hover:text-teal-600":h}`,fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[d.jsx("circle",{cx:"11",cy:"11",r:"8"}),d.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),d.jsx("a",{href:"https://www.kraken.com/learn/sell-algorand-algo",target:"_blank",rel:"noopener noreferrer",className:`px-6 py-2 rounded-full font-semibold transition-all duration-500 ${n?"text-white bg-teal-600 hover:bg-teal-700":"bg-white text-teal-600 hover:bg-gray-100"}`,children:"Sell Algo"})]}),d.jsx("div",{className:"flex items-center gap-3 md:hidden",children:d.jsx("svg",{onClick:()=>r(!t),className:`h-7 w-7 cursor-pointer ${n?"text-teal-600":h}`,fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})}),d.jsxs("div",{className:`fixed top-0 left-0 w-full h-screen bg-white text-base flex flex-col md:hidden items-center justify-center gap-8 font-medium text-gray-800 transition-all duration-500 ${t?"translate-x-0":"-translate-x-full"}`,children:[d.jsx("button",{className:"absolute top-6 right-6",onClick:()=>r(!1),children:d.jsx("svg",{className:"h-7 w-7 text-gray-800",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),e.map((f,v)=>d.jsx("a",{href:f.path,onClick:()=>r(!1),className:"text-xl hover:text-teal-600 transition-colors",children:f.name},v)),mk.map((f,v)=>d.jsx("a",{href:f.path,onClick:()=>r(!1),className:"text-lg text-teal-600 hover:text-teal-800 transition-colors",children:f.name},`mobile-post-${v}`)),d.jsx("a",{href:"https://www.kraken.com/learn/sell-algorand-algo",target:"_blank",rel:"noopener noreferrer",className:"bg-teal-600 text-white px-8 py-2.5 rounded-full font-semibold text-lg transition-all duration-500 hover:bg-teal-700 mt-2",onClick:()=>r(!1),children:"Sell Algo"})]})]})},wV=()=>{const n=_s.useRef(null),[e,t]=_s.useState(!1);return _s.useEffect(()=>{const r=()=>{t(window.scrollY>100)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),d.jsxs("div",{className:"min-h-screen relative overflow-x-hidden",ref:n,children:[d.jsx(xI,{isScrolled:e}),d.jsxs("div",{className:"absolute inset-0 z-0",children:[d.jsx("img",{src:"https://www.flexjobs.com/blog/wp-content/uploads/2025/04/What-Is-Freelancing-A-Complete-Guide-to-Freelance-Jobs.jpg",className:"w-full h-full object-cover",alt:"Freelancers working on code, symbolizing high-value contracts"}),d.jsx("div",{className:"absolute inset-0 bg-gray-900/70"})]}),d.jsx("div",{className:"relative z-10 pt-32 pb-16 md:pt-48 md:pb-32 px-4 md:px-12 lg:px-24 min-h-screen flex items-start md:items-center justify-center",children:d.jsxs("div",{className:"w-full flex flex-col md:flex-row md:justify-between md:items-center",children:[d.jsxs("div",{className:"w-full text-white mb-16 md:mb-0 text-center md:text-left md:max-w-xl",children:[d.jsx("p",{className:"text-teal-400 font-semibold mb-2 tracking-widest uppercase text-sm",children:"TRUSTED WEB3 FREELANCE MARKETPLACE"}),d.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold leading-tight mb-6",children:["Verified Experts",d.jsx("span",{className:"text-teal-400",children:" Guaranteed Payments."})]}),d.jsx("p",{className:"text-xl font-light mb-12 max-w-2xl mx-auto md:mx-0",children:"Hire top freelancers, buy ready-made projects, or book expert consultations  all powered by blockchain-backed smart contract escrow. Find payment-confirmed gigs where funds are securely locked before work begins."}),d.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-x-12 gap-y-6 mt-8",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-4xl font-bold text-teal-400",children:"12K+"}),d.jsx("p",{className:"text-sm font-medium text-gray-300",children:"Active Contracts"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-4xl font-bold text-teal-400",children:"50+"}),d.jsx("p",{className:"text-sm font-medium text-gray-300",children:"Expert Consultants"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-4xl font-bold text-teal-400",children:"1.5M"}),d.jsx("p",{className:"text-sm font-medium text-gray-300",children:"Value Secured"})]})]})]}),d.jsxs("div",{className:"w-full max-w-sm lg:max-w-md mx-auto md:mx-0 p-6 md:p-10 rounded-xl bg-white shadow-2xl flex-shrink-0",children:[d.jsxs("h2",{className:"text-3xl font-bold text-gray-800 mb-6 text-center",children:["Find Your Next ",d.jsx("span",{className:"text-teal-600",children:"Freelancer"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"search-keywords",className:"text-sm font-medium text-gray-600 mb-1 block",children:"Search Keywords"}),d.jsx("input",{id:"search-keywords",type:"text",placeholder:"Design, Python, ASA...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 focus:border-teal-500"})]}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"service-type",className:"text-sm font-medium text-gray-600 mb-1 block",children:"Service Type"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{id:"service-type",className:"w-full px-4 py-3 border border-gray-300 rounded-lg appearance-none bg-white focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 focus:border-teal-500",children:[d.jsx("option",{children:"Job Listing"}),d.jsx("option",{children:"Fixed-Price Project"}),d.jsx("option",{children:"Consultation"})]}),d.jsx(eo,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"currency-type",className:"text-sm font-medium text-gray-600 mb-1 block",children:"Currency (ASA)"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{id:"currency-type",className:"w-full px-4 py-3 border border-gray-300 rounded-lg appearance-none bg-white focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 focus:border-teal-500",children:[d.jsx("option",{children:"ALGO"}),d.jsx("option",{children:"USDC (ASA)"}),d.jsx("option",{children:"Other ASA..."})]}),d.jsx(eo,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"max-budget",className:"text-sm font-medium text-gray-600 mb-1 block",children:"Max Budget/Hourly Rate"}),d.jsx("input",{id:"max-budget",type:"number",placeholder:"e.g., 500 ALGO",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 focus:border-teal-500"})]}),d.jsx("button",{className:"w-full bg-teal-600 text-white font-semibold py-3 rounded-lg hover:bg-teal-700 transition-colors mt-6 cursor-pointer shadow-lg hover:shadow-xl",children:"Search Talent"})]})]})]})})]})},vV=({title:n,description:e,icon:t,iconBgColor:r,iconColor:s,href:o})=>d.jsxs(As,{to:o,className:"p-6 md:p-8 rounded-xl bg-white border border-gray-100 shadow-lg transition-all duration-500 hover:shadow-xl hover:border-teal-400 flex flex-col items-center text-center cursor-pointer group",children:[d.jsx("div",{className:`w-16 h-16 mb-6 rounded-full flex items-center justify-center ${r} border-4 border-white shadow-md transition-shadow duration-500 group-hover:shadow-teal-300`,children:d.jsx("svg",{className:`w-8 h-8 ${s} transition-colors duration-500 group-hover:text-teal-600`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:t})})}),d.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3 transition-colors duration-500 group-hover:text-teal-600",children:n}),d.jsx("p",{className:"text-gray-500 mb-6 text-base flex-grow",children:e}),d.jsxs("span",{className:"text-teal-600 font-semibold text-sm transition-colors duration-500 group-hover:text-teal-800 flex items-center space-x-1",children:[d.jsx("span",{children:"Explore"}),d.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]}),xV=()=>{const n=[{title:"Freelance Gigs",description:"Find the perfect job listing for your skills. Clients post gigs, and you submit proposals secured by our transparent escrow system.",icon:"M21 13.255A23.593 23.593 0 0112 15c-3.18 0-6.36-.6-9-1.745M12 21V3",iconBgColor:"bg-blue-100",iconColor:"text-blue-600",href:"/jobs"},{title:"Buy Pre-Built Projects",description:"Purchase ready-made, fixed-price digital assets and projects directly from other creators. Instant access and secure transaction.",icon:"M7 7h.01M7 3h10a2 2 0 012 2v14a2 2 0 01-2 2H7a2 2 0 01-2-2V5a2 2 0 012-2z",iconBgColor:"bg-yellow-100",iconColor:"text-yellow-600",href:"/catalog"},{title:"Expert Consultations",description:"Book time with top industry consultants and specialists. Secure your session fee instantly using our reliable escrow system.",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",iconBgColor:"bg-green-100",iconColor:"text-green-600",href:"/consultations"},{title:"Career & Tech Articles",description:"Stay ahead of the curve with our latest articles on freelance career growth, technology trends, and industry insights.",icon:"M19 20h-4L14 3m-4 5a4 4 0 100 8h4m-4-8a4 4 0 110 8",iconBgColor:"bg-purple-100",iconColor:"text-purple-600",href:"/articles"}];return d.jsx("div",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gray-50",children:d.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[d.jsx("h2",{className:"text-4xl font-extrabold text-gray-900 mb-4",children:"Marketplace Features Built for You"}),d.jsx("p",{className:"text-xl text-gray-500 mb-16 max-w-3xl mx-auto",children:"A comprehensive platform to find work, sell projects, book experts, and grow your career, all in one place."}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.map((e,t)=>d.jsx(vV,{title:e.title,description:e.description,icon:e.icon,iconBgColor:e.iconBgColor,iconColor:e.iconColor,href:e.href},t))})]})})},pk=({title:n,description:e,buttonText:t,bgColor:r,textColor:s,path:o,icon:l})=>d.jsx("div",{className:`flex flex-col items-center justify-center p-10 md:p-16 text-center ${r} h-full transition-all duration-300`,children:d.jsxs("div",{className:"max-w-xs md:max-w-sm",children:[d.jsx("div",{className:`mx-auto w-16 h-16 flex items-center justify-center rounded-full mb-6 shadow-xl ${s} border-4 border-white`,children:d.jsx(l,{className:"w-8 h-8"})}),d.jsx("h2",{className:`text-3xl md:text-4xl font-extrabold mb-3 ${s}`,children:n}),d.jsx("p",{className:`text-base mb-6 ${s} opacity-80`,children:e}),d.jsx(As,{to:o,className:`inline-flex items-center justify-center px-6 py-2 border border-transparent text-base font-medium rounded-full shadow-lg 
                            bg-teal-600 text-white hover:bg-teal-700 
                            transition-colors duration-200 ease-in-out transform hover:scale-[1.02]`,children:t})]})}),SV=()=>d.jsx("div",{className:"flex justify-center items-center w-full py-20 bg-gray-50",children:d.jsxs("div",{className:"flex flex-col md:flex-row w-full rounded-xl overflow-hidden shadow-2xl mx-4 sm:mx-6 lg:mx-8",children:[d.jsx("div",{className:"w-full md:w-1/2",children:d.jsx(pk,{title:"I Am a Freelancer",description:"Create your profile, showcase your skills, and connect your wallet to start submitting proposals and getting paid.",buttonText:"Create Profile & Connect Wallet",bgColor:"bg-[#1f4040]",textColor:"text-gray-100",path:"/profile",icon:ym})}),d.jsx("div",{className:"w-full md:w-1/2",children:d.jsx(pk,{title:"I Am a Client/Company",description:"Set up your company profile, post your first job, and secure funds in escrow for trusted work delivery.",buttonText:"Post a Job",bgColor:"bg-[#f0e6d6]",textColor:"text-gray-800",path:"/post-job",icon:Cs})})]})}),EV=[{id:1,title:"Smart Contract Auditor (Solidity)",company:"SecureChain DAO",location:"Remote, Global",rate:"$100 - $150/hour",type:"Fixed Project",logoUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/12/Algorand_logo.svg/1024px-Algorand_logo.svg.png",isFeatured:!0},{id:2,title:"DeFi Portfolio Analyst",company:"Data Insights Co.",location:"Zurich, Switzerland",rate:"$6000 - $8000 (Fixed Price)",type:"Fixed Project",logoUrl:"https://static.vecteezy.com/system/resources/previews/016/512/035/original/finance-advisor-logo-design-template-vector.jpg",isFeatured:!0},{id:3,title:"Ecosystem Technical Writer",company:"EON Labs",location:"Singapore, Asia",rate:"$50/hour",type:"Hourly Contract",logoUrl:"https://upload.wikimedia.org/wikipedia/commons/e/e0/Ethereum_logo_2023.svg",isFeatured:!1},{id:4,title:"Rust Developer (Polkadot SDK)",company:"Web3 Builders",location:"London, UK",rate:"$70 - $110/hour",type:"Hourly Contract",logoUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Google_logo_2020.svg/2048px-Google_logo_2020.svg.png",isFeatured:!1},{id:5,title:"Discord Community Moderator",company:"DAO Governance",location:"Berlin, Germany",rate:"$1500 - $2500 (Monthly Retainer)",type:"Retainer",logoUrl:"https://upload.wikimedia.org/wikipedia/commons/4/4c/Discord_logo.svg",isFeatured:!1},{id:6,title:"Next.js Frontend DApp Designer",company:"Frontier UX",location:"Amsterdam, Netherlands",rate:"$45 - $80/hour",type:"Part Time",logoUrl:"https://www.vectorlogo.zone/logos/nextjs/nextjs-icon.svg",isFeatured:!1},{id:7,title:"Marketing Campaign Manager",company:"Nexus Solutions",location:"Toronto, ON, Canada",rate:"$3000 (Fixed Budget)",type:"Fixed Project",logoUrl:"https://www.vectorlogo.zone/logos/nike/nike-icon.svg",isFeatured:!1},{id:8,title:"Agile Project Coordinator",company:"Trello Experts",location:"Chicago, IL, United States",rate:"$50 - $90/hour",type:"Part Time",logoUrl:"https://upload.wikimedia.org/wikipedia/en/thumb/d/d4/Trello_logo.svg/1280px-Trello_logo.svg.png",isFeatured:!0},{id:9,title:"UX Consultant (1-Hour Session)",company:"UX Strategy Hub",location:"Remote, Global",rate:"$150 (Per Session)",type:"Consultation",logoUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f7/React.js_logo.svg/1024px-React.js_logo.svg.png",isFeatured:!1}],bV=({type:n})=>{let e,t="text-white";switch(n){case"Part Time":case"Hourly Contract":e="bg-blue-600";break;case"Fixed Project":e="bg-red-600";break;case"Retainer":e="bg-green-600";break;case"Consultation":e="bg-purple-600";break;default:e="bg-gray-500";break}return d.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full ${e} ${t} text-xs font-medium`,children:[d.jsx(Cs,{className:"w-3 h-3"}),d.jsx("span",{children:n})]})},_V=()=>d.jsxs("div",{className:"py-20 bg-teal-50",children:[" ",d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsx("h2",{className:"text-4xl font-extrabold text-gray-900 text-center mb-16",children:"Featured Gigs"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:EV.map(n=>d.jsxs(As,{to:`/job/${n.id}`,className:"bg-white rounded-xl shadow-lg border border-gray-100 p-5 transition-shadow duration-300 hover:shadow-xl relative flex flex-col justify-between",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("img",{src:n.logoUrl,alt:`${n.company} logo`,className:"w-12 h-12 object-contain rounded-full border p-1",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/48x48/CCCCCC/000000?text=LOGO"}})}),n.isFeatured&&d.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 flex items-center justify-center bg-blue-600 rounded-bl-xl rounded-tr-xl text-white",children:d.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]}),d.jsxs("div",{className:"mb-4 flex-grow",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-1 leading-snug",children:n.title}),d.jsx("p",{className:"text-sm text-gray-500 mb-2",children:n.company}),d.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[d.jsx(FE,{className:"w-4 h-4 mr-1 text-gray-400"}),d.jsx("span",{children:n.location})]}),d.jsx("p",{className:"text-lg font-semibold text-teal-600",children:n.rate})]}),d.jsx("div",{className:"mt-4",children:d.jsx(bV,{type:n.type})})]},n.id))}),d.jsx("div",{className:"mt-12 text-center",children:d.jsx(As,{to:"/jobs",className:`inline-flex items-center px-8 py-3 border border-transparent text-base font-medium rounded-full shadow-lg \r
                            text-white bg-teal-600 hover:bg-teal-700 \r
                            transition-colors duration-200 ease-in-out`,children:"Explore More Gigs"})})]})]}),gk=[{id:1,title:"Create Detailed Profile",description:"Freelancers build detailed portfolios and Clients verify credentials before starting any transaction.",icon:wI,side:"left",color:"text-blue-600"},{id:2,title:"Client Secures Funds (Lock)",description:"The Client initiates the contract and **funds the decentralized escrow Smart Contract (ASC1)** with the agreed-upon ALGO or ASA tokens.",icon:ME,side:"left",color:"text-green-600"},{id:4,title:"Freelancer Delivers Work",description:"The Freelancer completes the defined scope of work, confident that payment is **immutably secured** by the contract.",icon:Cs,side:"left",color:"text-red-600"},{id:5,title:"Client Reviews & Approves",description:"The Client reviews the final delivery or confirmed consultation time, and confirms satisfaction to trigger the payment release.",icon:dl,side:"right",color:"text-teal-600"},{id:6,title:"Instant Trustless Payment",description:"The secured funds are **instantly and automatically transferred** from the escrow contract to the Freelancers wallet via an inner transaction.",icon:to,side:"right",color:"text-indigo-600"},{id:8,title:"Ratings & Portfolio Update",description:"Upon completion, the Client leaves a review, which immediately updates the Freelancers **public portfolio and professional rating**.",icon:Ny,side:"right",color:"text-purple-600"}],yk=({title:n,description:e,icon:t,color:r,isRight:s})=>d.jsxs("div",{className:`flex items-start w-full ${s?"flex-row":"flex-row-reverse"}`,children:[d.jsxs("div",{className:`flex-grow ${s?"text-left mr-8":"text-right ml-8"}`,children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:n}),d.jsx("p",{className:"text-gray-700 text-sm max-w-xs inline-block",children:e})]}),d.jsx("div",{className:`flex-shrink-0 w-16 h-16 flex items-center justify-center rounded-full ${r} bg-gray-100 shadow-md ring-4 ring-white relative z-10`,children:d.jsx(t,{className:"w-8 h-8"})})]}),AV=()=>{const n=gk.filter(t=>t.side==="left"),e=gk.filter(t=>t.side==="right");return d.jsx("div",{className:"py-20 bg-white",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[d.jsx("h2",{className:"text-4xl font-extrabold text-gray-900 mb-4",children:"The Trustless Escrow Process"}),d.jsx("p",{className:"text-lg text-gray-500 max-w-3xl mx-auto mb-16",children:"Every step, from profile creation to final payment, is secured, transparent, and built for the decentralized web."}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-y-12 lg:gap-x-12 items-start",children:[d.jsx("div",{className:"flex flex-col items-end space-y-12",children:n.map(t=>d.jsx(yk,{title:t.title,description:t.description,icon:t.icon,color:t.color,isRight:!1},t.id))}),d.jsxs("div",{className:"flex justify-center items-center relative order-first lg:order-none py-12 lg:py-0",children:[d.jsx("div",{className:"hidden lg:block absolute inset-y-0 left-1/2 w-1 bg-teal-100 transform -translate-x-1/2 rounded-full"}),d.jsx("div",{className:"w-48 h-48 flex items-center justify-center rounded-full bg-teal-600 shadow-2xl relative z-10 ring-8 ring-white",children:d.jsx(ME,{className:"w-20 h-20 text-white"})})]}),d.jsx("div",{className:"flex flex-col items-start space-y-12",children:e.map(t=>d.jsx(yk,{title:t.title,description:t.description,icon:t.icon,color:t.color,isRight:!0},t.id))})]})]})})},TV=({data:n=[],loading:e=!1,error:t=null})=>{const r=n&&n.length>0?n:[{image:"https://images.unsplash.com/photo-1633332755192-727a05c4013d?q=80&w=200",name:"Rajesh Kumar",handle:"@rajeshdev",date:"October 15, 2025",review:"AlgoEscrow made my first crypto freelance gig seamless. The escrow system gave me confidence that I would get paid for my work."},{image:"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?q=80&w=200",name:"Priya Sharma",handle:"@priyaUI",date:"October 10, 2025",review:"As a client, I love the transparency. Funds are locked until delivery, and the smart contract handles everything automatically!"},{image:"https://images.unsplash.com/photo-1527980965255-d3b416303d12?w=200&auto=format&fit=crop&q=60",name:"Arjun Patel",handle:"@arjunblockchain",date:"October 5, 2025",review:"Finally, a freelancing platform built for Web3. No chargebacks, no payment disputesjust trustless escrow on Algorand."},{image:"https://images.unsplash.com/photo-1522075469751-3a6694fb2f61?w=200&auto=format&fit=crop&q=60",name:"Neha Gupta",handle:"@nehadesigns",date:"September 28, 2025",review:"The consultation booking feature is genius. I secured payment upfront and delivered my session without any payment worries."},{image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=200",name:"Vikram Singh",handle:"@vikramcodes",date:"September 20, 2025",review:"Instant ALGO payments after project approval. AlgoEscrow eliminated the 2-week wait I used to face on other platforms."},{image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=200",name:"Aisha Mohammed",handle:"@aishatech",date:"September 12, 2025",review:"The education verification and detailed profiles help me hire the right talent. Plus, the escrow protects both parties equally."}],s=({card:o})=>d.jsxs("div",{className:"p-4 rounded-lg mx-4 shadow hover:shadow-lg transition-all duration-200 w-72 shrink-0 bg-white",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsx("img",{className:"size-11 rounded-full object-cover",src:o.image,alt:o.name}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("p",{className:"font-semibold text-gray-800",children:o.name}),d.jsx("svg",{className:"mt-0.5",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.555.72a4 4 0 0 1-.297.24c-.179.12-.38.202-.59.244a4 4 0 0 1-.38.041c-.48.039-.721.058-.922.129a1.63 1.63 0 0 0-.992.992c-.071.2-.09.441-.129.922a4 4 0 0 1-.041.38 1.6 1.6 0 0 1-.245.59 3 3 0 0 1-.239.297c-.313.368-.47.551-.56.743-.213.444-.213.96 0 1.404.09.192.247.375.56.743.125.146.187.219.24.297.12.179.202.38.244.59.018.093.026.189.041.38.039.48.058.721.129.922.163.464.528.829.992.992.2.071.441.09.922.129.191.015.287.023.38.041.21.042.411.125.59.245.078.052.151.114.297.239.368.313.551.47.743.56.444.213.96.213 1.404 0 .192-.09.375-.247.743-.56.146-.125.219-.187.297-.24.179-.12.38-.202.59-.244a4 4 0 0 1 .38-.041c.48-.039.721-.058.922-.129.464-.163.829-.528.992-.992.071-.2.09-.441.129-.922a4 4 0 0 1 .041-.38c.042-.21.125-.411.245-.59.052-.078.114-.151.239-.297.313-.368.47-.551.56-.743.213-.444.213-.96 0-1.404-.09-.192-.247-.375-.56-.743a4 4 0 0 1-.24-.297 1.6 1.6 0 0 1-.244-.59 3 3 0 0 1-.041-.38c-.039-.48-.058-.721-.129-.922a1.63 1.63 0 0 0-.992-.992c-.2-.071-.441-.09-.922-.129a4 4 0 0 1-.38-.041 1.6 1.6 0 0 1-.59-.245A3 3 0 0 1 7.445.72C7.077.407 6.894.25 6.702.16a1.63 1.63 0 0 0-1.404 0c-.192.09-.375.247-.743.56m4.07 3.998a.488.488 0 0 0-.691-.69l-2.91 2.91-.958-.957a.488.488 0 0 0-.69.69l1.302 1.302c.19.191.5.191.69 0z",fill:"#14B8A6"})})]}),d.jsx("span",{className:"text-xs text-slate-500",children:o.handle})]})]}),d.jsxs("p",{className:"text-sm py-4 text-gray-700 leading-relaxed",children:['"',o.review,'"']}),d.jsxs("div",{className:"flex items-center justify-between text-slate-500 text-xs",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{children:"Posted on"}),d.jsx("a",{href:"https://x.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-teal-500",children:d.jsx("svg",{width:"11",height:"10",viewBox:"0 0 11 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"m.027 0 4.247 5.516L0 10h.962l3.742-3.926L7.727 10H11L6.514 4.174 10.492 0H9.53L6.084 3.616 3.3 0zM1.44.688h1.504l6.64 8.624H8.082z",fill:"currentColor"})})})]}),d.jsx("p",{children:o.date})]})]});return d.jsxs("div",{className:"py-20 bg-gray-50",children:[d.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center mb-12",children:[d.jsx("h2",{className:"text-4xl font-extrabold text-gray-900 mb-4",children:"What Our Users Say"}),d.jsx("p",{className:"text-lg text-gray-500",children:"Real experiences from freelancers and clients using AlgoEscrow's trustless payment system"})]}),d.jsx("style",{children:`
                @keyframes marqueeScroll {
                    0% { transform: translateX(0%); }
                    100% { transform: translateX(-50%); }
                }

                .marquee-inner {
                    animation: marqueeScroll 30s linear infinite;
                }

                .marquee-reverse {
                    animation-direction: reverse;
                }
            `}),d.jsxs("div",{className:"marquee-row w-full mx-auto max-w-7xl overflow-hidden relative",children:[d.jsx("div",{className:"absolute left-0 top-0 h-full w-20 z-10 pointer-events-none bg-gradient-to-r from-gray-50 to-transparent"}),d.jsx("div",{className:"marquee-inner flex transform-gpu min-w-[200%] pt-10 pb-5",children:[...r,...r].map((o,l)=>d.jsx(s,{card:o},l))}),d.jsx("div",{className:"absolute right-0 top-0 h-full w-20 md:w-40 z-10 pointer-events-none bg-gradient-to-l from-gray-50 to-transparent"})]}),d.jsxs("div",{className:"marquee-row w-full mx-auto max-w-7xl overflow-hidden relative",children:[d.jsx("div",{className:"absolute left-0 top-0 h-full w-20 z-10 pointer-events-none bg-gradient-to-r from-gray-50 to-transparent"}),d.jsx("div",{className:"marquee-inner marquee-reverse flex transform-gpu min-w-[200%] pt-10 pb-5",children:[...r,...r].map((o,l)=>d.jsx(s,{card:o},`reverse-${l}`))}),d.jsx("div",{className:"absolute right-0 top-0 h-full w-20 md:w-40 z-10 pointer-events-none bg-gradient-to-l from-gray-50 to-transparent"})]})]})},kV=()=>d.jsxs(d.Fragment,{children:[d.jsx("style",{children:`
                @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
            
                * {
                    font-family: 'Poppins', sans-serif;
                }
            `}),d.jsxs("footer",{className:"flex flex-wrap justify-center lg:justify-between overflow-hidden gap-10 md:gap-20 py-16 px-6 md:px-16 lg:px-24 xl:px-32 text-[13px] text-gray-500 bg-black",children:[d.jsxs("div",{className:"flex flex-wrap items-start gap-10 md:gap-[60px] xl:gap-[140px]",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-slate-100 font-semibold",children:"Platform"}),d.jsxs("ul",{className:"mt-2 space-y-2",children:[d.jsx("li",{children:d.jsx("a",{href:"/",className:"hover:text-teal-400 transition",children:"Home"})}),d.jsx("li",{children:d.jsx("a",{href:"/jobs",className:"hover:text-teal-400 transition",children:"Browse Gigs"})}),d.jsx("li",{children:d.jsx("a",{href:"/consultations",className:"hover:text-teal-400 transition",children:"Consultations"})}),d.jsx("li",{children:d.jsx("a",{href:"/catalog",className:"hover:text-teal-400 transition",children:"Project Catalog"})})]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-slate-100 font-semibold",children:"Resources"}),d.jsxs("ul",{className:"mt-2 space-y-2",children:[d.jsx("li",{children:d.jsx("a",{href:"/",className:"hover:text-teal-400 transition",children:"Documentation"})}),d.jsx("li",{children:d.jsx("a",{href:"/articles",className:"hover:text-teal-400 transition",children:"Blog & Articles"})}),d.jsx("li",{children:d.jsx("a",{href:"/",className:"hover:text-teal-400 transition",children:"Community Discord"})}),d.jsx("li",{children:d.jsxs("a",{href:"/",className:"hover:text-teal-400 transition",children:["Support",d.jsx("span",{className:"text-xs bg-teal-500 rounded-md ml-2 px-2 py-1",children:"Always Here!"})]})})]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-slate-100 font-semibold",children:"Legal"}),d.jsxs("ul",{className:"mt-2 space-y-2",children:[d.jsx("li",{children:d.jsx("a",{href:"/",className:"hover:text-teal-400 transition",children:"Privacy Policy"})}),d.jsx("li",{children:d.jsx("a",{href:"/",className:"hover:text-teal-400 transition",children:"Terms of Service"})})]})]})]}),d.jsxs("div",{className:"flex flex-col max-md:items-center max-md:text-center gap-2 items-end",children:[d.jsx("p",{className:"max-w-60",children:"Secure freelancing with trustless escrow on Algorand blockchain."}),d.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[d.jsx("a",{href:"https://github.com/algoescrow",target:"_blank",rel:"noreferrer",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-github size-5 hover:text-teal-400","aria-hidden":"true",children:d.jsx("path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c2.6-.4 5.3-1.1 5.3-6a4.7 4.7 0 0 0-1.3-3.2 4.4 4.4 0 0 0-.1-3.2s-1.1-.3-3.6 1.3a12.3 12.3 0 0 0-6.2 0C6.5 2.8 5.4 3.1 5.4 3.1a4.4 4.4 0 0 0-.1 3.2A4.7 4.7 0 0 0 4 9c0 4.9 2.7 5.7 5.3 6-.3.3-.6.7-.7 1.2-.6.4-2.1.7-3.2-.8-1-1.6-3-1.8-3-1.8-1.9 0-.1 1.2 0 1.6 1.2.6 2 3 2 3 1.1 3.3 6.5 2.7 6.5 2.7v4"})})}),d.jsx("a",{href:"https://www.linkedin.com/company/algoescrow",target:"_blank",rel:"noreferrer",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-linkedin size-5 hover:text-teal-400","aria-hidden":"true",children:[d.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),d.jsx("rect",{width:"4",height:"12",x:"2",y:"9"}),d.jsx("circle",{cx:"4",cy:"4",r:"2"})]})}),d.jsx("a",{href:"https://x.com/algoescrow",target:"_blank",rel:"noreferrer",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-twitter size-5 hover:text-teal-400","aria-hidden":"true",children:d.jsx("path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"})})}),d.jsx("a",{href:"https://www.youtube.com/@algoescrow",target:"_blank",rel:"noreferrer",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-youtube size-6 hover:text-teal-400","aria-hidden":"true",children:[d.jsx("path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"}),d.jsx("path",{d:"m10 15 5-3-5-3z"})]})})]}),d.jsxs("p",{className:"mt-3 text-center",children:[" 2025 ",d.jsx("a",{href:"/",className:"text-teal-400 hover:text-teal-300 transition",children:"AlgoEscrow"})]})]})]})]});var SI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wk=_s.createContext&&_s.createContext(SI),IV=["attr","size","title"];function CV(n,e){if(n==null)return{};var t=RV(n,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function RV(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function j0(){return j0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},j0.apply(this,arguments)}function vk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function V0(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(t),!0).forEach(function(r){NV(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vk(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function NV(n,e,t){return e=DV(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function DV(n){var e=MV(n,"string");return typeof e=="symbol"?e:e+""}function MV(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function EI(n){return n&&n.map((e,t)=>_s.createElement(e.tag,V0({key:t},e.attr),EI(e.child)))}function yp(n){return e=>_s.createElement(FV,j0({attr:V0({},n.attr)},e),EI(n.child))}function FV(n){var e=t=>{var{attr:r,size:s,title:o}=n,l=CV(n,IV),h=s||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),_s.createElement("svg",j0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:p,style:V0(V0({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&_s.createElement("title",null,o),n.children)};return wk!==void 0?_s.createElement(wk.Consumer,null,t=>e(t)):e(SI)}function OV(n){return yp({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(n)}function PV(n){return yp({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function jV(n){return yp({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(n)}function VV(n){return yp({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function BV(n){return yp({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(n)}const UV=()=>d.jsxs("div",{className:"bg-white py-16 px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Get in Touch"}),d.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Have questions? We'd love to hear from you"})]}),d.jsxs("div",{className:"max-w-4xl mx-auto mt-12 grid grid-cols-1 md:grid-cols-2 gap-12",children:[d.jsxs("form",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{type:"text",name:"name",id:"name",className:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),d.jsx("div",{className:"mt-1",children:d.jsx("input",{type:"email",name:"email",id:"email",className:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Message"}),d.jsx("div",{className:"mt-1",children:d.jsx("textarea",{id:"message",name:"message",rows:"4",className:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})})]}),d.jsx("div",{children:d.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-black bg-gradient-to-r bg-lime-400 to-[#7dffe3]   ",children:"Send Message"})})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[d.jsx(VV,{className:"h-5 w-5"}),d.jsx("span",{children:"hello@foodsafe.com"})]}),d.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[d.jsx(BV,{className:"h-5 w-5"}),d.jsx("span",{children:"+1 (555) 123-4567"})]}),d.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("a",{href:"#","aria-label":"Twitter",children:d.jsx(jV,{className:"h-5 w-5 hover:text-gray-900 transition-colors"})}),d.jsx("a",{href:"#","aria-label":"Facebook",children:d.jsx(OV,{className:"h-5 w-5 hover:text-gray-900 transition-colors"})}),d.jsx("a",{href:"#","aria-label":"Instagram",children:d.jsx(PV,{className:"h-5 w-5 hover:text-gray-900 transition-colors"})})]}),d.jsx("span",{className:"sr-only",children:"Social"})]})]})]})]}),LV=()=>{const[n,e]=Ee.useState([]),[t,r]=Ee.useState(!0),[s,o]=Ee.useState(null);return Ee.useEffect(()=>{(async()=>{try{const h=gh(Fi(wi,"testimonials"),TE("createdAt","desc")),f=(await yh(h)).docs.map(v=>({id:v.id,...v.data()}));e(f),r(!1)}catch(h){console.error("Error fetching testimonials:",h),o("Failed to load testimonials."),r(!1)}})()},[]),d.jsxs("div",{children:[d.jsx(xI,{}),d.jsx(wV,{}),d.jsx(xV,{}),d.jsx(SV,{}),d.jsx(_V,{}),d.jsx(AV,{}),d.jsx(TV,{data:n,loading:t,error:s}),d.jsx(UV,{}),d.jsx(kV,{})]})},zV=({onConnect:n})=>d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-teal-50 to-white",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-10 flex flex-col items-center",children:[d.jsx(jE,{className:"w-12 h-12 text-teal-600 mb-4"}),d.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 mb-2",children:"Connect Your Algorand Wallet"}),d.jsx("p",{className:"text-md text-gray-600 mb-6",children:"Secure your account with an Algo wallet to receive payments and verify your identity."}),d.jsx("button",{onClick:n,className:"px-6 py-3 bg-teal-600 text-white font-semibold rounded-full shadow-lg hover:bg-teal-700 transition-colors text-lg",children:"Connect via MyAlgo Wallet"}),d.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"Supported wallets: MyAlgo, Pera, Fireblocks."})]}),d.jsxs("div",{className:"mt-10 text-center text-sm text-gray-500",children:[d.jsx(dl,{className:"inline w-5 h-5 text-green-500 mr-1"}),"Wallet connection is required for decentralized gig payments."]})]}),qV=({index:n,education:e,handleChange:t,removeEntry:r})=>d.jsxs("div",{className:"border border-gray-200 p-4 rounded-lg space-y-4 relative bg-gray-50",children:[d.jsxs("h4",{className:"font-semibold text-gray-700",children:["Education #",n+1]}),n>0&&d.jsx("button",{type:"button",onClick:()=>r(n),className:"absolute top-2 right-2 text-red-500 hover:text-red-700 text-sm",children:"Remove"}),d.jsx(cl,{id:`degree-${n}`,name:"degree",label:"Degree / Qualification",placeholder:"e.g., MSc in Computer Science",value:e.degree,onChange:s=>t(n,s),required:!0}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(cl,{id:`institution-${n}`,name:"institution",label:"Institution/University",placeholder:"e.g., MIT or Oxford University",value:e.institution,onChange:s=>t(n,s),required:!0}),d.jsx(cl,{id:`graduationYear-${n}`,name:"graduationYear",label:"Graduation Year",type:"number",placeholder:"2020",value:e.graduationYear,onChange:s=>t(n,s),required:!0})]})]}),$V=()=>{const[n,e]=Ee.useState({displayName:"",tagline:"",bio:"",age:"",hourlyRate:"",preferredASA:"ALGO",skills:"",education:[{degree:"",institution:"",graduationYear:""}],cvFile:null}),[t,r]=Ee.useState(!1),[s,o]=Ee.useState(null),[l,h]=Ee.useState(!1),[p,f]=Ee.useState(!1),v=N=>{const{name:U,value:q}=N.target;e(G=>({...G,[U]:q}))},S=N=>{e(U=>({...U,cvFile:N.target.files[0]}))},C=(N,U)=>{const{name:q,value:G}=U.target,he=[...n.education];he[N][q]=G,e(pe=>({...pe,education:he}))},R=()=>{e(N=>({...N,education:[...N.education,{degree:"",institution:"",graduationYear:""}]}))},B=N=>{const U=n.education.filter((q,G)=>G!==N);e(q=>({...q,education:U}))},re=async N=>{N.preventDefault(),r(!0),o(null);const U={displayName:n.displayName,tagline:n.tagline,bio:n.bio,age:Number(n.age)||null,hourlyRate:Number(n.hourlyRate),preferredASA:n.preferredASA,skills:n.skills.split(",").map(q=>q.trim()).filter(q=>q.length>0),education:n.education,profileCreatedAt:new Date,cvUrl:null};try{const q=await dc(Fi(wi,"freelancers"),U);console.log("Profile successfully saved with ID: ",q.id),h(!0)}catch(q){console.error("Error saving profile to Firestore:",q),o(`Submission failed. Please check your network or try again. Error: ${q.message}`)}finally{r(!1)}};return l&&p?d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-teal-50 to-white",children:[d.jsx(dl,{className:"w-16 h-16 text-green-500 mb-4"}),d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"You're all set!"}),d.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Your freelancer profile is ready, and your Algorand wallet is connected."}),d.jsx(As,{to:"/",className:"px-6 py-3 bg-teal-600 text-white rounded-full text-lg shadow-lg hover:bg-teal-700 transition",children:"Go to Dashboard"})]}):l?d.jsx(zV,{onConnect:()=>f(!0)}):d.jsx("div",{className:"min-h-screen bg-gray-50 py-10 sm:py-16",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 bg-white p-8 md:p-12 rounded-xl shadow-2xl",children:[d.jsxs("div",{className:"text-center mb-10",children:[d.jsx(ym,{className:"w-12 h-12 mx-auto text-teal-600 mb-3"}),d.jsx("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Create Your Freelancer Profile"}),d.jsxs("p",{className:"mt-2 text-md text-gray-500",children:["Showcase your ",d.jsx("b",{children:"full credentials"})," and expertise to start attracting top decentralized gigs."]})]}),s&&d.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:[d.jsx("p",{className:"font-medium",children:"Submission Error:"}),d.jsx("p",{className:"text-sm",children:s})]}),d.jsxs("form",{onSubmit:re,className:"space-y-8",children:[d.jsx($g,{icon:ym,title:"Personal & Professional Basics"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx(cl,{id:"displayName",name:"displayName",label:"Public Display Name",placeholder:"e.g., Alex Johnson",value:n.displayName,onChange:v,required:!0}),d.jsx(cl,{id:"age",name:"age",label:"Age (Optional for Verification)",type:"number",placeholder:"28",value:n.age,onChange:v}),d.jsx(cl,{id:"tagline",name:"tagline",label:"Professional Tagline (Max 80 Chars)",placeholder:"Senior Smart Contract Auditor specializing in Beaker.",value:n.tagline,onChange:v,maxLength:80,required:!0})]}),d.jsx(xk,{id:"bio",name:"bio",label:"Detailed Professional Bio",placeholder:"Describe your experience, work philosophy, and ideal projects (Markdown supported).",value:n.bio,onChange:v,required:!0,rows:5}),d.jsx($g,{icon:fk,title:"Education History (Required)"}),d.jsx("div",{className:"space-y-4",children:n.education.map((N,U)=>d.jsx(qV,{index:U,education:N,handleChange:C,removeEntry:B},U))}),d.jsxs("button",{type:"button",onClick:R,className:"text-teal-600 flex items-center hover:text-teal-800 text-sm font-semibold transition-colors",children:[d.jsx(fk,{className:"w-4 h-4 mr-2"})," Add Another Degree/Certification"]}),d.jsx($g,{icon:to,title:"Rates & Payment"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx(cl,{id:"hourlyRate",name:"hourlyRate",label:"Hourly Rate (ALGO/Unit)",type:"number",placeholder:"75",value:n.hourlyRate,onChange:v,required:!0}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{htmlFor:"preferredASA",className:"block text-sm font-medium text-gray-700",children:"Preferred Payment Currency (ASA)"}),d.jsxs("select",{id:"preferredASA",name:"preferredASA",value:n.preferredASA,onChange:v,className:"mt-1 block w-full pl-3 pr-10 py-3 text-base border-gray-300 focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm rounded-lg shadow-sm",children:[d.jsx("option",{value:"ALGO",children:"ALGO (Algorand Native Token)"}),d.jsx("option",{value:"USDC",children:"USDC (ASA Asset ID: 31566704)"}),d.jsx("option",{value:"OTHER",children:"Other ASA (Specify)"})]})]})]}),d.jsx($g,{icon:Cs,title:"Skills & Documents"}),d.jsx(xk,{id:"skills",name:"skills",label:"Key Skills (Comma Separated)",placeholder:"e.g., Python, Beaker, PyTeal, React, Web3, DeFi Audit",value:n.skills,onChange:v,required:!0,rows:3}),d.jsx(HV,{id:"cvFile",name:"cvFile",label:"Upload CV/Resume (PDF preferred)",onChange:S,file:n.cvFile}),d.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"*Note: Portfolio links should be managed directly from your Profile Dashboard after this initial setup."}),d.jsx("div",{className:"pt-4",children:d.jsx("button",{type:"submit",disabled:t,className:`w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-full shadow-lg \r
        text-white bg-teal-600 hover:bg-teal-700 \r
        transition-colors duration-200 ease-in-out disabled:opacity-50`,children:t?"Saving Profile...":d.jsxs(d.Fragment,{children:["Save Profile & Continue to Wallet Setup",d.jsx(CE,{className:"w-5 h-5 ml-2"})]})})})]})]})})},$g=({icon:n,title:e})=>d.jsxs("div",{className:"flex items-center space-x-3 pt-4 pb-2 border-t border-gray-200 mt-6",children:[d.jsx(n,{className:"w-6 h-6 text-teal-600"}),d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:e})]}),cl=({id:n,label:e,type:t="text",...r})=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700",children:e}),d.jsx("input",{id:n,type:t,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500",...r})]}),xk=({id:n,label:e,rows:t,...r})=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700",children:e}),d.jsx("textarea",{id:n,rows:t,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500 resize-none",...r})]}),HV=({id:n,label:e,file:t,...r})=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("input",{id:n,type:"file",accept:".pdf,.doc,.docx",className:`block w-full text-sm text-gray-500\r
     file:mr-4 file:py-2 file:px-4\r
     file:rounded-full file:border-0\r
     file:text-sm file:font-semibold\r
     file:bg-teal-50 file:text-teal-700\r
     hover:file:bg-teal-100`,...r}),t&&d.jsxs("span",{className:"text-sm text-teal-600 font-medium flex items-center",children:[d.jsx(Ny,{className:"w-4 h-4 mr-1"})," ",t.name]})]})]}),GV=()=>{const[n,e]=Ee.useState({companyName:"",companyBio:"",companyWebsite:"",companyLocation:"",jobTitle:"",jobDescription:"",employmentType:"Fixed Project",budgetMin:"",budgetMax:"",paymentASA:"ALGO",proposalLink:"",requiresFileUpload:!1}),[t,r]=Ee.useState(null),[s,o]=Ee.useState(null),[l,h]=Ee.useState(!1),[p,f]=Ee.useState(null),v=B=>{const re=B.target.files[0];re?(r(re),o(URL.createObjectURL(re))):(r(null),o(null))},S=B=>{const{name:re,value:N,type:U,checked:q}=B.target;e(G=>({...G,[re]:U==="checkbox"?q:N}))},C=async B=>(console.log(`Simulating logo upload for file: ${B.name}`),"https://i.imgur.com/placeholder-logo.png"),R=async B=>{B.preventDefault(),h(!0),f(null);let re="";try{t&&(re=await C(t));const N={companyName:n.companyName,companyBio:n.companyBio,companyWebsite:n.companyWebsite,companyLocation:n.companyLocation,companyLogoUrl:re,profileCreatedAt:new Date},U={jobTitle:n.jobTitle,jobDescription:n.jobDescription,employmentType:n.employmentType,budgetMin:Number(n.budgetMin),budgetMax:Number(n.budgetMax),paymentASA:n.paymentASA,proposalLink:n.proposalLink,requiresFileUpload:n.requiresFileUpload,jobPostedAt:new Date,clientId:null},q=Fi(wi,"clients"),he=(await dc(q,N)).id;U.clientId=he;const pe=Fi(wi,"jobs");await dc(pe,U),alert("Success! Your job has been posted and your client profile is active."),e({companyName:"",companyBio:"",companyWebsite:"",companyLocation:"",jobTitle:"",jobDescription:"",employmentType:"Fixed Project",budgetMin:"",budgetMax:"",paymentASA:"ALGO",proposalLink:"",requiresFileUpload:!1}),r(null),o(null)}catch(N){console.error("Error posting job and profile:",N),f(`Failed to submit data: ${N.message}. Please check your connection and Firebase rules.`)}finally{h(!1)}};return d.jsx("div",{className:"min-h-screen bg-[#f0e6d6] py-10 sm:py-16",children:d.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 bg-white p-8 md:p-12 rounded-xl shadow-2xl",children:[d.jsxs("div",{className:"text-center mb-10",children:[d.jsx(Cs,{className:"w-12 h-12 mx-auto text-teal-600 mb-3"}),d.jsx("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Post Your First Decentralized Gig"}),d.jsx("p",{className:"mt-2 text-md text-gray-500",children:"Create your client profile and list a job to start securing top talent using our escrow system."})]}),p&&d.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:[d.jsx("p",{className:"font-medium",children:"Submission Error:"}),d.jsx("p",{className:"text-sm",children:p})]}),d.jsxs("form",{onSubmit:R,className:"space-y-8",children:[d.jsx(Hg,{icon:dI,title:"Client & Company Information"}),d.jsx(KV,{id:"companyLogo",label:"Company Logo (Optional)",file:t,previewUrl:s,onChange:v}),d.jsx(el,{id:"companyName",name:"companyName",label:"Company / Project Name",placeholder:"e.g., SecureChain Inc.",value:n.companyName,onChange:S,required:!0}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx(el,{id:"companyWebsite",name:"companyWebsite",label:"Company Website (Optional)",placeholder:"https://www.yourdao.com",value:n.companyWebsite,onChange:S}),d.jsx(el,{id:"companyLocation",name:"companyLocation",label:"Location",placeholder:"e.g., Remote, San Francisco, or Berlin",value:n.companyLocation,onChange:S,required:!0})]}),d.jsx(Sk,{id:"companyBio",name:"companyBio",label:"Brief Company Description",placeholder:"Describe what your company does and why talent should work with you.",value:n.companyBio,onChange:S,rows:3,required:!0}),d.jsx(Hg,{icon:pI,title:"Job / Gig Details"}),d.jsx(el,{id:"jobTitle",name:"jobTitle",label:"Job Title",placeholder:"e.g., PyTeal Smart Contract Auditor or DeFi Analyst",value:n.jobTitle,onChange:S,required:!0}),d.jsx(Sk,{id:"jobDescription",name:"jobDescription",label:"Detailed Job Description & Requirements",placeholder:"Outline the scope, deliverables, and required skills for this gig.",value:n.jobDescription,onChange:S,rows:7,required:!0}),d.jsx(Hg,{icon:to,title:"Budget & Payment Terms"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"employmentType",className:"block text-sm font-medium text-gray-700",children:"Gig Type"}),d.jsxs("select",{id:"employmentType",name:"employmentType",value:n.employmentType,onChange:S,className:"mt-1 block w-full pl-3 pr-10 py-3 text-base border-gray-300 focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm rounded-lg shadow-sm",children:[d.jsx("option",{value:"Fixed Project",children:"Fixed Project (Lump Sum)"}),d.jsx("option",{value:"Hourly Contract",children:"Hourly Contract (Time Tracking)"}),d.jsx("option",{value:"Consultation",children:"Consultation (Session)"}),d.jsx("option",{value:"Retainer",children:"Retainer (Monthly)"})]})]}),d.jsx(el,{id:"budgetMin",name:"budgetMin",label:"Min Budget (ALGO/Unit)",type:"number",placeholder:"500",value:n.budgetMin,onChange:S,required:!0}),d.jsx(el,{id:"budgetMax",name:"budgetMax",label:"Max Budget (ALGO/Unit)",type:"number",placeholder:"2000",value:n.budgetMax,onChange:S,required:!0}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"paymentASA",className:"block text-sm font-medium text-gray-700",children:"Payment Currency"}),d.jsxs("select",{id:"paymentASA",name:"paymentASA",value:n.paymentASA,onChange:S,className:"mt-1 block w-full pl-3 pr-10 py-3 text-base border-gray-300 focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm rounded-lg shadow-sm",children:[d.jsx("option",{value:"ALGO",children:"ALGO"}),d.jsx("option",{value:"USDC",children:"USDC (ASA)"}),d.jsx("option",{value:"OTHER",children:"Other ASA"})]})]})]}),d.jsx(Hg,{icon:Dy,title:"Application Requirements"}),d.jsx(el,{id:"proposalLink",name:"proposalLink",label:"External Proposal Link (e.g., Google Form, Typeform)",placeholder:"https://docs.google.com/forms/d/...",value:n.proposalLink,onChange:S,required:!0}),d.jsxs("div",{className:"flex items-start",children:[d.jsx("div",{className:"flex items-center h-5 mt-1",children:d.jsx("input",{id:"requiresFileUpload",name:"requiresFileUpload",type:"checkbox",checked:n.requiresFileUpload,onChange:S,className:"focus:ring-teal-500 h-4 w-4 text-teal-600 border-gray-300 rounded"})}),d.jsxs("div",{className:"ml-3 text-sm",children:[d.jsx("label",{htmlFor:"requiresFileUpload",className:"font-medium text-gray-700",children:"Require direct file upload (CV/Proposal Document)"}),d.jsx("p",{className:"text-gray-500",children:"Checking this allows candidates to attach a document directly to their proposal on our platform."})]})]}),d.jsx("div",{className:"pt-4",children:d.jsx("button",{type:"submit",disabled:l,className:`w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-full shadow-lg \r
                                text-white bg-teal-600 hover:bg-teal-700 \r
                                transition-colors duration-200 ease-in-out disabled:opacity-50`,children:l?d.jsxs("div",{className:"flex items-center",children:[d.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Posting Job..."]}):d.jsxs(d.Fragment,{children:["Post Job & Secure Funds",d.jsx(CE,{className:"w-5 h-5 ml-2"})]})})})]})]})})},KV=({id:n,label:e,file:t,previewUrl:r,onChange:s})=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 mb-2",children:e}),d.jsxs("div",{className:"mt-1 flex items-center space-x-4",children:[d.jsx("div",{className:"flex-shrink-0 h-16 w-16 rounded-full overflow-hidden bg-gray-100 border border-gray-300 flex items-center justify-center",children:r?d.jsx("img",{src:r,alt:"Company Logo Preview",className:"h-full w-full object-cover"}):d.jsx(DE,{className:"h-8 w-8 text-gray-400"})}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"file",id:n,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:s,accept:"image/*"}),d.jsxs("button",{type:"button",onClick:()=>document.getElementById(n).click(),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors",children:[d.jsx(Nj,{className:"w-5 h-5 mr-2"}),t?"Change Logo":"Upload Logo"]}),t&&d.jsx("span",{className:"ml-3 text-sm text-gray-500 truncate max-w-xs block",children:t.name})]})]}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"JPG or PNG, max 1MB. Will be used for your profile."})]}),Hg=({icon:n,title:e})=>d.jsxs("div",{className:"flex items-center space-x-3 pt-4 pb-2 border-t border-gray-200 mt-6",children:[d.jsx(n,{className:"w-6 h-6 text-teal-600"}),d.jsx("h2",{className:"text-xl font-bold text-gray-800",children:e})]}),el=({id:n,label:e,type:t="text",...r})=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700",children:e}),d.jsx("input",{id:n,type:t,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500",...r})]}),Sk=({id:n,label:e,rows:t,...r})=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700",children:e}),d.jsx("textarea",{id:n,rows:t,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500 resize-none",...r})]});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="firebasestorage.googleapis.com",_I="storageBucket",WV=120*1e3,YV=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends ga{constructor(e,t,r=0){super(wx(e),`Firebase Storage: ${t} (${wx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_r.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var br;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(br||(br={}));function wx(n){return"storage/"+n}function VE(){const n="An unknown error occurred, please check the error payload for server response.";return new _r(br.UNKNOWN,n)}function JV(n){return new _r(br.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function QV(n){return new _r(br.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XV(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _r(br.UNAUTHENTICATED,n)}function ZV(){return new _r(br.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function eB(n){return new _r(br.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function tB(){return new _r(br.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nB(){return new _r(br.CANCELED,"User canceled the upload/download.")}function rB(n){return new _r(br.INVALID_URL,"Invalid URL '"+n+"'.")}function iB(n){return new _r(br.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function sB(){return new _r(br.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_I+"' property when initializing the app?")}function aB(){return new _r(br.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function oB(){return new _r(br.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function cB(n){return new _r(br.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function A1(n){return new _r(br.INVALID_ARGUMENT,n)}function AI(){return new _r(br.APP_DELETED,"The Firebase app was deleted.")}function lB(n){return new _r(br.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rm(n,e){return new _r(br.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Ff(n){throw new _r(br.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=$i.makeFromUrl(e,t)}catch{return new $i(e,"")}if(r.path==="")return r;throw iB(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(he){he.path.charAt(he.path.length-1)==="/"&&(he.path_=he.path_.slice(0,-1))}const l="(/(.*))?$",h=new RegExp("^gs://"+s+l,"i"),p={bucket:1,path:3};function f(he){he.path_=decodeURIComponent(he.path)}const v="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",R=new RegExp(`^https?://${S}/${v}/b/${s}/o${C}`,"i"),B={bucket:1,path:3},re=t===bI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",U=new RegExp(`^https?://${re}/${s}/${N}`,"i"),G=[{regex:h,indices:p,postModify:o},{regex:R,indices:B,postModify:f},{regex:U,indices:{bucket:1,path:2},postModify:f}];for(let he=0;he<G.length;he++){const pe=G[he],K=pe.regex.exec(e);if(K){const P=K[pe.indices.bucket];let M=K[pe.indices.path];M||(M=""),r=new $i(P,M),pe.postModify(r);break}}if(r==null)throw rB(e);return r}}class uB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hB(n,e,t){let r=1,s=null,o=null,l=!1,h=0;function p(){return h===2}let f=!1;function v(...N){f||(f=!0,e.apply(null,N))}function S(N){s=setTimeout(()=>{s=null,n(R,p())},N)}function C(){o&&clearTimeout(o)}function R(N,...U){if(f){C();return}if(N){C(),v.call(null,N,...U);return}if(p()||l){C(),v.call(null,N,...U);return}r<64&&(r*=2);let G;h===1?(h=2,G=0):G=(r+Math.random())*1e3,S(G)}let B=!1;function re(N){B||(B=!0,C(),!f&&(s!==null?(N||(h=2),clearTimeout(s),S(0)):N||(h=1)))}return S(0),o=setTimeout(()=>{l=!0,re(!0)},t),re}function dB(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(n){return n!==void 0}function mB(n){return typeof n=="object"&&!Array.isArray(n)}function BE(n){return typeof n=="string"||n instanceof String}function Ek(n){return UE()&&n instanceof Blob}function UE(){return typeof Blob<"u"}function bk(n,e,t,r){if(r<e)throw A1(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw A1(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function TI(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var fl;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(fl||(fl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pB(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e,t,r,s,o,l,h,p,f,v,S,C=!0,R=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=p,this.timeout_=f,this.progressCallback_=v,this.connectionFactory_=S,this.retry=C,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,re)=>{this.resolve_=B,this.reject_=re,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Gg(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=h=>{const p=h.loaded,f=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const h=o.getErrorCode()===fl.NO_ERROR,p=o.getStatus();if(!h||pB(p,this.additionalRetryCodes_)&&this.retry){const v=o.getErrorCode()===fl.ABORT;r(!1,new Gg(!1,null,v));return}const f=this.successCodes_.indexOf(p)!==-1;r(!0,new Gg(f,o))})},t=(r,s)=>{const o=this.resolve_,l=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());fB(p)?o(p):o()}catch(p){l(p)}else if(h!==null){const p=VE();p.serverResponse=h.getErrorText(),this.errorCallback_?l(this.errorCallback_(h,p)):l(p)}else if(s.canceled){const p=this.appDelete_?AI():nB();l(p)}else{const p=tB();l(p)}};this.canceled_?t(!1,new Gg(!1,null,!0)):this.backoffId_=hB(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gg{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function yB(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function wB(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vB(n,e){e&&(n["X-Firebase-GMPID"]=e)}function xB(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function SB(n,e,t,r,s,o,l=!0,h=!1){const p=TI(n.urlParams),f=n.url+p,v=Object.assign({},n.headers);return vB(v,e),yB(v,t),wB(v,o),xB(v,r),new gB(f,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,l,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bB(...n){const e=EB();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(UE())return new Blob(n);throw new _r(br.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _B(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AB(n){if(typeof atob>"u")throw cB("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class vx{constructor(e,t){this.data=e,this.contentType=t||null}}function TB(n,e){switch(n){case Ys.RAW:return new vx(kI(e));case Ys.BASE64:case Ys.BASE64URL:return new vx(II(n,e));case Ys.DATA_URL:return new vx(IB(e),CB(e))}throw VE()}function kI(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=n.charCodeAt(++t);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function kB(n){let e;try{e=decodeURIComponent(n)}catch{throw rm(Ys.DATA_URL,"Malformed data URL.")}return kI(e)}function II(n,e){switch(n){case Ys.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw rm(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ys.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw rm(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=AB(e)}catch(s){throw s.message.includes("polyfill")?s:rm(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class CI{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw rm(Ys.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=RB(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function IB(n){const e=new CI(n);return e.base64?II(Ys.BASE64,e.rest):kB(e.rest)}function CB(n){return new CI(n).contentType}function RB(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,t){let r=0,s="";Ek(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(Ek(this.data_)){const r=this.data_,s=_B(r,e,t);return s===null?null:new qo(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new qo(r,!0)}}static getBlob(...e){if(UE()){const t=e.map(r=>r instanceof qo?r.data_:r);return new qo(bB.apply(null,t))}else{const t=e.map(l=>BE(l)?TB(Ys.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let o=0;return t.forEach(l=>{for(let h=0;h<l.length;h++)s[o++]=l[h]}),new qo(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(n){let e;try{e=JSON.parse(n)}catch{return null}return mB(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function DB(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function NI(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(n,e){return e}class Si{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||MB}}let Kg=null;function FB(n){return!BE(n)||n.length<2?n:NI(n)}function DI(){if(Kg)return Kg;const n=[];n.push(new Si("bucket")),n.push(new Si("generation")),n.push(new Si("metageneration")),n.push(new Si("name","fullPath",!0));function e(o,l){return FB(l)}const t=new Si("name");t.xform=e,n.push(t);function r(o,l){return l!==void 0?Number(l):l}const s=new Si("size");return s.xform=r,n.push(s),n.push(new Si("timeCreated")),n.push(new Si("updated")),n.push(new Si("md5Hash",null,!0)),n.push(new Si("cacheControl",null,!0)),n.push(new Si("contentDisposition",null,!0)),n.push(new Si("contentEncoding",null,!0)),n.push(new Si("contentLanguage",null,!0)),n.push(new Si("contentType",null,!0)),n.push(new Si("metadata","customMetadata",!0)),Kg=n,Kg}function OB(n,e){function t(){const r=n.bucket,s=n.fullPath,o=new $i(r,s);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function PB(n,e,t){const r={};r.type="file";const s=t.length;for(let o=0;o<s;o++){const l=t[o];r[l.local]=l.xform(r,e[l.server])}return OB(r,n),r}function MI(n,e,t){const r=RI(e);return r===null?null:PB(n,r,t)}function jB(n,e,t,r){const s=RI(e);if(s===null||!BE(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const v=n.bucket,S=n.fullPath,C="/b/"+l(v)+"/o/"+l(S),R=LE(C,t,r),B=TI({alt:"media",token:f});return R+B})[0]}function VB(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class FI{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(n){if(!n)throw VE()}function BB(n,e){function t(r,s){const o=MI(n,s,e);return OI(o!==null),o}return t}function UB(n,e){function t(r,s){const o=MI(n,s,e);return OI(o!==null),jB(o,s,n.host,n._protocol)}return t}function PI(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=ZV():s=XV():t.getStatus()===402?s=QV(n.bucket):t.getStatus()===403?s=eB(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function LB(n){const e=PI(n);function t(r,s){let o=e(r,s);return r.getStatus()===404&&(o=JV(n.path)),o.serverResponse=s.serverResponse,o}return t}function zB(n,e,t){const r=e.fullServerUrl(),s=LE(r,n.host,n._protocol),o="GET",l=n.maxOperationRetryTime,h=new FI(s,o,UB(n,t),l);return h.errorHandler=LB(e),h}function qB(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function $B(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=qB(null,e)),r}function HB(n,e,t,r,s){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function h(){let G="";for(let he=0;he<2;he++)G=G+Math.random().toString().slice(2);return G}const p=h();l["Content-Type"]="multipart/related; boundary="+p;const f=$B(e,r,s),v=VB(f,t),S="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+f.contentType+`\r
\r
`,C=`\r
--`+p+"--",R=qo.getBlob(S,r,C);if(R===null)throw aB();const B={name:f.fullPath},re=LE(o,n.host,n._protocol),N="POST",U=n.maxUploadRetryTime,q=new FI(re,N,BB(n,t),U);return q.urlParams=B,q.headers=l,q.body=R.uploadData(),q.errorHandler=PI(e),q}class GB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s,o){if(this.sent_)throw Ff("cannot .send() more than once");if(Ic(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ff("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ff("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ff("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ff("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class KB extends GB{initXhr(){this.xhr_.responseType="text"}}function jI(){return new KB}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,t){this._service=e,t instanceof $i?this._location=t:this._location=$i.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new _l(e,t)}get root(){const e=new $i(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return NI(this._location.path)}get storage(){return this._service}get parent(){const e=NB(this._location.path);if(e===null)return null;const t=new $i(this._location.bucket,e);return new _l(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw lB(e)}}function WB(n,e,t){n._throwIfRoot("uploadBytes");const r=HB(n.storage,n._location,DI(),new qo(e,!0),t);return n.storage.makeRequestWithTokens(r,jI).then(s=>({metadata:s,ref:n}))}function YB(n){n._throwIfRoot("getDownloadURL");const e=zB(n.storage,n._location,DI());return n.storage.makeRequestWithTokens(e,jI).then(t=>{if(t===null)throw oB();return t})}function JB(n,e){const t=DB(n._location.path,e),r=new $i(n._location.bucket,t);return new _l(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(n){return/^[A-Za-z]+:\/\//.test(n)}function XB(n,e){return new _l(n,e)}function VI(n,e){if(n instanceof zE){const t=n;if(t._bucket==null)throw sB();const r=new _l(t,t._bucket);return e!=null?VI(r,e):r}else return e!==void 0?JB(n,e):n}function ZB(n,e){if(e&&QB(e)){if(n instanceof zE)return XB(n,e);throw A1("To use ref(service, url), the first argument must be a Storage instance.")}else return VI(n,e)}function _k(n,e){const t=e?.[_I];return t==null?null:$i.makeFromBucketSpec(t,n)}function e9(n,e,t,r={}){n.host=`${e}:${t}`;const s=Ic(e);s&&(VS(`https://${n.host}/b`),BS("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:I4(o,n.app.options.projectId))}class zE{constructor(e,t,r,s,o,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=bI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WV,this._maxUploadRetryTime=YV,this._requests=new Set,s!=null?this._bucket=$i.makeFromBucketSpec(s,this._host):this._bucket=_k(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$i.makeFromBucketSpec(this._url,e):this._bucket=_k(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(ss(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _l(this,e)}_makeRequest(e,t,r,s,o=!0){if(this._deleted)return new uB(AI());{const l=SB(e,this._appId,r,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const Ak="@firebase/storage",Tk="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="storage";function t9(n,e,t){return n=Mr(n),WB(n,e,t)}function UI(n){return n=Mr(n),YB(n)}function LI(n,e){return n=Mr(n),ZB(n,e)}function zI(n=zS(),e){n=Mr(n);const r=uy(n,BI).getImmediate({identifier:e}),s=A4("storage");return s&&n9(r,...s),r}function n9(n,e,t,r={}){e9(n,e,t,r)}function r9(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new zE(t,r,s,e,uu)}function i9(){vl(new sc(BI,r9,"PUBLIC").setMultipleInstances(!0)),Xs(Ak,Tk,""),Xs(Ak,Tk,"esm2020")}i9();const s9=zI(wi.app),a9=["All Categories","Web Development","Blockchain/DeFi","Financial & Trading","UX/UI Design","Data Science & AI","Admin & Verification","Digital Marketing","System Architecture","Community Management"],o9=({job:n})=>{let e="text-gray-600",t="bg-gray-100";switch(n.type){case"Fixed Project":e="text-red-700",t="bg-red-100";break;case"Hourly Contract":e="text-blue-700",t="bg-blue-100";break;case"Retainer":e="text-green-700",t="bg-green-100";break;default:e="text-purple-700",t="bg-purple-100"}return d.jsxs(As,{to:`/job/${n.id}`,className:"block bg-white rounded-xl shadow-md border border-gray-100 p-5 transition-all duration-200 hover:shadow-xl relative group",children:[n.isFeatured&&d.jsx("span",{className:"absolute top-0 right-0 px-3 py-1 bg-teal-500 text-white text-xs font-semibold rounded-bl-lg rounded-tr-xl",children:"Featured"}),d.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[d.jsx("img",{src:n.logoUrl,alt:`${n.company} logo`,className:"w-10 h-10 object-contain rounded-full border p-1 flex-shrink-0",onError:r=>{r.target.onerror=null,r.target.src="https://placehold.co/40x40/CCCCCC/000000?text=L"}}),d.jsxs("div",{className:"flex-grow",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-teal-600 transition-colors",children:n.title}),d.jsx("p",{className:"text-sm text-gray-500",children:n.company})]})]}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex items-center text-gray-700",children:[d.jsx(to,{className:"w-4 h-4 mr-2 text-teal-500"}),d.jsx("span",{className:"font-semibold",children:n.rate})]}),d.jsxs("div",{className:"flex items-center text-gray-700",children:[d.jsx(FE,{className:"w-4 h-4 mr-2 text-gray-500"}),d.jsx("span",{children:n.location})]})]}),d.jsx("div",{className:"mt-4",children:d.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${t} ${e} flex items-center w-fit`,children:[d.jsx(Cs,{className:"w-3 h-3 mr-1"}),n.type]})})]})},c9=()=>{const n=lo(),t=new URLSearchParams(n.search).get("category")||"All Categories",[r,s]=Ee.useState([]),[o,l]=Ee.useState(!0),[h,p]=Ee.useState(null),[f,v]=Ee.useState(""),[S,C]=Ee.useState(t),[R,B]=Ee.useState("Date (Newest)");Ee.useEffect(()=>{(async()=>{l(!0),p(null);try{const q=Fi(wi,"jobs"),G=gh(q,TE("jobPostedAt","desc")),pe=(await yh(G)).docs.map(async P=>{const M=P.data(),H=M.clientId;let A="Company Name Not Provided",y=M.companyLogo,x="https://placehold.co/40x40/CCCCCC/000000?text=L";if(H){const E=ph(wi,"clients",H),$=await P0(E);if($.exists()){const ee=$.data();A=ee.companyName||"Unknown Client",ee.companyLogo&&(y=ee.companyLogo)}}if(y)try{const E=LI(s9,y);x=await UI(E)}catch(E){console.warn(`Could not get download URL for path: ${y}`,E)}return{id:P.id,title:M.jobTitle||"Untitled Job",company:A,rate:`${M.budgetMin||0}-${M.budgetMax||0} ${M.paymentASA||"ALGO"}`,location:M.companyLocation||"Remote",type:M.employmentType||"Fixed Project",category:M.category||"Uncategorized",isFeatured:M.isFeatured||!1,logoUrl:x,createdAt:M.jobPostedAt?.toDate?.()||new Date,...M}}),K=await Promise.all(pe);s(K)}catch(q){console.error("Error fetching jobs and client data from Firestore:",q),p(`Failed to load jobs: ${q.message||"Check your Firestore configuration and security rules."}`)}finally{l(!1)}})()},[]),Ee.useEffect(()=>{t!==S&&C(t)},[t]);const re=Ee.useMemo(()=>r.filter(U=>{if(U.type==="Consultation"||U.type==="Project Catalogue")return!1;const q=String(U.rate||"").toLowerCase(),G=U.title.toLowerCase().includes(f.toLowerCase())||U.company.toLowerCase().includes(f.toLowerCase())||U.location.toLowerCase().includes(f.toLowerCase())||q.includes(f.toLowerCase()),he=S==="All Categories"||U.category&&U.category.trim().toLowerCase()===S.trim().toLowerCase();return G&&he}).sort((U,q)=>{if(R==="Date (Newest)"){const G=new Date(U.createdAt).getTime()||0;return(new Date(q.createdAt).getTime()||0)-G}if(R==="Featured")return(q.isFeatured?1:0)-(U.isFeatured?1:0);if(R==="Rate (High)"){const G=K=>parseFloat(K?.match(/\d+/))||0,he=G(U.rate);return G(q.rate)-he}return 0}),[r,f,S,R]),N=()=>o?d.jsxs("div",{className:"py-20 text-center col-span-full",children:[d.jsx(ia,{className:"w-8 h-8 text-teal-500 animate-spin mx-auto mb-3"}),d.jsx("p",{className:"text-gray-600",children:"Loading decentralized gigs..."})]}):h?d.jsxs("div",{className:"py-10 text-center col-span-full p-4 bg-red-50 border border-red-300 rounded-lg",children:[d.jsx(PE,{className:"w-6 h-6 text-red-500 mx-auto mb-2"}),d.jsxs("p",{className:"text-red-700 font-medium",children:["Error Fetching Data: ",h]})]}):re.length===0?d.jsx("p",{className:"text-gray-500 col-span-full py-10 text-center",children:"No jobs found matching your criteria. Try adjusting your filters or search term."}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:re.map(U=>d.jsx(o9,{job:U},U.id))});return d.jsx("div",{className:"min-h-screen bg-white",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[d.jsxs("div",{className:"mb-10 text-center",children:[d.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-2",children:"Decentralized Freelancing Gigs"}),d.jsx("p",{className:"text-lg text-gray-500 mb-6",children:"Find your next crypto-paid contract in the Indian Web3 ecosystem."}),d.jsxs("div",{className:"max-w-3xl mx-auto relative",children:[d.jsx(OE,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"}),d.jsx("input",{type:"text",placeholder:"Search for gig title, company, or location in India...",className:"w-full py-4 pl-12 pr-4 border border-gray-300 rounded-full shadow-lg focus:ring-teal-500 focus:border-teal-500 text-base",value:f,onChange:U=>v(U.target.value)})]})]}),d.jsxs("div",{className:"w-full",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 border-b pb-3",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-700 mb-3 sm:mb-0",children:["Showing ",re.length," Gigs Available"]}),d.jsxs("div",{className:"flex space-x-4 items-center",children:[d.jsxs("div",{className:"relative flex items-center",children:[d.jsx(Lj,{className:"w-4 h-4 text-gray-500 mr-2"}),d.jsx("select",{className:"appearance-none py-2 pl-3 pr-10 border border-gray-300 rounded-lg text-sm bg-white cursor-pointer focus:ring-2 focus:ring-teal-500 focus:border-teal-500",value:S,onChange:U=>C(U.target.value),children:a9.map(U=>d.jsx("option",{value:U,children:U},U))}),d.jsx(eo,{className:"w-4 h-4 text-gray-500 absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none"})]}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{className:"appearance-none py-2 px-4 pr-10 border border-gray-300 rounded-lg text-sm bg-white cursor-pointer focus:ring-2 focus:ring-teal-500 focus:border-teal-500",value:R,onChange:U=>B(U.target.value),children:[d.jsx("option",{value:"Date (Newest)",children:"Sort by Date (Newest)"}),d.jsx("option",{value:"Featured",children:"Sort by Featured"}),d.jsx("option",{value:"Rate (High)",children:"Sort by Rate (High)"})]}),d.jsx(eo,{className:"w-4 h-4 text-gray-500 absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none"})]})]})]}),N()]})]})})},l9={apiKey:"AIzaSyBc7x8gddDmeCztU8S0TStIbj3VUg5I6Gk",authDomain:"algoescrow.firebaseapp.com",projectId:"algoescrow",storageBucket:"algoescrow.firebasestorage.app",messagingSenderId:"112755487139",appId:"1:112755487139:web:17ffd1a212ffcbe95dea16",measurementId:"G-XSXPX5Z2CN"},qI=hy(l9),u9=yE(qI),h9=zI(qI),$I=Fi(u9,"projects"),kk=[{id:1,title:"Decentralized Voting DApp UI Kit",author:"PixelForge Studios",description:"Figma design files and React components for a complete DAO voting application interface.",price:"500 ALGO",assetType:"UI/UX",logoUrl:"https://www.vectorlogo.zone/logos/figma/figma-icon.svg",tags:["Figma","React","Design","DAO"],rating:4.9,demoLink:"https://tailwindui.com/components",qrCodeUrl:"https://placehold.co/150x150/228B22/FFFFFF?text=QR1"},{id:2,title:"PyTeal Escrow Template",author:"SmartContract Ninja",description:"Ready-to-deploy PyTeal/Beaker template for a simple fixed-price escrow contract.",price:"1200 ALGO",assetType:"Smart Contract",logoUrl:"https://www.vectorlogo.zone/logos/python/python-icon.svg",tags:["PyTeal","Beaker","Security","Algorand"],rating:4.7,demoLink:"https://algorand.com",qrCodeUrl:"https://placehold.co/150x150/228B22/FFFFFF?text=QR2"},{id:6,title:"Light/Dark Mode Theme Pack",author:"Aesthetic Assets",description:"Complete CSS/Tailwind theme variables for toggling dark mode support.",price:"80 ALGO",assetType:"UI/UX",logoUrl:"https://www.vectorlogo.zone/logos/tailwindcss/tailwindcss-icon.svg",tags:["CSS","Design","Theme"],rating:4.6,demoLink:"https://tailwind.com/theme/preview",qrCodeUrl:"https://placehold.co/150x150/228B22/FFFFFF?text=QR6"}],d9=["All Categories","UI/UX","Smart Contract","Full Codebase","Code Component"],f9=["UI/UX","Smart Contract","Full Codebase","Code Component"],m9=({project:n})=>{const e=MS(),t=()=>{e(`/project/${n.id}/purchase`,{state:{project:n}})};return d.jsxs("div",{className:"block bg-white rounded-xl shadow-xl p-4 md:p-6 transition-all duration-300 hover:shadow-2xl hover:border-teal-400 border border-transparent flex items-center justify-between group min-h-[140px]",children:[d.jsxs("div",{className:"flex items-center flex-grow min-w-0 pr-4",children:[d.jsx("img",{src:n.logoUrl,alt:`${n.author} logo`,className:"w-12 h-12 object-contain rounded-lg border p-1 mr-4 flex-shrink-0",onError:r=>{r.target.onerror=null,r.target.src="https://placehold.co/48x48/CCCCCC/000000?text=P"}}),d.jsxs("div",{className:"flex-grow min-w-0",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsxs("div",{className:"flex-grow min-w-0 pr-4",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 truncate group-hover:text-teal-600 transition-colors",children:n.title}),d.jsxs("p",{className:"text-sm text-gray-500",children:["By ",n.author]})]}),d.jsxs("div",{className:"hidden sm:flex items-center text-yellow-500 text-base font-semibold ml-4 flex-shrink-0",children:[d.jsx(gm,{className:"w-5 h-5 mr-1",fill:"currentColor"}),d.jsx("span",{children:n.rating?n.rating.toFixed(1):"N/A"})]})]}),d.jsx("p",{className:"text-sm text-gray-700 line-clamp-1 mt-1",children:n.description})]})]}),d.jsxs("div",{className:"flex items-center space-x-4 flex-shrink-0 ml-4",children:[d.jsxs("div",{className:"hidden lg:block text-xs text-gray-600 text-right",children:[d.jsx("p",{className:"text-gray-500 mb-1",children:"Type:"}),d.jsxs("span",{className:"flex items-center bg-gray-100 px-2 py-1 rounded-full font-medium",children:[d.jsx(NE,{className:"w-3 h-3 mr-1"}),n.assetType]})]}),d.jsx("span",{className:"text-xl font-extrabold text-teal-600 flex-shrink-0 mr-2",children:n.price}),d.jsxs("button",{onClick:t,className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-full shadow-md\r
                        text-white bg-teal-600 hover:bg-teal-700 transition-colors flex-shrink-0`,children:[d.jsx(lV,{className:"w-4 h-4 mr-2"})," Buy Now"]}),d.jsxs("a",{href:n.demoLink,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center px-4 py-2 border border-teal-600 text-sm font-medium rounded-full shadow-md\r
                        text-teal-600 bg-white hover:bg-teal-50 transition-colors flex-shrink-0`,children:[d.jsx(Vj,{className:"w-4 h-4 mr-2"})," View Demo"]})]})]})},Ik=async(n,e)=>{if(!n)return null;const t=`${Date.now()}_${n.name}`,r=LI(h9,`${e}/${t}`),s=await t9(r,n);return await UI(s.ref)},p9=({onClose:n})=>{const[e,t]=Ee.useState({title:"",description:"",price:"",assetType:"",tags:"",projectUrl:"",logoFile:null,qrCodeImage:null}),[r,s]=Ee.useState(!1),[o,l]=Ee.useState(null),h=S=>{const{name:C,value:R}=S.target;t(B=>({...B,[C]:R}))},p=(S,C)=>{t(R=>({...R,[C]:S.target.files[0]}))},f=async S=>{S.preventDefault(),l(null),s(!0);try{if(!e.qrCodeImage||!e.assetType||!e.price||!e.title||!e.description)throw new Error("Missing required fields (Title, Description, Price, Type, or QR Code).");if(!e.projectUrl)throw new Error("Missing required field: Project/Demo URL.");const C=await Ik(e.qrCodeImage,"qr_codes"),R=e.logoFile,re=(R?await Ik(R,"project_logos"):null)||"https://placehold.co/48x48/CCCCCC/000000?text=NEW",N={title:e.title,description:e.description,price:`${e.price} ALGO`,assetType:e.assetType,tags:e.tags.split(",").map(U=>U.trim()).filter(U=>U.length>0),demoLink:e.projectUrl,logoUrl:re,qrCodeUrl:C,author:"New Community Post",rating:5,createdAt:new Date};await dc($I,N),console.log("Project Data Sent to Firestore with Storage URLs:",N),alert(`Project "${e.title}" submitted successfully! Real-time list update pending.`),n()}catch(C){console.error("Error adding document or uploading file: ",C),l(`Failed to post project. Reason: ${C.message||"Check console for details."}`)}finally{s(!1)}},v=({label:S,fieldName:C,file:R,setFile:B})=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:C,className:"block text-sm font-medium text-gray-700 flex items-center",children:S}),d.jsxs("div",{className:"mt-1 flex items-center space-x-2",children:[d.jsxs("label",{className:"flex-grow inline-flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:[d.jsx("input",{type:"file",name:C,id:C,accept:".png,.jpg,.jpeg",onChange:re=>B(re,C),className:"sr-only"}),R?d.jsx("span",{className:"truncate",children:R.name}):d.jsx("span",{children:"Choose file"})]}),R&&d.jsx("button",{type:"button",onClick:()=>t(re=>({...re,[C]:null})),className:"text-red-500 hover:text-red-700 p-2",title:"Remove file",children:d.jsx(bl,{className:"w-5 h-5"})})]})]});return d.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-gray-900 bg-opacity-75 transition-opacity duration-300 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl transform transition-all duration-300 scale-100 opacity-100 max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"p-6 border-b flex justify-between items-center sticky top-0 bg-white rounded-t-xl",children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[d.jsx(Dy,{className:"w-6 h-6 mr-3 text-teal-600"}),"Post a New Project"]}),d.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100",children:d.jsx(bl,{className:"w-6 h-6"})})]}),d.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[o&&d.jsx("div",{className:"p-3 text-sm text-red-800 bg-red-100 border border-red-400 rounded-lg",children:o}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Project Title"}),d.jsx("input",{type:"text",name:"title",id:"title",required:!0,value:e.title,onChange:h,placeholder:"e.g., PyTeal Automated Vesting Contract",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-teal-500 focus:border-teal-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),d.jsx("textarea",{name:"description",id:"description",rows:"3",required:!0,value:e.description,onChange:h,placeholder:"A brief, compelling summary of your project and what it includes.",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-teal-500 focus:border-teal-500"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Price (in ALGO)"}),d.jsx("input",{type:"number",name:"price",id:"price",required:!0,min:"0.01",step:"any",value:e.price,onChange:h,placeholder:"e.g., 500",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-teal-500 focus:border-teal-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"assetType",className:"block text-sm font-medium text-gray-700",children:"Type"}),d.jsxs("select",{name:"assetType",id:"assetType",required:!0,value:e.assetType,onChange:h,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-teal-500 focus:border-teal-500 appearance-none bg-white pr-10",children:[d.jsx("option",{value:"",disabled:!0,children:"Select Type"}),f9.map(S=>d.jsx("option",{value:S,children:S},S))]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700",children:"Tags (Comma Separated)"}),d.jsx("input",{type:"text",name:"tags",id:"tags",value:e.tags,onChange:h,placeholder:"e.g., React, Tailwind, Frontend",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-teal-500 focus:border-teal-500"})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"projectUrl",className:"block text-sm font-medium text-gray-700 flex items-center",children:[d.jsx(mI,{className:"w-4 h-4 mr-1"})," Project/Demo URL (Required)"]}),d.jsx("input",{type:"url",name:"projectUrl",id:"projectUrl",required:!0,value:e.projectUrl,onChange:h,placeholder:"https://live-demo.com/my-project",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-3 focus:ring-teal-500 focus:border-teal-500"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:[d.jsx(v,{label:d.jsxs(d.Fragment,{children:[d.jsx(iV,{className:"w-4 h-4 mr-1"})," ALGO Receive QR Code (Required)"]}),fieldName:"qrCodeImage",file:e.qrCodeImage,setFile:p}),d.jsx(v,{label:d.jsxs(d.Fragment,{children:[d.jsx(DE,{className:"w-4 h-4 mr-1"})," Project Logo (Optional)"]}),fieldName:"logoFile",file:e.logoFile,setFile:p})]}),d.jsx("div",{className:"pt-4",children:d.jsx("button",{type:"submit",disabled:r,className:`w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-full shadow-lg text-lg font-medium text-white transition-colors ${r?"bg-teal-400 cursor-not-allowed":"bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500"}`,children:r?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"animate-spin mr-2",children:""})," Submitting..."]}):d.jsxs(d.Fragment,{children:[d.jsx(My,{className:"w-5 h-5 mr-2"}),"Submit Project for Review"]})})})]})]})})},g9=()=>{const[n,e]=Ee.useState(kk),[t,r]=Ee.useState(!0),[s,o]=Ee.useState(""),[l,h]=Ee.useState("All Categories"),[p,f]=Ee.useState("Highest Rated"),[v,S]=Ee.useState(!1);Ee.useEffect(()=>{const R=gh($I,TE("createdAt","desc")),B=uj(R,re=>{const N=re.docs.map(q=>{const G=q.data();return{id:q.id,title:G.title||"Untitled Project",author:G.author||"Community Post",description:G.description||"No description provided.",price:G.price||"N/A",assetType:G.assetType||"Full Codebase",logoUrl:G.logoUrl||"https://placehold.co/48x48/CCCCCC/000000?text=P",tags:G.tags||[],rating:G.rating||0,demoLink:G.demoLink||"#",qrCodeUrl:G.qrCodeUrl||"https://placehold.co/150x150/FF0000/FFFFFF?text=MISSING_QR"}}),U=[...kk.filter(q=>!N.some(G=>G.id===q.id.toString())),...N];e(U),r(!1)},re=>{console.error("Error subscribing to projects: ",re),r(!1)});return()=>B()},[]);const C=n.filter(R=>{const B=s.toLowerCase(),re=R.title&&R.title.toLowerCase().includes(B)||R.author&&R.author.toLowerCase().includes(B)||R.description&&R.description.toLowerCase().includes(B)||R.tags&&R.tags.some(U=>U.toLowerCase().includes(B)),N=l==="All Categories"||R.assetType===l;return re&&N}).sort((R,B)=>{if(p==="Highest Rated")return(B.rating||0)-(R.rating||0);const re=q=>parseFloat(q.split(" ")[0])||0,N=re(R.price),U=re(B.price);return p==="Price (Low)"?N-U:p==="Price (High)"?U-N:0});return d.jsxs("div",{className:"min-h-screen bg-gray-50 py-10 sm:py-16",children:[d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"mb-10 relative",children:[d.jsx("div",{className:"absolute right-0 top-0",children:d.jsxs("button",{onClick:()=>S(!0),className:`inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-full shadow-md\r
                                text-white bg-teal-600 hover:bg-teal-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500`,children:[d.jsx(Dy,{className:"w-5 h-5 mr-2"}),"Post Project"]})}),d.jsxs("div",{className:"text-center pt-16 sm:pt-0",children:[d.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-2",children:"Buy Pre-Built Projects"}),d.jsx("p",{className:"text-lg text-gray-500 mb-6",children:"Instantly purchase fixed-scope Smart Contracts, UI Kits, and Code Components using secured escrow."}),d.jsxs("div",{className:"max-w-3xl mx-auto relative",children:[d.jsx(OE,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"}),d.jsx("input",{type:"text",placeholder:"Search codebases, UI kits, smart contracts...",className:"w-full py-4 pl-12 pr-4 border border-gray-300 rounded-full shadow-lg focus:ring-teal-500 focus:border-teal-500 text-base",value:s,onChange:R=>o(R.target.value)})]})]})]}),d.jsxs("div",{className:"w-full",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 border-b pb-3",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-700 mb-3 sm:mb-0",children:["Showing ",C.length," Projects Available"]}),d.jsxs("div",{className:"flex space-x-4 items-center",children:[d.jsxs("div",{className:"relative flex items-center",children:[d.jsx(NE,{className:"w-4 h-4 text-gray-500 mr-2"}),d.jsx("select",{className:"appearance-none py-2 pl-3 pr-10 border border-gray-300 rounded-lg text-sm bg-white cursor-pointer",value:l,onChange:R=>h(R.target.value),children:d9.map(R=>d.jsx("option",{value:R,children:R},R))}),d.jsx(eo,{className:"w-4 h-4 text-gray-500 absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none"})]}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{className:"appearance-none py-2 px-4 pr-10 border border-gray-300 rounded-lg text-sm bg-white cursor-pointer",value:p,onChange:R=>f(R.target.value),children:[d.jsx("option",{value:"Highest Rated",children:"Sort by Rating (High)"}),d.jsx("option",{value:"Price (Low)",children:"Sort by Price (Low)"}),d.jsx("option",{value:"Price (High)",children:"Sort by Price (High)"}),d.jsx("option",{value:"Date (Newest)",children:"Sort by Date (Newest)"})]}),d.jsx(eo,{className:"w-4 h-4 text-gray-500 absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none"})]})]})]}),t&&d.jsxs("p",{className:"text-center text-teal-600 py-10 flex items-center justify-center",children:[d.jsx("span",{className:"animate-spin mr-3",children:""}),"Loading projects..."]}),!t&&d.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[C.map(R=>d.jsx(m9,{project:R},R.id)),C.length===0&&d.jsx("p",{className:"text-gray-500 col-span-full py-10 text-center",children:"No projects found matching your criteria."})]})]})]}),v&&d.jsx(p9,{onClose:()=>S(!1)})]})};function HI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const y9=HI,GI=new cp("auth","Firebase",HI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=new US("@firebase/auth");function w9(n,...e){B0.logLevel<=Mn.WARN&&B0.warn(`Auth (${uu}): ${n}`,...e)}function d0(n,...e){B0.logLevel<=Mn.ERROR&&B0.error(`Auth (${uu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(n,...e){throw qE(n,...e)}function sa(n,...e){return qE(n,...e)}function KI(n,e,t){const r={...y9(),[e]:t};return new cp("auth","Firebase",r).create(e,{appName:n.name})}function rc(n){return KI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return GI.create(n,...e)}function ln(n,e,...t){if(!n)throw qE(e,...t)}function La(n){const e="INTERNAL ASSERTION FAILED: "+n;throw d0(e),new Error(e)}function ro(n,e){n||La(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(){return typeof self<"u"&&self.location?.href||""}function v9(){return Ck()==="http:"||Ck()==="https:"}function Ck(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v9()||D5()||"connection"in navigator)?navigator.onLine:!0}function S9(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t){this.shortDelay=e,this.longDelay=t,ro(t>e,"Short delay should be less than long delay!"),this.isMobile=C5()||M5()}get(){return x9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(n,e){ro(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;La("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;La("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;La("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_9=new wp(3e4,6e4);function Fy(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Pd(n,e,t,r,s={}){return YI(n,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const h=lp({key:n.config.apiKey,...l}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:p,...o};return N5()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Ic(n.emulatorConfig.host)&&(f.credentials="include"),WI.fetch()(await QI(n,n.config.apiHost,t,h),f)})}async function YI(n,e,t){n._canInitEmulator=!1;const r={...E9,...e};try{const s=new A9(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Wg(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const h=o.ok?l.errorMessage:l.error.message,[p,f]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wg(n,"credential-already-in-use",l);if(p==="EMAIL_EXISTS")throw Wg(n,"email-already-in-use",l);if(p==="USER_DISABLED")throw Wg(n,"user-disabled",l);const v=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw KI(n,v,f);no(n,v)}}catch(s){if(s instanceof ga)throw s;no(n,"network-request-failed",{message:String(s)})}}async function JI(n,e,t,r,s={}){const o=await Pd(n,e,t,r,s);return"mfaPendingCredential"in o&&no(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function QI(n,e,t,r){const s=`${e}${t}?${r}`,o=n,l=o.config.emulator?$E(n.config,s):`${n.config.apiScheme}://${s}`;return b9.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class A9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(sa(this.auth,"network-request-failed")),_9.get())})}}function Wg(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=sa(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(n,e){return Pd(n,"POST","/v1/accounts:delete",e)}async function U0(n,e){return Pd(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function k9(n,e=!1){const t=Mr(n),r=await t.getIdToken(e),s=HE(r);ln(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o?.sign_in_provider;return{claims:s,token:r,authTime:im(xx(s.auth_time)),issuedAtTime:im(xx(s.iat)),expirationTime:im(xx(s.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function xx(n){return Number(n)*1e3}function HE(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return d0("JWT malformed, contained fewer than 3 sections"),null;try{const s=b4(t);return s?JSON.parse(s):(d0("Failed to decode base64 JWT payload"),null)}catch(s){return d0("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Rk(n){const e=HE(n);return ln(e,"internal-error"),ln(typeof e.exp<"u","internal-error"),ln(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wm(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ga&&I9(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function I9({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=im(this.lastLoginAt),this.creationTime=im(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L0(n){const e=n.auth,t=await n.getIdToken(),r=await wm(n,U0(e,{idToken:t}));ln(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?XI(s.providerUserInfo):[],l=N9(n.providerData,o),h=n.isAnonymous,p=!(n.email&&s.passwordHash)&&!l?.length,f=h?p:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new k1(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,v)}async function R9(n){const e=Mr(n);await L0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function N9(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function XI(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D9(n,e){const t=await YI(n,{},async()=>{const r=lp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,l=await QI(n,s,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:r};return n.emulatorConfig&&Ic(n.emulatorConfig.host)&&(p.credentials="include"),WI.fetch()(l,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function M9(n,e){return Pd(n,"POST","/v2/accounts:revokeToken",Fy(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ln(e.idToken,"internal-error"),ln(typeof e.idToken<"u","internal-error"),ln(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ln(e.length!==0,"internal-error");const t=Rk(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ln(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await D9(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,l=new nh;return r&&(ln(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(ln(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(ln(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nh,this.toJSON())}_performRefresh(){return La("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(n,e){ln(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Es{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new C9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new k1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await wm(this,this.stsTokenManager.getToken(this.auth,e));return ln(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return k9(this,e)}reload(){return R9(this)}_assign(e){this!==e&&(ln(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Es({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ln(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await L0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ss(this.auth.app))return Promise.reject(rc(this.auth));const e=await this.getIdToken();return await wm(this,T9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,l=t.photoURL??void 0,h=t.tenantId??void 0,p=t._redirectEventId??void 0,f=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:S,emailVerified:C,isAnonymous:R,providerData:B,stsTokenManager:re}=t;ln(S&&re,e,"internal-error");const N=nh.fromJSON(this.name,re);ln(typeof S=="string",e,"internal-error"),Bo(r,e.name),Bo(s,e.name),ln(typeof C=="boolean",e,"internal-error"),ln(typeof R=="boolean",e,"internal-error"),Bo(o,e.name),Bo(l,e.name),Bo(h,e.name),Bo(p,e.name),Bo(f,e.name),Bo(v,e.name);const U=new Es({uid:S,auth:e,email:s,emailVerified:C,displayName:r,isAnonymous:R,photoURL:l,phoneNumber:o,tenantId:h,stsTokenManager:N,createdAt:f,lastLoginAt:v});return B&&Array.isArray(B)&&(U.providerData=B.map(q=>({...q}))),p&&(U._redirectEventId=p),U}static async _fromIdTokenResponse(e,t,r=!1){const s=new nh;s.updateFromServerResponse(t);const o=new Es({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await L0(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];ln(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?XI(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!o?.length,h=new nh;h.updateFromIdToken(r);const p=new Es({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new k1(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(p,f),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=new Map;function za(n){ro(n instanceof Function,"Expected a class definition");let e=Nk.get(n);return e?(ro(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Nk.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ZI.type="NONE";const Dk=ZI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(n,e,t){return`firebase:${n}:${e}:${t}`}class rh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=f0(this.userKey,s.apiKey,o),this.fullPersistenceKey=f0("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await U0(this.auth,{idToken:e}).catch(()=>{});return t?Es._fromGetAccountInfoResponse(this.auth,t,e):null}return Es._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new rh(za(Dk),e,r);const s=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||za(Dk);const l=f0(r,e.config.apiKey,e.name);let h=null;for(const f of t)try{const v=await f._get(l);if(v){let S;if(typeof v=="string"){const C=await U0(e,{idToken:v}).catch(()=>{});if(!C)break;S=await Es._fromGetAccountInfoResponse(e,C,v)}else S=Es._fromJSON(e,v);f!==o&&(h=S),o=f;break}}catch{}const p=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!p.length?new rh(o,e,r):(o=p[0],h&&await o._set(l,h.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new rh(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sC(e))return"Blackberry";if(aC(e))return"Webos";if(tC(e))return"Safari";if((e.includes("chrome/")||nC(e))&&!e.includes("edge/"))return"Chrome";if(iC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function eC(n=yi()){return/firefox\//i.test(n)}function tC(n=yi()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nC(n=yi()){return/crios\//i.test(n)}function rC(n=yi()){return/iemobile/i.test(n)}function iC(n=yi()){return/android/i.test(n)}function sC(n=yi()){return/blackberry/i.test(n)}function aC(n=yi()){return/webos/i.test(n)}function GE(n=yi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function F9(n=yi()){return GE(n)&&!!window.navigator?.standalone}function O9(){return F5()&&document.documentMode===10}function oC(n=yi()){return GE(n)||iC(n)||aC(n)||sC(n)||/windows phone/i.test(n)||rC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(n,e=[]){let t;switch(n){case"Browser":t=Mk(yi());break;case"Worker":t=`${Mk(yi())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${uu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,h)=>{try{const p=e(o);l(p)}catch(p){h(p)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j9(n,e={}){return Pd(n,"GET","/v2/passwordPolicy",Fy(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=6;class B9{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??V9,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fk(this),this.idTokenSubscription=new Fk(this),this.beforeStateQueue=new P9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=za(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await rh.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await U0(this,{idToken:e}),r=await Es._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ss(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===l)&&h?.user&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ln(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await L0(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=S9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ss(this.app))return Promise.reject(rc(this));const t=e?Mr(e):null;return t&&ln(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ln(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ss(this.app)?Promise.reject(rc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ss(this.app)?Promise.reject(rc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(za(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await j9(this),t=new B9(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cp("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await M9(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&za(e)||this._popupRedirectResolver;ln(t,this,"argument-error"),this.redirectPersistenceManager=await rh.create(this,[za(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ln(h,this,"internal-error"),h.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,s);return()=>{l=!0,p()}}else{const p=e.addObserver(t);return()=>{l=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ln(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ss(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&w9(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Oy(n){return Mr(n)}class Fk{constructor(e){this.auth=e,this.observer=null,this.addObserver=z5(t=>this.observer=t)}get next(){return ln(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L9(n){KE=n}function z9(n){return KE.loadJS(n)}function q9(){return KE.gapiScript}function $9(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(n,e){const t=uy(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(wl(o,e??{}))return s;no(s,"already-initialized")}return t.initialize({options:e})}function G9(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(za);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function K9(n,e,t){const r=Oy(n);ln(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=lC(e),{host:l,port:h}=W9(e),p=h===null?"":`:${h}`,f={url:`${o}//${l}${p}/`},v=Object.freeze({host:l,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ln(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ln(wl(f,r.config.emulator)&&wl(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Ic(l)?(VS(`${o}//${l}${p}`),BS("Auth",!0)):Y9()}function lC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function W9(n){const e=lC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:Ok(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:Ok(l)}}}function Ok(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Y9(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return La("not implemented")}_getIdTokenResponse(e){return La("not implemented")}_linkToIdToken(e,t){return La("not implemented")}_getReauthenticationResolver(e){return La("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(n,e){return JI(n,"POST","/v1/accounts:signInWithIdp",Fy(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9="http://localhost";class Al extends uC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Al(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):no("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=t;if(!r||!s)return null;const l=new Al(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ih(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ih(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ih(e,t)}buildRequest(){const e={requestUri:J9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=lp(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp extends hC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends vp{constructor(){super("facebook.com")}static credential(e){return Al._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $o.credential(e.oauthAccessToken)}catch{return null}}}$o.FACEBOOK_SIGN_IN_METHOD="facebook.com";$o.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends vp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Al._fromParams({providerId:Ho.PROVIDER_ID,signInMethod:Ho.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ho.credentialFromTaggedObject(e)}static credentialFromError(e){return Ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ho.credential(t,r)}catch{return null}}}Ho.GOOGLE_SIGN_IN_METHOD="google.com";Ho.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends vp{constructor(){super("github.com")}static credential(e){return Al._fromParams({providerId:Go.PROVIDER_ID,signInMethod:Go.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Go.credentialFromTaggedObject(e)}static credentialFromError(e){return Go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Go.credential(e.oauthAccessToken)}catch{return null}}}Go.GITHUB_SIGN_IN_METHOD="github.com";Go.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends vp{constructor(){super("twitter.com")}static credential(e,t){return Al._fromParams({providerId:Ko.PROVIDER_ID,signInMethod:Ko.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ko.credentialFromTaggedObject(e)}static credentialFromError(e){return Ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ko.credential(t,r)}catch{return null}}}Ko.TWITTER_SIGN_IN_METHOD="twitter.com";Ko.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q9(n,e){return JI(n,"POST","/v1/accounts:signUp",Fy(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await Es._fromIdTokenResponse(e,r,s),l=Pk(r);return new fc({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Pk(r);return new fc({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Pk(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X9(n){if(ss(n.app))return Promise.reject(rc(n));const e=Oy(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new fc({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await Q9(e,{returnSecureToken:!0}),r=await fc._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0 extends ga{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,z0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new z0(e,t,r,s)}}function dC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?z0._fromErrorAndOperation(n,o,e,r):o})}async function Z9(n,e,t=!1){const r=await wm(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return fc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(n,e,t=!1){const{auth:r}=n;if(ss(r.app))return Promise.reject(rc(r));const s="reauthenticate";try{const o=await wm(n,dC(r,s,e,n),t);ln(o.idToken,r,"internal-error");const l=HE(o.idToken);ln(l,r,"internal-error");const{sub:h}=l;return ln(n.uid===h,r,"user-mismatch"),fc._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&no(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(n,e,t=!1){if(ss(n.app))return Promise.reject(rc(n));const r="signIn",s=await dC(n,r,e),o=await fc._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}function nU(n,e,t,r){return Mr(n).onIdTokenChanged(e,t,r)}function rU(n,e,t){return Mr(n).beforeAuthStateChanged(e,t)}function iU(n,e,t,r){return Mr(n).onAuthStateChanged(e,t,r)}const q0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(q0,"1"),this.storage.removeItem(q0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=1e3,aU=10;class mC extends fC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,h,p)=>{this.notifyListeners(l,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);O9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,aU):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},sU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mC.type="LOCAL";const oU=mC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC extends fC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}pC.type="SESSION";const gC=pC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Py(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(l).map(async f=>f(t.origin,o)),p=await cU(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Py.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((h,p)=>{const f=WE("",20);s.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(S){const C=S;if(C.data.eventId===f)switch(C.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(C.data.response);break;default:clearTimeout(v),clearTimeout(o),p(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(){return window}function uU(n){aa().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(){return typeof aa().WorkerGlobalScope<"u"&&typeof aa().importScripts=="function"}async function hU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dU(){return navigator?.serviceWorker?.controller||null}function fU(){return yC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="firebaseLocalStorageDb",mU=1,$0="firebaseLocalStorage",vC="fbase_key";class xp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jy(n,e){return n.transaction([$0],e?"readwrite":"readonly").objectStore($0)}function pU(){const n=indexedDB.deleteDatabase(wC);return new xp(n).toPromise()}function I1(){const n=indexedDB.open(wC,mU);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore($0,{keyPath:vC})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains($0)?e(r):(r.close(),await pU(),e(await I1()))})})}async function jk(n,e,t){const r=jy(n,!0).put({[vC]:e,value:t});return new xp(r).toPromise()}async function gU(n,e){const t=jy(n,!1).get(e),r=await new xp(t).toPromise();return r===void 0?null:r.value}function Vk(n,e){const t=jy(n,!0).delete(e);return new xp(t).toPromise()}const yU=800,wU=3;class xC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await I1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>wU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Py._getInstance(fU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hU(),!this.activeServiceWorker)return;this.sender=new lU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await I1();return await jk(e,q0,"1"),await Vk(e,q0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>jk(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>gU(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Vk(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=jy(s,!1).getAll();return new xp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xC.type="LOCAL";const vU=xC;new wp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(n,e){return e?za(e):(ln(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE extends uC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ih(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ih(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ih(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function SU(n){return tU(n.auth,new YE(n),n.bypassAuthState)}function EU(n){const{auth:e,user:t}=n;return ln(t,e,"internal-error"),eU(t,new YE(n),n.bypassAuthState)}async function bU(n){const{auth:e,user:t}=n;return ln(t,e,"internal-error"),Z9(t,new YE(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:l,type:h}=e;if(l){this.reject(l);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SU;case"linkViaPopup":case"linkViaRedirect":return bU;case"reauthViaPopup":case"reauthViaRedirect":return EU;default:no(this.auth,"internal-error")}}resolve(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=new wp(2e3,1e4);class eh extends SC{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,eh.currentPopupAction&&eh.currentPopupAction.cancel(),eh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ln(e,this.auth,"internal-error"),e}async onExecution(){ro(this.filter.length===1,"Popup operations only handle one event");const e=WE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(sa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(sa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eh.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_U.get())};e()}}eh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU="pendingRedirect",m0=new Map;class TU extends SC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=m0.get(this.auth._key());if(!e){try{const r=await kU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}m0.set(this.auth._key(),e)}return this.bypassAuthState||m0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kU(n,e){const t=RU(e),r=CU(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function IU(n,e){m0.set(n._key(),e)}function CU(n){return za(n._redirectPersistence)}function RU(n){return f0(AU,n.config.apiKey,n.name)}async function NU(n,e,t=!1){if(ss(n.app))return Promise.reject(rc(n));const r=Oy(n),s=xU(r,e),l=await new TU(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=600*1e3;class MU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!EC(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(sa(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DU&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bk(e))}saveEventToCache(e){this.cachedEventUids.add(Bk(e)),this.lastProcessedEventTime=Date.now()}}function Bk(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function EC({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function FU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OU(n,e={}){return Pd(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jU=/^https?/;async function VU(n){if(n.config.emulator)return;const{authorizedDomains:e}=await OU(n);for(const t of e)try{if(BU(t))return}catch{}no(n,"unauthorized-domain")}function BU(n){const e=T1(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!jU.test(t))return!1;if(PU.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU=new wp(3e4,6e4);function Uk(){const n=aa().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function LU(n){return new Promise((e,t)=>{function r(){Uk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Uk(),t(sa(n,"network-request-failed"))},timeout:UU.get()})}if(aa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(aa().gapi?.load)r();else{const s=$9("iframefcb");return aa()[s]=()=>{gapi.load?r():t(sa(n,"network-request-failed"))},z9(`${q9()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw p0=null,e})}let p0=null;function zU(n){return p0=p0||LU(n),p0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qU=new wp(5e3,15e3),$U="__/auth/iframe",HU="emulator/auth/iframe",GU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WU(n){const e=n.config;ln(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?$E(e,HU):`https://${n.config.authDomain}/${$U}`,r={apiKey:e.apiKey,appName:n.name,v:uu},s=KU.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${lp(r).slice(1)}`}async function YU(n){const e=await zU(n),t=aa().gapi;return ln(t,n,"internal-error"),e.open({where:document.body,url:WU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GU,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=sa(n,"network-request-failed"),h=aa().setTimeout(()=>{o(l)},qU.get());function p(){aa().clearTimeout(h),s(r)}r.ping(p).then(p,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QU=500,XU=600,ZU="_blank",eL="http://localhost";class Lk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tL(n,e,t,r=QU,s=XU){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const p={...JU,width:r.toString(),height:s.toString(),top:o,left:l},f=yi().toLowerCase();t&&(h=nC(f)?ZU:t),eC(f)&&(e=e||eL,p.scrollbars="yes");const v=Object.entries(p).reduce((C,[R,B])=>`${C}${R}=${B},`,"");if(F9(f)&&h!=="_self")return nL(e||"",h),new Lk(null);const S=window.open(e||"",h,v);ln(S,n,"popup-blocked");try{S.focus()}catch{}return new Lk(S)}function nL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL="__/auth/handler",iL="emulator/auth/handler",sL=encodeURIComponent("fac");async function zk(n,e,t,r,s,o){ln(n.config.authDomain,n,"auth-domain-config-required"),ln(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:uu,eventId:s};if(e instanceof hC){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",L5(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))l[v]=S}if(e instanceof vp){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(l.scopes=v.join(","))}n.tenantId&&(l.tid=n.tenantId);const h=l;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const p=await n._getAppCheckToken(),f=p?`#${sL}=${encodeURIComponent(p)}`:"";return`${aL(n)}?${lp(h).slice(1)}${f}`}function aL({config:n}){return n.emulator?$E(n,iL):`https://${n.authDomain}/${rL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="webStorageSupport";class oL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gC,this._completeRedirectFn=NU,this._overrideRedirectResult=IU}async _openPopup(e,t,r,s){ro(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await zk(e,t,r,T1(),s);return tL(e,o,WE())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await zk(e,t,r,T1(),s);return uU(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(ro(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await YU(e),r=new MU(e);return t.register("authEvent",s=>(ln(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Sx,{type:Sx},s=>{const o=s?.[0]?.[Sx];o!==void 0&&t(!!o),no(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=VU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oC()||tC()||GE()}}const cL=oL;var qk="@firebase/auth",$k="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ln(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hL(n){vl(new sc("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;ln(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:l,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cC(n)},f=new U9(r,s,o,p);return G9(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),vl(new sc("auth-internal",e=>{const t=Oy(e.getProvider("auth").getImmediate());return(r=>new lL(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(qk,$k,uL(n)),Xs(qk,$k,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=300,fL=k4("authIdTokenMaxAge")||dL;let Hk=null;const mL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>fL)return;const s=t?.token;Hk!==s&&(Hk=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function pL(n=zS()){const e=uy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=H9(n,{popupRedirectResolver:cL,persistence:[vU,oU,gC]}),r=k4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=mL(o.toString());rU(t,l,()=>l(t.currentUser)),nU(t,h=>l(h))}}const s=_4("auth");return s&&K9(t,`http://${s}`),t}function gL(){return document.getElementsByTagName("head")?.[0]??document}L9({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=sa("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",gL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hL("Browser");const yL=[{id:"mock-101",name:"Dr. Elara Vance",title:"Lead Smart Contract Auditor",specialty:"Smart Contract Security",rate:"1000 ALGO / hr",rating:4.9,experience:8,logoUrl:"https://placehold.co/120x120/3CB371/FFFFFF?text=EV",description:"Dr. Vance specializes in formal verification and security analysis of Beaker and PyTeal smart contracts. With 8 years in the blockchain space, her focus is mitigating common re-entrancy and logic bugs before deployment.",achievements:"Led 3 successful DeFi audits for top 10 Algorand projects. Published research on TEAL security best practices.",email:"elara.vance@example.com",websiteUrl:"https://elara.dev",linkedinProfile:"https://linkedin.com/in/elaravance",portfolioUrl:"https://elara.dev/portfolio"},{id:"mock-102",name:"Arjun Sharma",title:"DeFi Strategy Consultant",specialty:"DeFi Strategy & Tokenomics",rate:"2500 ALGO / session",rating:4.7,experience:6,logoUrl:"https://placehold.co/120x120/4682B4/FFFFFF?text=AS",description:"Arjun provides actionable insights into token distribution models, liquidity provisioning, and governance structure for new and existing Algorand-based DeFi projects. Maximizing capital efficiency is his goal.",achievements:"Designed tokenomics for a $5M IDO. Oversaw the launch of 2 major Algorand-native DEX liquidity pools.",email:"arjun.sharma@example.com",websiteUrl:"https://arjunsharma.io",linkedinProfile:"https://linkedin.com/in/arjunsharma",portfolioUrl:"https://arjunsharma.io/portfolio"}],bC=["All Specialties","Smart Contract","DeFi Strategy","DApp Architecture","UX/UI Design","Data Analysis","Tokenomics","Other"],Gk=n=>{const e=n.match(/(\d+)/);return e?parseFloat(e[1]):0},_C={apiKey:"AIzaSyBc7x8gddDmeCztU8S0TStIbj3VUg5I6Gk",authDomain:"algoescrow.firebaseapp.com",projectId:"algoescrow",storageBucket:"algoescrow.firebasestorage.app",messagingSenderId:"112755487139",appId:"1:112755487139:web:17ffd1a212ffcbe95dea16",measurementId:"G-XSXPX5Z2CN"},AC=hy(_C),JE=yE(AC),Kk=pL(AC);_C.projectId;const wL=()=>d.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .input-field {
            margin-top: 0.25rem;
            display: block;
            width: 100%;
            border-radius: 0.5rem;
            border: 1px solid #d1d5db;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            padding: 0.75rem;
            color: #4b5563;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }
        .input-field:focus {
            border-color: #14b8a6; /* teal-500 */
            box-shadow: 0 0 0 3px rgba(20, 184, 166, 0.5);
            outline: 2px solid transparent;
            outline-offset: 2px;
        }
    `}}),vL=({label:n,fieldName:e,file:t,setFile:r})=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 flex items-center mb-1",children:n}),d.jsxs("div",{className:"mt-1 flex items-center space-x-2",children:[d.jsxs("label",{className:"flex-grow inline-flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:[d.jsx("input",{type:"file",name:e,id:e,accept:".png,.jpg,.jpeg,.svg",onChange:s=>r(s,e),className:"sr-only"}),t?d.jsx("span",{className:"truncate",children:t.name}):d.jsx("span",{children:"Choose Logo File"})]}),t&&d.jsx("button",{type:"button",onClick:()=>r({target:{files:[]}},e),className:"text-red-500 hover:text-red-700 p-2",title:"Remove file",children:d.jsx(bl,{className:"w-5 h-5"})})]})]}),xL=({onClose:n,onNewConsultant:e})=>{const[t,r]=Ee.useState({name:"",title:"",specialty:"",rate:"",experience:0,description:"",email:"",websiteUrl:"",linkedinProfile:"",portfolioUrl:"",achievements:"",logoFile:null,otherSpecialty:""}),[s,o]=Ee.useState(!1),[l,h]=Ee.useState(null),[p,f]=Ee.useState(!1),v=R=>{const{name:B,value:re}=R.target;B==="specialty"&&f(re==="Other"),r(N=>({...N,[B]:B==="experience"?parseInt(re)||0:re}))},S=(R,B)=>{r(re=>({...re,[B]:R.target.files[0]||null}))},C=async R=>{R.preventDefault();const B=t.specialty==="Other"&&t.otherSpecialty?t.otherSpecialty:t.specialty;if(!t.name||!t.title||!t.email||!t.rate||!B||B==="Select Specialty *"||B===""){h({type:"error",text:"Please fill in all required fields (Name, Title, Email, Rate, and Specialty)."});return}o(!0),h(null);const re=t.logoFile?`https://storage.firebase.com/logo/${t.logoFile.name}`:`https://placehold.co/60x60/10B981/FFFFFF?text=${t.name.split(" ").map(U=>U[0]).join("")||"CN"}`,N={name:t.name,title:t.title,specialty:B,rate:t.rate.includes("ALGO")?t.rate:`${t.rate} ALGO / hr`,experience:t.experience,description:t.description,achievements:t.achievements,email:t.email,websiteUrl:t.websiteUrl,linkedinProfile:t.linkedinProfile,portfolioUrl:t.portfolioUrl,logoUrl:re,id:`temp-${Date.now()}`,rating:5,createdAt:new Date().toISOString()};Object.keys(N).forEach(U=>(N[U]===""||N[U]===null)&&delete N[U]);try{const U=await dc(Fi(JE,"consultants"),N),q={...N,id:U.id};e(q),h({type:"success",text:"Profile submitted! It will appear shortly."}),setTimeout(n,2e3)}catch(U){console.error("Error submitting consultant profile: ",U),h({type:"error",text:"Failed to submit profile. Check console for details."})}finally{o(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50 overflow-y-auto",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl my-8 p-8 relative",children:[d.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:d.jsx(bl,{className:"w-6 h-6"})}),d.jsxs("h2",{className:"text-2xl font-extrabold text-gray-900 mb-2 flex items-center",children:[d.jsx(vI,{className:"w-6 h-6 mr-2 text-teal-600"})," Register as Consultant"]}),d.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Enter your professional details to be listed in the marketplace."}),l&&d.jsx("div",{className:`p-3 mb-4 rounded-lg ${l.type==="success"?"bg-teal-100 text-teal-800":"bg-red-100 text-red-800"}`,children:l.text}),d.jsxs("form",{onSubmit:C,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx("input",{name:"name",type:"text",placeholder:"Full Name *",value:t.name,onChange:v,required:!0,className:"input-field"}),d.jsx("input",{name:"title",type:"text",placeholder:"Job Title (e.g., DApp Architect) *",value:t.title,onChange:v,required:!0,className:"input-field"}),d.jsx("input",{name:"email",type:"email",placeholder:"Contact Email *",value:t.email,onChange:v,required:!0,className:"input-field"}),d.jsxs("select",{name:"specialty",value:t.specialty,onChange:v,required:!0,className:"input-field appearance-none",children:[d.jsx("option",{value:"",children:"Select Specialty *"}),bC.map(R=>d.jsx("option",{value:R,children:R},R))]}),p&&d.jsx("input",{name:"otherSpecialty",type:"text",placeholder:"Specify your specialty *",value:t.otherSpecialty||"",onChange:v,required:p,className:"input-field"}),d.jsx("input",{name:"rate",type:"text",placeholder:"Rate (e.g., 800 ALGO / hr) *",value:t.rate,onChange:v,required:!0,className:"input-field"}),d.jsx("input",{name:"experience",type:"number",placeholder:"Years Experience (e.g., 5)",value:t.experience||"",min:"0",onChange:v,className:"input-field"})]}),d.jsx("textarea",{name:"description",placeholder:"Professional Summary/Bio (Min. 50 words)",value:t.description,onChange:v,rows:3,className:"input-field w-full"}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"achievements",className:"text-sm font-medium text-gray-700 flex items-center mb-1",children:[d.jsx(hI,{className:"w-4 h-4 mr-1 text-yellow-600"})," Key Achievements/Milestones"]}),d.jsx("textarea",{name:"achievements",id:"achievements",placeholder:"List achievements separated by periods. e.g., Led security audit for Algorand's biggest NFT project. Designed tokenomics for a DAO with $10M TVL.",value:t.achievements,onChange:v,rows:3,className:"input-field w-full"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx("input",{name:"websiteUrl",type:"url",placeholder:"Personal Website URL (Optional)",value:t.websiteUrl,onChange:v,className:"input-field"}),d.jsx("input",{name:"linkedinProfile",type:"url",placeholder:"LinkedIn Profile URL (Optional)",value:t.linkedinProfile,onChange:v,className:"input-field"}),d.jsx("input",{name:"portfolioUrl",type:"url",placeholder:"Portfolio URL (Optional)",value:t.portfolioUrl,onChange:v,className:"input-field"})]}),d.jsx(vL,{label:d.jsxs(d.Fragment,{children:[d.jsx(DE,{className:"w-4 h-4 mr-1"})," Profile Logo/Avatar (PNG/JPG/SVG)"]}),fieldName:"logoFile",file:t.logoFile,setFile:S}),d.jsx("button",{type:"submit",disabled:s,className:`w-full inline-flex justify-center items-center px-4 py-3 border border-transparent text-base font-medium rounded-lg shadow-md \r
                            text-white bg-teal-600 hover:bg-teal-700 disabled:opacity-50 transition-colors`,children:s?"Submitting...":d.jsxs(d.Fragment,{children:[d.jsx(My,{className:"w-5 h-5 mr-2"}),"Submit Profile for Approval"]})})]})]})})},SL=({consultant:n,userId:e,onClose:t})=>{const[r,s]=Ee.useState(5),[o,l]=Ee.useState(""),[h,p]=Ee.useState(""),[f,v]=Ee.useState(!1),[S,C]=Ee.useState(null),R=async B=>{if(B.preventDefault(),!h||!o){C({type:"error",text:"Please fill out your name and feedback before submitting."});return}v(!0),C(null);const re={consultantId:n.id,consultantName:n.name,rating:r,feedback:o,userName:h,submittedAt:new Date().toISOString(),submittedBy:e};try{await dc(Fi(JE,"consultation_reviews"),re),C({type:"success",text:"Thank you! Your feedback has been saved successfully."}),setTimeout(t,2e3)}catch(N){console.error("Error submitting review: ",N),C({type:"error",text:"Failed to submit feedback. Check console for details."})}finally{v(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg p-8 relative",children:[d.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:d.jsx(bl,{className:"w-6 h-6"})}),d.jsx("h2",{className:"text-2xl font-extrabold text-gray-900 mb-2",children:"Post Consultation Review"}),d.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Sharing your experience with **",n.name,"** helps the community."]}),S&&d.jsx("div",{className:`p-3 mb-4 rounded-lg ${S.type==="success"?"bg-teal-100 text-teal-800":"bg-red-100 text-red-800"}`,children:S.text}),d.jsxs("form",{onSubmit:R,className:"space-y-4",children:[d.jsxs("label",{className:"block",children:[d.jsx("span",{className:"text-gray-700 font-medium",children:"Your Name:"}),d.jsx("input",{type:"text",value:h,onChange:B=>p(B.target.value),className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-teal-500 focus:border-teal-500",placeholder:"e.g., Alex D.",required:!0})]}),d.jsxs("label",{className:"block",children:[d.jsx("span",{className:"text-gray-700 font-medium",children:"Rating:"}),d.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[[1,2,3,4,5].map(B=>d.jsx(gm,{className:`w-8 h-8 cursor-pointer transition-colors ${r>=B?"text-yellow-500 fill-current":"text-gray-300"}`,onClick:()=>s(B)},B)),d.jsxs("span",{className:"text-lg font-bold ml-2",children:[r," / 5"]})]})]}),d.jsxs("label",{className:"block",children:[d.jsx("span",{className:"text-gray-700 font-medium",children:"Feedback:"}),d.jsx("textarea",{value:o,onChange:B=>l(B.target.value),rows:4,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm p-3 focus:ring-teal-500 focus:border-teal-500",placeholder:"Share your experience...",required:!0})]}),d.jsx("button",{type:"submit",disabled:f,className:`w-full inline-flex justify-center items-center px-4 py-3 border border-transparent text-base font-medium rounded-lg shadow-md \r
                            text-white bg-teal-600 hover:bg-teal-700 disabled:opacity-50 transition-colors`,children:f?"Submitting...":d.jsxs(d.Fragment,{children:[d.jsx(My,{className:"w-5 h-5 mr-2"}),"Submit Review"]})})]})]})})},EL=({consultant:n,onBack:e,userId:t})=>{const r="https://placehold.co/120x120/CCCCCC/000000?text=U",s=n.logoUrl||r,o="https://media.licdn.com/dms/image/v2/C4D12AQHMPBvE3avWzg/article-inline_image-shrink_1000_1488/article-inline_image-shrink_1000_1488/0/1616872522462?e=1762387200&v=beta&t=OPS9nEHcsB3lHcgPThhoTSHwn2mkA5If2RazkElTa0g",[l,h]=Ee.useState(!1),f=(v=>{const S="https://calendar.google.com/calendar/render?action=TEMPLATE",C=encodeURIComponent(`Algorand Consultation: ${v.title}`),R=encodeURIComponent(`Booking request for a session with ${v.name} (${v.specialty}). Please suggest a time.`),B=encodeURIComponent(v.email);return`${S}&text=${C}&details=${R}&add=${B}`})(n);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-2xl mb-10 relative",children:[d.jsx("div",{className:"p-4 sm:p-6 flex items-center justify-between border-b",children:d.jsxs("button",{onClick:e,className:"inline-flex items-center text-teal-600 hover:text-teal-800 transition-colors font-medium",children:[d.jsx(uI,{className:"w-5 h-5 mr-2"})," Back to Experts List"]})}),d.jsx("div",{className:"relative",children:d.jsx("img",{src:o,alt:"Profile Background",className:"w-full h-48 object-cover object-center",onError:v=>{v.target.onerror=null,v.target.src="https://placehold.co/1200x200/2C7C7C/FFFFFF?text=PROFILE+BANNER"}})}),d.jsx("div",{className:"absolute bottom-0 left-8 transform translate-y-1/2",children:d.jsx("img",{src:s,alt:`${n.name} Logo`,className:"w-36 h-36 object-cover rounded-full border-4 border-white shadow-xl",onError:v=>{v.target.onerror=null,v.target.src=r}})})]}),d.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 p-8 pt-20 space-y-8 sm:pt-24",children:[d.jsxs("div",{className:"mb-8 -mt-10 sm:-mt-12 text-left sm:ml-40",children:[d.jsx("h1",{className:"text-3xl font-extrabold text-gray-900",children:n.name}),d.jsx("p",{className:"text-xl font-medium text-gray-700",children:n.title})]}),d.jsxs("div",{className:"flex flex-wrap gap-6 text-sm font-medium text-gray-700 border-b pb-6",children:[d.jsxs("span",{className:"flex items-center bg-gray-100 px-3 py-1 rounded-full",children:[d.jsx(to,{className:"w-4 h-4 mr-1 text-teal-600"}),"Rate: ",d.jsx("span",{className:"ml-1 font-bold text-teal-600",children:n.rate})]}),d.jsxs("span",{className:"flex items-center bg-gray-100 px-3 py-1 rounded-full",children:[d.jsx(gm,{className:"w-4 h-4 mr-1 text-yellow-500 fill-current"}),"Rating: ",d.jsx("span",{className:"ml-1 font-bold",children:n.rating})]}),d.jsxs("span",{className:"flex items-center bg-gray-100 px-3 py-1 rounded-full",children:[d.jsx(gp,{className:"w-4 h-4 mr-1 text-gray-500"}),"Experience: ",d.jsxs("span",{className:"ml-1 font-bold",children:[n.experience," Years"]})]}),d.jsxs("span",{className:"flex items-center bg-teal-100 px-3 py-1 rounded-full text-teal-800",children:[d.jsx(Cs,{className:"w-4 h-4 mr-1"}),"Specialty: ",d.jsx("span",{className:"ml-1 font-bold",children:n.specialty})]})]}),d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:["About ",n.name]}),d.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.description||"No detailed description provided yet. Contact the expert directly for more information."})]}),n.achievements&&d.jsxs("div",{className:"pb-4",children:[d.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-3 flex items-center",children:[d.jsx(hI,{className:"w-6 h-6 mr-2 text-yellow-600"})," Key Achievements"]}),d.jsx("ul",{className:"text-gray-600 list-disc list-inside space-y-1 pl-4",children:(n.achievements||"").split(". ").map((v,S)=>v.trim()&&d.jsx("li",{className:"text-base",children:v.trim().endsWith(".")?v.trim():v.trim()+"."},S))})]}),d.jsxs("div",{className:"space-y-4 border-t pt-6",children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Contact & Links"}),d.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.email&&d.jsxs("a",{href:`mailto:${n.email}`,className:"flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-full shadow-sm text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[d.jsx(Xj,{className:"w-4 h-4 mr-2 text-red-500"}),"Email ",n.name.split(" ")[0]]}),n.websiteUrl&&d.jsxs("a",{href:n.websiteUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-full shadow-sm text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[d.jsx(fI,{className:"w-4 h-4 mr-2 text-blue-500"}),"Website"]}),n.linkedinProfile&&d.jsxs("a",{href:n.linkedinProfile,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-full shadow-sm text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[d.jsx(Kj,{className:"w-4 h-4 mr-2 text-blue-700"}),"LinkedIn Profile"]}),n.portfolioUrl&&d.jsxs("a",{href:n.portfolioUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-full shadow-sm text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[d.jsx(_1,{className:"w-4 h-4 mr-2 text-teal-700"}),"Portfolio"]})]})]}),d.jsxs("div",{className:"border-t pt-6 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-extrabold text-teal-600 mb-4",children:"Book a Session Now"}),d.jsxs("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center px-6 py-3 border border-transparent text-lg font-medium rounded-full shadow-xl \r
                                            text-white bg-teal-600 hover:bg-teal-700 transition-transform duration-150 transform hover:scale-[1.01] hover:shadow-2xl`,children:[d.jsx(RE,{className:"w-5 h-5 mr-3"}),"Schedule on Google Calendar",d.jsx(mI,{className:"w-4 h-4 ml-2"})]})]}),d.jsxs("button",{onClick:()=>h(!0),className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg shadow-md \r
                                            text-gray-800 bg-gray-200 hover:bg-gray-300 transition-colors`,children:[d.jsx(gm,{className:"w-4 h-4 mr-2"})," Post Consultation Review"]})]})]}),l&&d.jsx(SL,{consultant:n,userId:t,onClose:()=>h(!1)})]})},bL=({consultant:n,onBook:e})=>{const t="https://placehold.co/48x48/CCCCCC/000000?text=U",r=n.logoUrl||t;return d.jsxs("div",{className:" block bg-white rounded-xl shadow-xl p-5 transition-all duration-300 hover:shadow-2xl hover:border-teal-400 border border-transparent flex items-center justify-between group min-h-[120px]",children:[d.jsxs("div",{className:"flex items-start flex-grow pr-4 max-w-[55%] min-w-0",children:[d.jsx("img",{src:r,alt:`${n.name} Logo`,className:"w-12 h-12 object-cover rounded-full border p-0.5 mr-4 flex-shrink-0 border-teal-300",onError:s=>{s.target.onerror=null,s.target.src=t}}),d.jsxs("div",{className:"flex-grow min-w-0 text-left",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-900 truncate group-hover:text-teal-600 transition-colors",children:n.name}),d.jsx("p",{className:"text-sm text-gray-500 mb-1 truncate",children:n.title}),d.jsxs("span",{className:"flex items-center text-xs text-teal-600 font-medium bg-teal-50 px-2 py-0.5 rounded-full w-fit",children:[d.jsx(Cs,{className:"w-3 h-3 mr-1"}),n.specialty]})]})]}),d.jsxs("div",{className:"flex items-center space-x-6 flex-shrink-0",children:[d.jsxs("div",{className:"hidden sm:block text-xs text-gray-600 text-left space-y-1 pr-4 border-r border-gray-100",children:[d.jsxs("div",{className:"flex items-center text-sm font-semibold text-gray-700",children:[d.jsx(gp,{className:"w-4 h-4 mr-1"}),d.jsxs("span",{children:[n.experience," Yrs Exp."]})]}),d.jsxs("div",{className:"flex items-center text-yellow-500 text-sm font-semibold pt-1",children:[d.jsx(gm,{className:"w-4 h-4 mr-1",fill:"currentColor"}),d.jsxs("span",{children:[n.rating," Rating"]})]})]}),d.jsx("span",{className:"text-xl font-extrabold text-teal-600 w-36 text-right flex-shrink-0",children:n.rate}),d.jsxs("button",{onClick:()=>e(n),className:`inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-full shadow-md \r
                        text-white bg-teal-600 hover:bg-teal-700 transition-colors flex-shrink-0`,children:[d.jsx(RE,{className:"w-4 h-4 mr-2"})," View Profile"]})]})]})},_L=()=>{const[n,e]=Ee.useState(yL),t=K=>{e(P=>[K,...P])},[r,s]=Ee.useState(null),[o,l]=Ee.useState(!1);Ee.useEffect(()=>{const K=iU(Kk,P=>{P?s(P.uid):X9(Kk).then(M=>s(M.user.uid)).catch(M=>console.error("Anonymous Sign-In Failed:",M)),l(!0)});return()=>K()},[]),Ee.useEffect(()=>{o&&(async()=>{try{const M=(await yh(Fi(JE,"consultants"))).docs.map(H=>({id:H.id,...H.data(),rating:H.data().rating||5,experience:H.data().experience||0}));e(H=>{const A=new Set(M.map(x=>x.id)),y=H.filter(x=>!A.has(x.id.toString()));return[...M,...y]})}catch(P){console.error("Error fetching consultants from Firestore:",P)}})()},[o]);const[h,p]=Ee.useState(""),[f,v]=Ee.useState("All Specialties"),[S,C]=Ee.useState("Highest Rated"),[R,B]=Ee.useState("list"),[re,N]=Ee.useState(null),[U,q]=Ee.useState(!1),G=K=>{N(K),B("profile")},he=()=>{B("list"),N(null)},pe=Ee.useMemo(()=>n.filter(K=>{const P=h.toLowerCase(),M=K.name&&K.name.toLowerCase().includes(P)||K.title&&K.title.toLowerCase().includes(P)||K.specialty&&K.specialty.toLowerCase().includes(P),H=f==="All Specialties"||K.specialty&&K.specialty.toLowerCase().includes(f.toLowerCase());return M&&H}).sort((K,P)=>{if(S==="Highest Rated")return P.rating-K.rating;if(S==="Experience (High)")return P.experience-K.experience;if(S==="Rate (High)"){const M=Gk(K.rate);return Gk(P.rate)-M}return 0}),[h,f,S,n]);return o?d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-white to-teal-50 py-10 sm:py-16 font-sans relative",children:[d.jsx(wL,{}),R==="list"&&d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"mb-10 text-center",children:[d.jsx("h1",{className:"text-4xl font-extrabold text-gray-800 mb-2",children:"Book Expert Consultations"}),d.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Find certified specialists for 1:1 sessions."}),d.jsxs("div",{className:"max-w-3xl mx-auto relative",children:[d.jsx(OE,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"}),d.jsx("input",{type:"text",placeholder:"Search experts by name, title, or specialty...",className:`w-full py-4 pl-12 pr-4 border border-gray-300 rounded-full shadow-lg \r
                                    focus:ring-teal-500 focus:border-teal-500 text-base`,value:h,onChange:K=>p(K.target.value)})]}),d.jsxs("button",{onClick:()=>q(!0),className:`mt-6 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-full shadow-md \r
                                text-white bg-teal-500 hover:bg-teal-600 transition-colors`,children:[d.jsx(vI,{className:"w-4 h-4 mr-2"})," Register as a Consultant"]})]}),d.jsxs("div",{className:"w-full",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 border-b pb-3",children:[d.jsxs("h3",{className:"text-lg font-medium text-gray-700 mb-3 sm:mb-0",children:["Showing ",pe.length," Experts Available"]}),d.jsxs("div",{className:"flex space-x-4 items-center",children:[d.jsxs("div",{className:"relative flex items-center",children:[d.jsx(NE,{className:"w-4 h-4 text-gray-500 mr-2"}),d.jsx("select",{className:"appearance-none py-2 pl-3 pr-10 border border-gray-300 rounded-lg text-sm bg-white text-gray-700 cursor-pointer focus:ring-teal-500 focus:border-teal-500",value:f,onChange:K=>v(K.target.value),children:bC.map(K=>d.jsx("option",{value:K,children:K},K))}),d.jsx(eo,{className:"w-4 h-4 text-gray-500 absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none"})]}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{className:"appearance-none py-2 px-4 pr-10 border border-gray-300 rounded-lg text-sm bg-white text-gray-700 cursor-pointer focus:ring-teal-500 focus:border-teal-500",value:S,onChange:K=>C(K.target.value),children:[d.jsx("option",{value:"Highest Rated",children:"Sort by Rating (High)"}),d.jsx("option",{value:"Experience (High)",children:"Sort by Experience"}),d.jsx("option",{value:"Rate (High)",children:"Sort by Rate (High)"})]}),d.jsx(eo,{className:"w-4 h-4 text-gray-500 absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[pe.map(K=>d.jsx(bL,{consultant:K,onBook:G},K.id)),pe.length===0&&d.jsx("p",{className:"text-gray-500 col-span-full py-10 text-center",children:"No consultants found matching your criteria."})]})]})]}),R==="profile"&&re&&d.jsx(EL,{consultant:re,onBack:he,userId:r}),U&&d.jsx(xL,{onClose:()=>q(!1),onNewConsultant:t})]}):d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-teal-50",children:d.jsxs("p",{className:"text-xl text-gray-700 flex items-center",children:[d.jsx(gp,{className:"w-5 h-5 mr-2 animate-spin"})," Loading Authentication..."]})})},AL="38476031c5d31bdfd4ee2404488db136",TL=({article:n})=>{const e=new Date(n.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return d.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:`block h-full bg-white rounded-xl shadow-lg border border-gray-100 p-5 \r
                       transition-all duration-300 hover:shadow-xl hover:scale-[1.01] flex flex-col group`,children:[n.image&&d.jsx("div",{className:"rounded-lg overflow-hidden mb-4 h-36",children:d.jsx("img",{alt:n.title,src:n.image,className:"w-full h-full object-cover transition-opacity duration-300 group-hover:opacity-90"})}),d.jsxs("div",{className:"flex flex-col flex-grow justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center text-xs text-teal-600 font-semibold mb-2 uppercase",children:[d.jsx("span",{children:n.source?.name||"News Source"}),d.jsx("span",{className:"text-gray-500 font-normal",children:e})]}),d.jsx("h3",{className:"text-lg font-extrabold text-gray-900 mb-2 leading-snug group-hover:text-teal-700 transition-colors",children:n.title}),d.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:n.description})]}),d.jsx("div",{className:"mt-auto text-sm font-semibold text-teal-600 text-right",children:"Read Article "})]})]})},kL=()=>{const[n,e]=Ee.useState([]),[t,r]=Ee.useState(!0),[s,o]=Ee.useState(null);return Ee.useEffect(()=>{r(!0),o(null),fetch(`https://gnews.io/api/v4/top-headlines?token=${AL}&topic=business&lang=en&country=in&max=9`).then(l=>{if(!l.ok)throw new Error(`API response error: ${l.status}`);return l.json()}).then(l=>{const h=l.articles?l.articles.filter(p=>p.title&&p.description):[];e(h)}).catch(l=>{console.error("Error fetching news:",l),o("Failed to load news. Check API Key or network connection.")}).finally(()=>{r(!1)})},[]),t?d.jsxs("div",{className:"min-h-screen py-20 text-center bg-gradient-to-br from-teal-50 to-white via-green-50",children:[d.jsx(ia,{className:"w-8 h-8 text-teal-500 animate-spin mx-auto mb-3"}),d.jsx("p",{className:"text-gray-600 text-lg",children:"Loading the latest financial news..."})]}):s?d.jsxs("div",{className:"p-8 text-center bg-red-50 border border-red-300 rounded-lg max-w-xl mx-auto my-10",children:[d.jsx(PE,{className:"w-6 h-6 text-red-500 mx-auto mb-3"}),d.jsxs("p",{className:"text-red-700 font-medium",children:[" ",s]})]}):n.length===0?d.jsxs("div",{className:"py-10 text-center text-gray-500 bg-gradient-to-br from-teal-50 to-white via-green-50",children:[d.jsx(tV,{className:"w-8 h-8 mx-auto mb-3"}),"No relevant business articles found for India."]}):d.jsx("div",{className:"min-h-screen py-12 bg-gradient-to-br from-teal-50 to-white via-green-50",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"text-center mb-12 pt-8 pb-4",children:[d.jsxs("h1",{className:"text-4xl sm:text-6xl font-extrabold sm:leading-16 text-gray-800 leading-tight",children:["Indias ",d.jsx("span",{className:"text-lime-500",children:"Financial"})," ",d.jsx("br",{className:"hidden sm:inline"})," Frontier."]}),d.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mt-4",children:"Stay Ahead with the Latest from Indias Business World  Curated for You.."})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((l,h)=>d.jsx(TL,{article:l},h))})]})})};var Ex={},Of={},Wk;function IL(){if(Wk)return Of;Wk=1,Of.byteLength=h,Of.toByteArray=f,Of.fromByteArray=C;for(var n=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=r.length;s<o;++s)n[s]=r[s],e[r.charCodeAt(s)]=s;e[45]=62,e[95]=63;function l(R){var B=R.length;if(B%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var re=R.indexOf("=");re===-1&&(re=B);var N=re===B?0:4-re%4;return[re,N]}function h(R){var B=l(R),re=B[0],N=B[1];return(re+N)*3/4-N}function p(R,B,re){return(B+re)*3/4-re}function f(R){var B,re=l(R),N=re[0],U=re[1],q=new t(p(R,N,U)),G=0,he=U>0?N-4:N,pe;for(pe=0;pe<he;pe+=4)B=e[R.charCodeAt(pe)]<<18|e[R.charCodeAt(pe+1)]<<12|e[R.charCodeAt(pe+2)]<<6|e[R.charCodeAt(pe+3)],q[G++]=B>>16&255,q[G++]=B>>8&255,q[G++]=B&255;return U===2&&(B=e[R.charCodeAt(pe)]<<2|e[R.charCodeAt(pe+1)]>>4,q[G++]=B&255),U===1&&(B=e[R.charCodeAt(pe)]<<10|e[R.charCodeAt(pe+1)]<<4|e[R.charCodeAt(pe+2)]>>2,q[G++]=B>>8&255,q[G++]=B&255),q}function v(R){return n[R>>18&63]+n[R>>12&63]+n[R>>6&63]+n[R&63]}function S(R,B,re){for(var N,U=[],q=B;q<re;q+=3)N=(R[q]<<16&16711680)+(R[q+1]<<8&65280)+(R[q+2]&255),U.push(v(N));return U.join("")}function C(R){for(var B,re=R.length,N=re%3,U=[],q=16383,G=0,he=re-N;G<he;G+=q)U.push(S(R,G,G+q>he?he:G+q));return N===1?(B=R[re-1],U.push(n[B>>2]+n[B<<4&63]+"==")):N===2&&(B=(R[re-2]<<8)+R[re-1],U.push(n[B>>10]+n[B>>4&63]+n[B<<2&63]+"=")),U.join("")}return Of}var Yg={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Yk;function CL(){return Yk||(Yk=1,Yg.read=function(n,e,t,r,s){var o,l,h=s*8-r-1,p=(1<<h)-1,f=p>>1,v=-7,S=t?s-1:0,C=t?-1:1,R=n[e+S];for(S+=C,o=R&(1<<-v)-1,R>>=-v,v+=h;v>0;o=o*256+n[e+S],S+=C,v-=8);for(l=o&(1<<-v)-1,o>>=-v,v+=r;v>0;l=l*256+n[e+S],S+=C,v-=8);if(o===0)o=1-f;else{if(o===p)return l?NaN:(R?-1:1)*(1/0);l=l+Math.pow(2,r),o=o-f}return(R?-1:1)*l*Math.pow(2,o-r)},Yg.write=function(n,e,t,r,s,o){var l,h,p,f=o*8-s-1,v=(1<<f)-1,S=v>>1,C=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=r?0:o-1,B=r?1:-1,re=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,l=v):(l=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-l))<1&&(l--,p*=2),l+S>=1?e+=C/p:e+=C*Math.pow(2,1-S),e*p>=2&&(l++,p/=2),l+S>=v?(h=0,l=v):l+S>=1?(h=(e*p-1)*Math.pow(2,s),l=l+S):(h=e*Math.pow(2,S-1)*Math.pow(2,s),l=0));s>=8;n[t+R]=h&255,R+=B,h/=256,s-=8);for(l=l<<s|h,f+=s;f>0;n[t+R]=l&255,R+=B,l/=256,f-=8);n[t+R-B]|=re*128}),Yg}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Jk;function RL(){return Jk||(Jk=1,(function(n){const e=IL(),t=CL(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=h,n.SlowBuffer=q,n.INSPECT_MAX_BYTES=50;const s=2147483647;n.kMaxLength=s,h.TYPED_ARRAY_SUPPORT=o(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const z=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(z,_),z.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function l(z){if(z>s)throw new RangeError('The value "'+z+'" is invalid for option "size"');const _=new Uint8Array(z);return Object.setPrototypeOf(_,h.prototype),_}function h(z,_,I){if(typeof z=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(z)}return p(z,_,I)}h.poolSize=8192;function p(z,_,I){if(typeof z=="string")return C(z,_);if(ArrayBuffer.isView(z))return B(z);if(z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(Xe(z,ArrayBuffer)||z&&Xe(z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Xe(z,SharedArrayBuffer)||z&&Xe(z.buffer,SharedArrayBuffer)))return re(z,_,I);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ae=z.valueOf&&z.valueOf();if(ae!=null&&ae!==z)return h.from(ae,_,I);const ve=N(z);if(ve)return ve;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return h.from(z[Symbol.toPrimitive]("string"),_,I);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}h.from=function(z,_,I){return p(z,_,I)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function f(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function v(z,_,I){return f(z),z<=0?l(z):_!==void 0?typeof I=="string"?l(z).fill(_,I):l(z).fill(_):l(z)}h.alloc=function(z,_,I){return v(z,_,I)};function S(z){return f(z),l(z<0?0:U(z)|0)}h.allocUnsafe=function(z){return S(z)},h.allocUnsafeSlow=function(z){return S(z)};function C(z,_){if((typeof _!="string"||_==="")&&(_="utf8"),!h.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const I=G(z,_)|0;let ae=l(I);const ve=ae.write(z,_);return ve!==I&&(ae=ae.slice(0,ve)),ae}function R(z){const _=z.length<0?0:U(z.length)|0,I=l(_);for(let ae=0;ae<_;ae+=1)I[ae]=z[ae]&255;return I}function B(z){if(Xe(z,Uint8Array)){const _=new Uint8Array(z);return re(_.buffer,_.byteOffset,_.byteLength)}return R(z)}function re(z,_,I){if(_<0||z.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<_+(I||0))throw new RangeError('"length" is outside of buffer bounds');let ae;return _===void 0&&I===void 0?ae=new Uint8Array(z):I===void 0?ae=new Uint8Array(z,_):ae=new Uint8Array(z,_,I),Object.setPrototypeOf(ae,h.prototype),ae}function N(z){if(h.isBuffer(z)){const _=U(z.length)|0,I=l(_);return I.length===0||z.copy(I,0,0,_),I}if(z.length!==void 0)return typeof z.length!="number"||We(z.length)?l(0):R(z);if(z.type==="Buffer"&&Array.isArray(z.data))return R(z.data)}function U(z){if(z>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return z|0}function q(z){return+z!=z&&(z=0),h.alloc(+z)}h.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==h.prototype},h.compare=function(_,I){if(Xe(_,Uint8Array)&&(_=h.from(_,_.offset,_.byteLength)),Xe(I,Uint8Array)&&(I=h.from(I,I.offset,I.byteLength)),!h.isBuffer(_)||!h.isBuffer(I))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===I)return 0;let ae=_.length,ve=I.length;for(let Re=0,Fe=Math.min(ae,ve);Re<Fe;++Re)if(_[Re]!==I[Re]){ae=_[Re],ve=I[Re];break}return ae<ve?-1:ve<ae?1:0},h.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(_,I){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return h.alloc(0);let ae;if(I===void 0)for(I=0,ae=0;ae<_.length;++ae)I+=_[ae].length;const ve=h.allocUnsafe(I);let Re=0;for(ae=0;ae<_.length;++ae){let Fe=_[ae];if(Xe(Fe,Uint8Array))Re+Fe.length>ve.length?(h.isBuffer(Fe)||(Fe=h.from(Fe)),Fe.copy(ve,Re)):Uint8Array.prototype.set.call(ve,Fe,Re);else if(h.isBuffer(Fe))Fe.copy(ve,Re);else throw new TypeError('"list" argument must be an Array of Buffers');Re+=Fe.length}return ve};function G(z,_){if(h.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||Xe(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);const I=z.length,ae=arguments.length>2&&arguments[2]===!0;if(!ae&&I===0)return 0;let ve=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":return we(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I*2;case"hex":return I>>>1;case"base64":return Se(z).length;default:if(ve)return ae?-1:we(z).length;_=(""+_).toLowerCase(),ve=!0}}h.byteLength=G;function he(z,_,I){let ae=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((I===void 0||I>this.length)&&(I=this.length),I<=0)||(I>>>=0,_>>>=0,I<=_))return"";for(z||(z="utf8");;)switch(z){case"hex":return T(this,_,I);case"utf8":case"utf-8":return $(this,_,I);case"ascii":return le(this,_,I);case"latin1":case"binary":return Q(this,_,I);case"base64":return E(this,_,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,_,I);default:if(ae)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),ae=!0}}h.prototype._isBuffer=!0;function pe(z,_,I){const ae=z[_];z[_]=z[I],z[I]=ae}h.prototype.swap16=function(){const _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let I=0;I<_;I+=2)pe(this,I,I+1);return this},h.prototype.swap32=function(){const _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let I=0;I<_;I+=4)pe(this,I,I+3),pe(this,I+1,I+2);return this},h.prototype.swap64=function(){const _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let I=0;I<_;I+=8)pe(this,I,I+7),pe(this,I+1,I+6),pe(this,I+2,I+5),pe(this,I+3,I+4);return this},h.prototype.toString=function(){const _=this.length;return _===0?"":arguments.length===0?$(this,0,_):he.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(_){if(!h.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:h.compare(this,_)===0},h.prototype.inspect=function(){let _="";const I=n.INSPECT_MAX_BYTES;return _=this.toString("hex",0,I).replace(/(.{2})/g,"$1 ").trim(),this.length>I&&(_+=" ... "),"<Buffer "+_+">"},r&&(h.prototype[r]=h.prototype.inspect),h.prototype.compare=function(_,I,ae,ve,Re){if(Xe(_,Uint8Array)&&(_=h.from(_,_.offset,_.byteLength)),!h.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(I===void 0&&(I=0),ae===void 0&&(ae=_?_.length:0),ve===void 0&&(ve=0),Re===void 0&&(Re=this.length),I<0||ae>_.length||ve<0||Re>this.length)throw new RangeError("out of range index");if(ve>=Re&&I>=ae)return 0;if(ve>=Re)return-1;if(I>=ae)return 1;if(I>>>=0,ae>>>=0,ve>>>=0,Re>>>=0,this===_)return 0;let Fe=Re-ve,gt=ae-I;const pt=Math.min(Fe,gt),ot=this.slice(ve,Re),At=_.slice(I,ae);for(let Et=0;Et<pt;++Et)if(ot[Et]!==At[Et]){Fe=ot[Et],gt=At[Et];break}return Fe<gt?-1:gt<Fe?1:0};function K(z,_,I,ae,ve){if(z.length===0)return-1;if(typeof I=="string"?(ae=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),I=+I,We(I)&&(I=ve?0:z.length-1),I<0&&(I=z.length+I),I>=z.length){if(ve)return-1;I=z.length-1}else if(I<0)if(ve)I=0;else return-1;if(typeof _=="string"&&(_=h.from(_,ae)),h.isBuffer(_))return _.length===0?-1:P(z,_,I,ae,ve);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?ve?Uint8Array.prototype.indexOf.call(z,_,I):Uint8Array.prototype.lastIndexOf.call(z,_,I):P(z,[_],I,ae,ve);throw new TypeError("val must be string, number or Buffer")}function P(z,_,I,ae,ve){let Re=1,Fe=z.length,gt=_.length;if(ae!==void 0&&(ae=String(ae).toLowerCase(),ae==="ucs2"||ae==="ucs-2"||ae==="utf16le"||ae==="utf-16le")){if(z.length<2||_.length<2)return-1;Re=2,Fe/=2,gt/=2,I/=2}function pt(At,Et){return Re===1?At[Et]:At.readUInt16BE(Et*Re)}let ot;if(ve){let At=-1;for(ot=I;ot<Fe;ot++)if(pt(z,ot)===pt(_,At===-1?0:ot-At)){if(At===-1&&(At=ot),ot-At+1===gt)return At*Re}else At!==-1&&(ot-=ot-At),At=-1}else for(I+gt>Fe&&(I=Fe-gt),ot=I;ot>=0;ot--){let At=!0;for(let Et=0;Et<gt;Et++)if(pt(z,ot+Et)!==pt(_,Et)){At=!1;break}if(At)return ot}return-1}h.prototype.includes=function(_,I,ae){return this.indexOf(_,I,ae)!==-1},h.prototype.indexOf=function(_,I,ae){return K(this,_,I,ae,!0)},h.prototype.lastIndexOf=function(_,I,ae){return K(this,_,I,ae,!1)};function M(z,_,I,ae){I=Number(I)||0;const ve=z.length-I;ae?(ae=Number(ae),ae>ve&&(ae=ve)):ae=ve;const Re=_.length;ae>Re/2&&(ae=Re/2);let Fe;for(Fe=0;Fe<ae;++Fe){const gt=parseInt(_.substr(Fe*2,2),16);if(We(gt))return Fe;z[I+Fe]=gt}return Fe}function H(z,_,I,ae){return Be(we(_,z.length-I),z,I,ae)}function A(z,_,I,ae){return Be(ke(_),z,I,ae)}function y(z,_,I,ae){return Be(Se(_),z,I,ae)}function x(z,_,I,ae){return Be(Me(_,z.length-I),z,I,ae)}h.prototype.write=function(_,I,ae,ve){if(I===void 0)ve="utf8",ae=this.length,I=0;else if(ae===void 0&&typeof I=="string")ve=I,ae=this.length,I=0;else if(isFinite(I))I=I>>>0,isFinite(ae)?(ae=ae>>>0,ve===void 0&&(ve="utf8")):(ve=ae,ae=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Re=this.length-I;if((ae===void 0||ae>Re)&&(ae=Re),_.length>0&&(ae<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");ve||(ve="utf8");let Fe=!1;for(;;)switch(ve){case"hex":return M(this,_,I,ae);case"utf8":case"utf-8":return H(this,_,I,ae);case"ascii":case"latin1":case"binary":return A(this,_,I,ae);case"base64":return y(this,_,I,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,_,I,ae);default:if(Fe)throw new TypeError("Unknown encoding: "+ve);ve=(""+ve).toLowerCase(),Fe=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(z,_,I){return _===0&&I===z.length?e.fromByteArray(z):e.fromByteArray(z.slice(_,I))}function $(z,_,I){I=Math.min(z.length,I);const ae=[];let ve=_;for(;ve<I;){const Re=z[ve];let Fe=null,gt=Re>239?4:Re>223?3:Re>191?2:1;if(ve+gt<=I){let pt,ot,At,Et;switch(gt){case 1:Re<128&&(Fe=Re);break;case 2:pt=z[ve+1],(pt&192)===128&&(Et=(Re&31)<<6|pt&63,Et>127&&(Fe=Et));break;case 3:pt=z[ve+1],ot=z[ve+2],(pt&192)===128&&(ot&192)===128&&(Et=(Re&15)<<12|(pt&63)<<6|ot&63,Et>2047&&(Et<55296||Et>57343)&&(Fe=Et));break;case 4:pt=z[ve+1],ot=z[ve+2],At=z[ve+3],(pt&192)===128&&(ot&192)===128&&(At&192)===128&&(Et=(Re&15)<<18|(pt&63)<<12|(ot&63)<<6|At&63,Et>65535&&Et<1114112&&(Fe=Et))}}Fe===null?(Fe=65533,gt=1):Fe>65535&&(Fe-=65536,ae.push(Fe>>>10&1023|55296),Fe=56320|Fe&1023),ae.push(Fe),ve+=gt}return W(ae)}const ee=4096;function W(z){const _=z.length;if(_<=ee)return String.fromCharCode.apply(String,z);let I="",ae=0;for(;ae<_;)I+=String.fromCharCode.apply(String,z.slice(ae,ae+=ee));return I}function le(z,_,I){let ae="";I=Math.min(z.length,I);for(let ve=_;ve<I;++ve)ae+=String.fromCharCode(z[ve]&127);return ae}function Q(z,_,I){let ae="";I=Math.min(z.length,I);for(let ve=_;ve<I;++ve)ae+=String.fromCharCode(z[ve]);return ae}function T(z,_,I){const ae=z.length;(!_||_<0)&&(_=0),(!I||I<0||I>ae)&&(I=ae);let ve="";for(let Re=_;Re<I;++Re)ve+=lt[z[Re]];return ve}function se(z,_,I){const ae=z.slice(_,I);let ve="";for(let Re=0;Re<ae.length-1;Re+=2)ve+=String.fromCharCode(ae[Re]+ae[Re+1]*256);return ve}h.prototype.slice=function(_,I){const ae=this.length;_=~~_,I=I===void 0?ae:~~I,_<0?(_+=ae,_<0&&(_=0)):_>ae&&(_=ae),I<0?(I+=ae,I<0&&(I=0)):I>ae&&(I=ae),I<_&&(I=_);const ve=this.subarray(_,I);return Object.setPrototypeOf(ve,h.prototype),ve};function ie(z,_,I){if(z%1!==0||z<0)throw new RangeError("offset is not uint");if(z+_>I)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(_,I,ae){_=_>>>0,I=I>>>0,ae||ie(_,I,this.length);let ve=this[_],Re=1,Fe=0;for(;++Fe<I&&(Re*=256);)ve+=this[_+Fe]*Re;return ve},h.prototype.readUintBE=h.prototype.readUIntBE=function(_,I,ae){_=_>>>0,I=I>>>0,ae||ie(_,I,this.length);let ve=this[_+--I],Re=1;for(;I>0&&(Re*=256);)ve+=this[_+--I]*Re;return ve},h.prototype.readUint8=h.prototype.readUInt8=function(_,I){return _=_>>>0,I||ie(_,1,this.length),this[_]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(_,I){return _=_>>>0,I||ie(_,2,this.length),this[_]|this[_+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(_,I){return _=_>>>0,I||ie(_,2,this.length),this[_]<<8|this[_+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(_,I){return _=_>>>0,I||ie(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(_,I){return _=_>>>0,I||ie(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},h.prototype.readBigUInt64LE=_t(function(_){_=_>>>0,Ne(_,"offset");const I=this[_],ae=this[_+7];(I===void 0||ae===void 0)&&de(_,this.length-8);const ve=I+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,Re=this[++_]+this[++_]*2**8+this[++_]*2**16+ae*2**24;return BigInt(ve)+(BigInt(Re)<<BigInt(32))}),h.prototype.readBigUInt64BE=_t(function(_){_=_>>>0,Ne(_,"offset");const I=this[_],ae=this[_+7];(I===void 0||ae===void 0)&&de(_,this.length-8);const ve=I*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],Re=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+ae;return(BigInt(ve)<<BigInt(32))+BigInt(Re)}),h.prototype.readIntLE=function(_,I,ae){_=_>>>0,I=I>>>0,ae||ie(_,I,this.length);let ve=this[_],Re=1,Fe=0;for(;++Fe<I&&(Re*=256);)ve+=this[_+Fe]*Re;return Re*=128,ve>=Re&&(ve-=Math.pow(2,8*I)),ve},h.prototype.readIntBE=function(_,I,ae){_=_>>>0,I=I>>>0,ae||ie(_,I,this.length);let ve=I,Re=1,Fe=this[_+--ve];for(;ve>0&&(Re*=256);)Fe+=this[_+--ve]*Re;return Re*=128,Fe>=Re&&(Fe-=Math.pow(2,8*I)),Fe},h.prototype.readInt8=function(_,I){return _=_>>>0,I||ie(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},h.prototype.readInt16LE=function(_,I){_=_>>>0,I||ie(_,2,this.length);const ae=this[_]|this[_+1]<<8;return ae&32768?ae|4294901760:ae},h.prototype.readInt16BE=function(_,I){_=_>>>0,I||ie(_,2,this.length);const ae=this[_+1]|this[_]<<8;return ae&32768?ae|4294901760:ae},h.prototype.readInt32LE=function(_,I){return _=_>>>0,I||ie(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},h.prototype.readInt32BE=function(_,I){return _=_>>>0,I||ie(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},h.prototype.readBigInt64LE=_t(function(_){_=_>>>0,Ne(_,"offset");const I=this[_],ae=this[_+7];(I===void 0||ae===void 0)&&de(_,this.length-8);const ve=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(ae<<24);return(BigInt(ve)<<BigInt(32))+BigInt(I+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)}),h.prototype.readBigInt64BE=_t(function(_){_=_>>>0,Ne(_,"offset");const I=this[_],ae=this[_+7];(I===void 0||ae===void 0)&&de(_,this.length-8);const ve=(I<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(ve)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+ae)}),h.prototype.readFloatLE=function(_,I){return _=_>>>0,I||ie(_,4,this.length),t.read(this,_,!0,23,4)},h.prototype.readFloatBE=function(_,I){return _=_>>>0,I||ie(_,4,this.length),t.read(this,_,!1,23,4)},h.prototype.readDoubleLE=function(_,I){return _=_>>>0,I||ie(_,8,this.length),t.read(this,_,!0,52,8)},h.prototype.readDoubleBE=function(_,I){return _=_>>>0,I||ie(_,8,this.length),t.read(this,_,!1,52,8)};function ue(z,_,I,ae,ve,Re){if(!h.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>ve||_<Re)throw new RangeError('"value" argument is out of bounds');if(I+ae>z.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(_,I,ae,ve){if(_=+_,I=I>>>0,ae=ae>>>0,!ve){const gt=Math.pow(2,8*ae)-1;ue(this,_,I,ae,gt,0)}let Re=1,Fe=0;for(this[I]=_&255;++Fe<ae&&(Re*=256);)this[I+Fe]=_/Re&255;return I+ae},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(_,I,ae,ve){if(_=+_,I=I>>>0,ae=ae>>>0,!ve){const gt=Math.pow(2,8*ae)-1;ue(this,_,I,ae,gt,0)}let Re=ae-1,Fe=1;for(this[I+Re]=_&255;--Re>=0&&(Fe*=256);)this[I+Re]=_/Fe&255;return I+ae},h.prototype.writeUint8=h.prototype.writeUInt8=function(_,I,ae){return _=+_,I=I>>>0,ae||ue(this,_,I,1,255,0),this[I]=_&255,I+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(_,I,ae){return _=+_,I=I>>>0,ae||ue(this,_,I,2,65535,0),this[I]=_&255,this[I+1]=_>>>8,I+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(_,I,ae){return _=+_,I=I>>>0,ae||ue(this,_,I,2,65535,0),this[I]=_>>>8,this[I+1]=_&255,I+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(_,I,ae){return _=+_,I=I>>>0,ae||ue(this,_,I,4,4294967295,0),this[I+3]=_>>>24,this[I+2]=_>>>16,this[I+1]=_>>>8,this[I]=_&255,I+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(_,I,ae){return _=+_,I=I>>>0,ae||ue(this,_,I,4,4294967295,0),this[I]=_>>>24,this[I+1]=_>>>16,this[I+2]=_>>>8,this[I+3]=_&255,I+4};function _e(z,_,I,ae,ve){ce(_,ae,ve,z,I,7);let Re=Number(_&BigInt(4294967295));z[I++]=Re,Re=Re>>8,z[I++]=Re,Re=Re>>8,z[I++]=Re,Re=Re>>8,z[I++]=Re;let Fe=Number(_>>BigInt(32)&BigInt(4294967295));return z[I++]=Fe,Fe=Fe>>8,z[I++]=Fe,Fe=Fe>>8,z[I++]=Fe,Fe=Fe>>8,z[I++]=Fe,I}function me(z,_,I,ae,ve){ce(_,ae,ve,z,I,7);let Re=Number(_&BigInt(4294967295));z[I+7]=Re,Re=Re>>8,z[I+6]=Re,Re=Re>>8,z[I+5]=Re,Re=Re>>8,z[I+4]=Re;let Fe=Number(_>>BigInt(32)&BigInt(4294967295));return z[I+3]=Fe,Fe=Fe>>8,z[I+2]=Fe,Fe=Fe>>8,z[I+1]=Fe,Fe=Fe>>8,z[I]=Fe,I+8}h.prototype.writeBigUInt64LE=_t(function(_,I=0){return _e(this,_,I,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=_t(function(_,I=0){return me(this,_,I,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(_,I,ae,ve){if(_=+_,I=I>>>0,!ve){const pt=Math.pow(2,8*ae-1);ue(this,_,I,ae,pt-1,-pt)}let Re=0,Fe=1,gt=0;for(this[I]=_&255;++Re<ae&&(Fe*=256);)_<0&&gt===0&&this[I+Re-1]!==0&&(gt=1),this[I+Re]=(_/Fe>>0)-gt&255;return I+ae},h.prototype.writeIntBE=function(_,I,ae,ve){if(_=+_,I=I>>>0,!ve){const pt=Math.pow(2,8*ae-1);ue(this,_,I,ae,pt-1,-pt)}let Re=ae-1,Fe=1,gt=0;for(this[I+Re]=_&255;--Re>=0&&(Fe*=256);)_<0&&gt===0&&this[I+Re+1]!==0&&(gt=1),this[I+Re]=(_/Fe>>0)-gt&255;return I+ae},h.prototype.writeInt8=function(_,I,ae){return _=+_,I=I>>>0,ae||ue(this,_,I,1,127,-128),_<0&&(_=255+_+1),this[I]=_&255,I+1},h.prototype.writeInt16LE=function(_,I,ae){return _=+_,I=I>>>0,ae||ue(this,_,I,2,32767,-32768),this[I]=_&255,this[I+1]=_>>>8,I+2},h.prototype.writeInt16BE=function(_,I,ae){return _=+_,I=I>>>0,ae||ue(this,_,I,2,32767,-32768),this[I]=_>>>8,this[I+1]=_&255,I+2},h.prototype.writeInt32LE=function(_,I,ae){return _=+_,I=I>>>0,ae||ue(this,_,I,4,2147483647,-2147483648),this[I]=_&255,this[I+1]=_>>>8,this[I+2]=_>>>16,this[I+3]=_>>>24,I+4},h.prototype.writeInt32BE=function(_,I,ae){return _=+_,I=I>>>0,ae||ue(this,_,I,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[I]=_>>>24,this[I+1]=_>>>16,this[I+2]=_>>>8,this[I+3]=_&255,I+4},h.prototype.writeBigInt64LE=_t(function(_,I=0){return _e(this,_,I,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=_t(function(_,I=0){return me(this,_,I,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function O(z,_,I,ae,ve,Re){if(I+ae>z.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function Ae(z,_,I,ae,ve){return _=+_,I=I>>>0,ve||O(z,_,I,4),t.write(z,_,I,ae,23,4),I+4}h.prototype.writeFloatLE=function(_,I,ae){return Ae(this,_,I,!0,ae)},h.prototype.writeFloatBE=function(_,I,ae){return Ae(this,_,I,!1,ae)};function Pe(z,_,I,ae,ve){return _=+_,I=I>>>0,ve||O(z,_,I,8),t.write(z,_,I,ae,52,8),I+8}h.prototype.writeDoubleLE=function(_,I,ae){return Pe(this,_,I,!0,ae)},h.prototype.writeDoubleBE=function(_,I,ae){return Pe(this,_,I,!1,ae)},h.prototype.copy=function(_,I,ae,ve){if(!h.isBuffer(_))throw new TypeError("argument should be a Buffer");if(ae||(ae=0),!ve&&ve!==0&&(ve=this.length),I>=_.length&&(I=_.length),I||(I=0),ve>0&&ve<ae&&(ve=ae),ve===ae||_.length===0||this.length===0)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if(ae<0||ae>=this.length)throw new RangeError("Index out of range");if(ve<0)throw new RangeError("sourceEnd out of bounds");ve>this.length&&(ve=this.length),_.length-I<ve-ae&&(ve=_.length-I+ae);const Re=ve-ae;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(I,ae,ve):Uint8Array.prototype.set.call(_,this.subarray(ae,ve),I),Re},h.prototype.fill=function(_,I,ae,ve){if(typeof _=="string"){if(typeof I=="string"?(ve=I,I=0,ae=this.length):typeof ae=="string"&&(ve=ae,ae=this.length),ve!==void 0&&typeof ve!="string")throw new TypeError("encoding must be a string");if(typeof ve=="string"&&!h.isEncoding(ve))throw new TypeError("Unknown encoding: "+ve);if(_.length===1){const Fe=_.charCodeAt(0);(ve==="utf8"&&Fe<128||ve==="latin1")&&(_=Fe)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(I<0||this.length<I||this.length<ae)throw new RangeError("Out of range index");if(ae<=I)return this;I=I>>>0,ae=ae===void 0?this.length:ae>>>0,_||(_=0);let Re;if(typeof _=="number")for(Re=I;Re<ae;++Re)this[Re]=_;else{const Fe=h.isBuffer(_)?_:h.from(_,ve),gt=Fe.length;if(gt===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(Re=0;Re<ae-I;++Re)this[Re+I]=Fe[Re%gt]}return this};const ge={};function be(z,_,I){ge[z]=class extends I{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${z}]`,this.stack,delete this.name}get code(){return z}set code(ve){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ve,writable:!0})}toString(){return`${this.name} [${z}]: ${this.message}`}}}be("ERR_BUFFER_OUT_OF_BOUNDS",function(z){return z?`${z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),be("ERR_INVALID_ARG_TYPE",function(z,_){return`The "${z}" argument must be of type number. Received type ${typeof _}`},TypeError),be("ERR_OUT_OF_RANGE",function(z,_,I){let ae=`The value of "${z}" is out of range.`,ve=I;return Number.isInteger(I)&&Math.abs(I)>2**32?ve=L(String(I)):typeof I=="bigint"&&(ve=String(I),(I>BigInt(2)**BigInt(32)||I<-(BigInt(2)**BigInt(32)))&&(ve=L(ve)),ve+="n"),ae+=` It must be ${_}. Received ${ve}`,ae},RangeError);function L(z){let _="",I=z.length;const ae=z[0]==="-"?1:0;for(;I>=ae+4;I-=3)_=`_${z.slice(I-3,I)}${_}`;return`${z.slice(0,I)}${_}`}function J(z,_,I){Ne(_,"offset"),(z[_]===void 0||z[_+I]===void 0)&&de(_,z.length-(I+1))}function ce(z,_,I,ae,ve,Re){if(z>I||z<_){const Fe=typeof _=="bigint"?"n":"";let gt;throw _===0||_===BigInt(0)?gt=`>= 0${Fe} and < 2${Fe} ** ${(Re+1)*8}${Fe}`:gt=`>= -(2${Fe} ** ${(Re+1)*8-1}${Fe}) and < 2 ** ${(Re+1)*8-1}${Fe}`,new ge.ERR_OUT_OF_RANGE("value",gt,z)}J(ae,ve,Re)}function Ne(z,_){if(typeof z!="number")throw new ge.ERR_INVALID_ARG_TYPE(_,"number",z)}function de(z,_,I){throw Math.floor(z)!==z?(Ne(z,I),new ge.ERR_OUT_OF_RANGE("offset","an integer",z)):_<0?new ge.ERR_BUFFER_OUT_OF_BOUNDS:new ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${_}`,z)}const xe=/[^+/0-9A-Za-z-_]/g;function Ve(z){if(z=z.split("=")[0],z=z.trim().replace(xe,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function we(z,_){_=_||1/0;let I;const ae=z.length;let ve=null;const Re=[];for(let Fe=0;Fe<ae;++Fe){if(I=z.charCodeAt(Fe),I>55295&&I<57344){if(!ve){if(I>56319){(_-=3)>-1&&Re.push(239,191,189);continue}else if(Fe+1===ae){(_-=3)>-1&&Re.push(239,191,189);continue}ve=I;continue}if(I<56320){(_-=3)>-1&&Re.push(239,191,189),ve=I;continue}I=(ve-55296<<10|I-56320)+65536}else ve&&(_-=3)>-1&&Re.push(239,191,189);if(ve=null,I<128){if((_-=1)<0)break;Re.push(I)}else if(I<2048){if((_-=2)<0)break;Re.push(I>>6|192,I&63|128)}else if(I<65536){if((_-=3)<0)break;Re.push(I>>12|224,I>>6&63|128,I&63|128)}else if(I<1114112){if((_-=4)<0)break;Re.push(I>>18|240,I>>12&63|128,I>>6&63|128,I&63|128)}else throw new Error("Invalid code point")}return Re}function ke(z){const _=[];for(let I=0;I<z.length;++I)_.push(z.charCodeAt(I)&255);return _}function Me(z,_){let I,ae,ve;const Re=[];for(let Fe=0;Fe<z.length&&!((_-=2)<0);++Fe)I=z.charCodeAt(Fe),ae=I>>8,ve=I%256,Re.push(ve),Re.push(ae);return Re}function Se(z){return e.toByteArray(Ve(z))}function Be(z,_,I,ae){let ve;for(ve=0;ve<ae&&!(ve+I>=_.length||ve>=z.length);++ve)_[ve+I]=z[ve];return ve}function Xe(z,_){return z instanceof _||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===_.name}function We(z){return z!==z}const lt=(function(){const z="0123456789abcdef",_=new Array(256);for(let I=0;I<16;++I){const ae=I*16;for(let ve=0;ve<16;++ve)_[ae+ve]=z[I]+z[ve]}return _})();function _t(z){return typeof BigInt>"u"?Nt:z}function Nt(){throw new Error("BigInt not supported")}})(Ex)),Ex}var TC=RL();function NL(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var bx={exports:{}};const DL={},ML=Object.freeze(Object.defineProperty({__proto__:null,default:DL},Symbol.toStringTag,{value:"Module"})),kC=r4(ML);var Qk;function FL(){return Qk||(Qk=1,(function(n){(function(e){var t=function(F){var Y,X=new Float64Array(16);if(F)for(Y=0;Y<F.length;Y++)X[Y]=F[Y];return X},r=function(){throw new Error("no PRNG")},s=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var l=t(),h=t([1]),p=t([56129,1]),f=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),v=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),S=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),C=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),R=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function B(F,Y,X,b){F[Y]=X>>24&255,F[Y+1]=X>>16&255,F[Y+2]=X>>8&255,F[Y+3]=X&255,F[Y+4]=b>>24&255,F[Y+5]=b>>16&255,F[Y+6]=b>>8&255,F[Y+7]=b&255}function re(F,Y,X,b,te){var De,Te=0;for(De=0;De<te;De++)Te|=F[Y+De]^X[b+De];return(1&Te-1>>>8)-1}function N(F,Y,X,b){return re(F,Y,X,b,16)}function U(F,Y,X,b){return re(F,Y,X,b,32)}function q(F,Y,X,b){for(var te=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,De=X[0]&255|(X[1]&255)<<8|(X[2]&255)<<16|(X[3]&255)<<24,Te=X[4]&255|(X[5]&255)<<8|(X[6]&255)<<16|(X[7]&255)<<24,ze=X[8]&255|(X[9]&255)<<8|(X[10]&255)<<16|(X[11]&255)<<24,ct=X[12]&255|(X[13]&255)<<8|(X[14]&255)<<16|(X[15]&255)<<24,kt=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,wt=Y[0]&255|(Y[1]&255)<<8|(Y[2]&255)<<16|(Y[3]&255)<<24,on=Y[4]&255|(Y[5]&255)<<8|(Y[6]&255)<<16|(Y[7]&255)<<24,bt=Y[8]&255|(Y[9]&255)<<8|(Y[10]&255)<<16|(Y[11]&255)<<24,Ot=Y[12]&255|(Y[13]&255)<<8|(Y[14]&255)<<16|(Y[15]&255)<<24,Lt=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24,zt=X[16]&255|(X[17]&255)<<8|(X[18]&255)<<16|(X[19]&255)<<24,Ht=X[20]&255|(X[21]&255)<<8|(X[22]&255)<<16|(X[23]&255)<<24,Bt=X[24]&255|(X[25]&255)<<8|(X[26]&255)<<16|(X[27]&255)<<24,Gt=X[28]&255|(X[29]&255)<<8|(X[30]&255)<<16|(X[31]&255)<<24,Dt=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24,It=te,Pt=De,vt=Te,Tt=ze,Rt=ct,xt=kt,$e=wt,Ge=on,ut=bt,Ze=Ot,Qe=Lt,st=zt,qt=Ht,nn=Bt,Mt=Gt,en=Dt,fe,cn=0;cn<20;cn+=2)fe=It+qt|0,Rt^=fe<<7|fe>>>25,fe=Rt+It|0,ut^=fe<<9|fe>>>23,fe=ut+Rt|0,qt^=fe<<13|fe>>>19,fe=qt+ut|0,It^=fe<<18|fe>>>14,fe=xt+Pt|0,Ze^=fe<<7|fe>>>25,fe=Ze+xt|0,nn^=fe<<9|fe>>>23,fe=nn+Ze|0,Pt^=fe<<13|fe>>>19,fe=Pt+nn|0,xt^=fe<<18|fe>>>14,fe=Qe+$e|0,Mt^=fe<<7|fe>>>25,fe=Mt+Qe|0,vt^=fe<<9|fe>>>23,fe=vt+Mt|0,$e^=fe<<13|fe>>>19,fe=$e+vt|0,Qe^=fe<<18|fe>>>14,fe=en+st|0,Tt^=fe<<7|fe>>>25,fe=Tt+en|0,Ge^=fe<<9|fe>>>23,fe=Ge+Tt|0,st^=fe<<13|fe>>>19,fe=st+Ge|0,en^=fe<<18|fe>>>14,fe=It+Tt|0,Pt^=fe<<7|fe>>>25,fe=Pt+It|0,vt^=fe<<9|fe>>>23,fe=vt+Pt|0,Tt^=fe<<13|fe>>>19,fe=Tt+vt|0,It^=fe<<18|fe>>>14,fe=xt+Rt|0,$e^=fe<<7|fe>>>25,fe=$e+xt|0,Ge^=fe<<9|fe>>>23,fe=Ge+$e|0,Rt^=fe<<13|fe>>>19,fe=Rt+Ge|0,xt^=fe<<18|fe>>>14,fe=Qe+Ze|0,st^=fe<<7|fe>>>25,fe=st+Qe|0,ut^=fe<<9|fe>>>23,fe=ut+st|0,Ze^=fe<<13|fe>>>19,fe=Ze+ut|0,Qe^=fe<<18|fe>>>14,fe=en+Mt|0,qt^=fe<<7|fe>>>25,fe=qt+en|0,nn^=fe<<9|fe>>>23,fe=nn+qt|0,Mt^=fe<<13|fe>>>19,fe=Mt+nn|0,en^=fe<<18|fe>>>14;It=It+te|0,Pt=Pt+De|0,vt=vt+Te|0,Tt=Tt+ze|0,Rt=Rt+ct|0,xt=xt+kt|0,$e=$e+wt|0,Ge=Ge+on|0,ut=ut+bt|0,Ze=Ze+Ot|0,Qe=Qe+Lt|0,st=st+zt|0,qt=qt+Ht|0,nn=nn+Bt|0,Mt=Mt+Gt|0,en=en+Dt|0,F[0]=It>>>0&255,F[1]=It>>>8&255,F[2]=It>>>16&255,F[3]=It>>>24&255,F[4]=Pt>>>0&255,F[5]=Pt>>>8&255,F[6]=Pt>>>16&255,F[7]=Pt>>>24&255,F[8]=vt>>>0&255,F[9]=vt>>>8&255,F[10]=vt>>>16&255,F[11]=vt>>>24&255,F[12]=Tt>>>0&255,F[13]=Tt>>>8&255,F[14]=Tt>>>16&255,F[15]=Tt>>>24&255,F[16]=Rt>>>0&255,F[17]=Rt>>>8&255,F[18]=Rt>>>16&255,F[19]=Rt>>>24&255,F[20]=xt>>>0&255,F[21]=xt>>>8&255,F[22]=xt>>>16&255,F[23]=xt>>>24&255,F[24]=$e>>>0&255,F[25]=$e>>>8&255,F[26]=$e>>>16&255,F[27]=$e>>>24&255,F[28]=Ge>>>0&255,F[29]=Ge>>>8&255,F[30]=Ge>>>16&255,F[31]=Ge>>>24&255,F[32]=ut>>>0&255,F[33]=ut>>>8&255,F[34]=ut>>>16&255,F[35]=ut>>>24&255,F[36]=Ze>>>0&255,F[37]=Ze>>>8&255,F[38]=Ze>>>16&255,F[39]=Ze>>>24&255,F[40]=Qe>>>0&255,F[41]=Qe>>>8&255,F[42]=Qe>>>16&255,F[43]=Qe>>>24&255,F[44]=st>>>0&255,F[45]=st>>>8&255,F[46]=st>>>16&255,F[47]=st>>>24&255,F[48]=qt>>>0&255,F[49]=qt>>>8&255,F[50]=qt>>>16&255,F[51]=qt>>>24&255,F[52]=nn>>>0&255,F[53]=nn>>>8&255,F[54]=nn>>>16&255,F[55]=nn>>>24&255,F[56]=Mt>>>0&255,F[57]=Mt>>>8&255,F[58]=Mt>>>16&255,F[59]=Mt>>>24&255,F[60]=en>>>0&255,F[61]=en>>>8&255,F[62]=en>>>16&255,F[63]=en>>>24&255}function G(F,Y,X,b){for(var te=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,De=X[0]&255|(X[1]&255)<<8|(X[2]&255)<<16|(X[3]&255)<<24,Te=X[4]&255|(X[5]&255)<<8|(X[6]&255)<<16|(X[7]&255)<<24,ze=X[8]&255|(X[9]&255)<<8|(X[10]&255)<<16|(X[11]&255)<<24,ct=X[12]&255|(X[13]&255)<<8|(X[14]&255)<<16|(X[15]&255)<<24,kt=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,wt=Y[0]&255|(Y[1]&255)<<8|(Y[2]&255)<<16|(Y[3]&255)<<24,on=Y[4]&255|(Y[5]&255)<<8|(Y[6]&255)<<16|(Y[7]&255)<<24,bt=Y[8]&255|(Y[9]&255)<<8|(Y[10]&255)<<16|(Y[11]&255)<<24,Ot=Y[12]&255|(Y[13]&255)<<8|(Y[14]&255)<<16|(Y[15]&255)<<24,Lt=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24,zt=X[16]&255|(X[17]&255)<<8|(X[18]&255)<<16|(X[19]&255)<<24,Ht=X[20]&255|(X[21]&255)<<8|(X[22]&255)<<16|(X[23]&255)<<24,Bt=X[24]&255|(X[25]&255)<<8|(X[26]&255)<<16|(X[27]&255)<<24,Gt=X[28]&255|(X[29]&255)<<8|(X[30]&255)<<16|(X[31]&255)<<24,Dt=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24,It=te,Pt=De,vt=Te,Tt=ze,Rt=ct,xt=kt,$e=wt,Ge=on,ut=bt,Ze=Ot,Qe=Lt,st=zt,qt=Ht,nn=Bt,Mt=Gt,en=Dt,fe,cn=0;cn<20;cn+=2)fe=It+qt|0,Rt^=fe<<7|fe>>>25,fe=Rt+It|0,ut^=fe<<9|fe>>>23,fe=ut+Rt|0,qt^=fe<<13|fe>>>19,fe=qt+ut|0,It^=fe<<18|fe>>>14,fe=xt+Pt|0,Ze^=fe<<7|fe>>>25,fe=Ze+xt|0,nn^=fe<<9|fe>>>23,fe=nn+Ze|0,Pt^=fe<<13|fe>>>19,fe=Pt+nn|0,xt^=fe<<18|fe>>>14,fe=Qe+$e|0,Mt^=fe<<7|fe>>>25,fe=Mt+Qe|0,vt^=fe<<9|fe>>>23,fe=vt+Mt|0,$e^=fe<<13|fe>>>19,fe=$e+vt|0,Qe^=fe<<18|fe>>>14,fe=en+st|0,Tt^=fe<<7|fe>>>25,fe=Tt+en|0,Ge^=fe<<9|fe>>>23,fe=Ge+Tt|0,st^=fe<<13|fe>>>19,fe=st+Ge|0,en^=fe<<18|fe>>>14,fe=It+Tt|0,Pt^=fe<<7|fe>>>25,fe=Pt+It|0,vt^=fe<<9|fe>>>23,fe=vt+Pt|0,Tt^=fe<<13|fe>>>19,fe=Tt+vt|0,It^=fe<<18|fe>>>14,fe=xt+Rt|0,$e^=fe<<7|fe>>>25,fe=$e+xt|0,Ge^=fe<<9|fe>>>23,fe=Ge+$e|0,Rt^=fe<<13|fe>>>19,fe=Rt+Ge|0,xt^=fe<<18|fe>>>14,fe=Qe+Ze|0,st^=fe<<7|fe>>>25,fe=st+Qe|0,ut^=fe<<9|fe>>>23,fe=ut+st|0,Ze^=fe<<13|fe>>>19,fe=Ze+ut|0,Qe^=fe<<18|fe>>>14,fe=en+Mt|0,qt^=fe<<7|fe>>>25,fe=qt+en|0,nn^=fe<<9|fe>>>23,fe=nn+qt|0,Mt^=fe<<13|fe>>>19,fe=Mt+nn|0,en^=fe<<18|fe>>>14;F[0]=It>>>0&255,F[1]=It>>>8&255,F[2]=It>>>16&255,F[3]=It>>>24&255,F[4]=xt>>>0&255,F[5]=xt>>>8&255,F[6]=xt>>>16&255,F[7]=xt>>>24&255,F[8]=Qe>>>0&255,F[9]=Qe>>>8&255,F[10]=Qe>>>16&255,F[11]=Qe>>>24&255,F[12]=en>>>0&255,F[13]=en>>>8&255,F[14]=en>>>16&255,F[15]=en>>>24&255,F[16]=$e>>>0&255,F[17]=$e>>>8&255,F[18]=$e>>>16&255,F[19]=$e>>>24&255,F[20]=Ge>>>0&255,F[21]=Ge>>>8&255,F[22]=Ge>>>16&255,F[23]=Ge>>>24&255,F[24]=ut>>>0&255,F[25]=ut>>>8&255,F[26]=ut>>>16&255,F[27]=ut>>>24&255,F[28]=Ze>>>0&255,F[29]=Ze>>>8&255,F[30]=Ze>>>16&255,F[31]=Ze>>>24&255}function he(F,Y,X,b){q(F,Y,X,b)}function pe(F,Y,X,b){G(F,Y,X,b)}var K=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function P(F,Y,X,b,te,De,Te){var ze=new Uint8Array(16),ct=new Uint8Array(64),kt,wt;for(wt=0;wt<16;wt++)ze[wt]=0;for(wt=0;wt<8;wt++)ze[wt]=De[wt];for(;te>=64;){for(he(ct,ze,Te,K),wt=0;wt<64;wt++)F[Y+wt]=X[b+wt]^ct[wt];for(kt=1,wt=8;wt<16;wt++)kt=kt+(ze[wt]&255)|0,ze[wt]=kt&255,kt>>>=8;te-=64,Y+=64,b+=64}if(te>0)for(he(ct,ze,Te,K),wt=0;wt<te;wt++)F[Y+wt]=X[b+wt]^ct[wt];return 0}function M(F,Y,X,b,te){var De=new Uint8Array(16),Te=new Uint8Array(64),ze,ct;for(ct=0;ct<16;ct++)De[ct]=0;for(ct=0;ct<8;ct++)De[ct]=b[ct];for(;X>=64;){for(he(Te,De,te,K),ct=0;ct<64;ct++)F[Y+ct]=Te[ct];for(ze=1,ct=8;ct<16;ct++)ze=ze+(De[ct]&255)|0,De[ct]=ze&255,ze>>>=8;X-=64,Y+=64}if(X>0)for(he(Te,De,te,K),ct=0;ct<X;ct++)F[Y+ct]=Te[ct];return 0}function H(F,Y,X,b,te){var De=new Uint8Array(32);pe(De,b,te,K);for(var Te=new Uint8Array(8),ze=0;ze<8;ze++)Te[ze]=b[ze+16];return M(F,Y,X,Te,De)}function A(F,Y,X,b,te,De,Te){var ze=new Uint8Array(32);pe(ze,De,Te,K);for(var ct=new Uint8Array(8),kt=0;kt<8;kt++)ct[kt]=De[kt+16];return P(F,Y,X,b,te,ct,ze)}var y=function(F){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var Y,X,b,te,De,Te,ze,ct;Y=F[0]&255|(F[1]&255)<<8,this.r[0]=Y&8191,X=F[2]&255|(F[3]&255)<<8,this.r[1]=(Y>>>13|X<<3)&8191,b=F[4]&255|(F[5]&255)<<8,this.r[2]=(X>>>10|b<<6)&7939,te=F[6]&255|(F[7]&255)<<8,this.r[3]=(b>>>7|te<<9)&8191,De=F[8]&255|(F[9]&255)<<8,this.r[4]=(te>>>4|De<<12)&255,this.r[5]=De>>>1&8190,Te=F[10]&255|(F[11]&255)<<8,this.r[6]=(De>>>14|Te<<2)&8191,ze=F[12]&255|(F[13]&255)<<8,this.r[7]=(Te>>>11|ze<<5)&8065,ct=F[14]&255|(F[15]&255)<<8,this.r[8]=(ze>>>8|ct<<8)&8191,this.r[9]=ct>>>5&127,this.pad[0]=F[16]&255|(F[17]&255)<<8,this.pad[1]=F[18]&255|(F[19]&255)<<8,this.pad[2]=F[20]&255|(F[21]&255)<<8,this.pad[3]=F[22]&255|(F[23]&255)<<8,this.pad[4]=F[24]&255|(F[25]&255)<<8,this.pad[5]=F[26]&255|(F[27]&255)<<8,this.pad[6]=F[28]&255|(F[29]&255)<<8,this.pad[7]=F[30]&255|(F[31]&255)<<8};y.prototype.blocks=function(F,Y,X){for(var b=this.fin?0:2048,te,De,Te,ze,ct,kt,wt,on,bt,Ot,Lt,zt,Ht,Bt,Gt,Dt,It,Pt,vt,Tt=this.h[0],Rt=this.h[1],xt=this.h[2],$e=this.h[3],Ge=this.h[4],ut=this.h[5],Ze=this.h[6],Qe=this.h[7],st=this.h[8],qt=this.h[9],nn=this.r[0],Mt=this.r[1],en=this.r[2],fe=this.r[3],cn=this.r[4],rn=this.r[5],bn=this.r[6],dn=this.r[7],_n=this.r[8],wn=this.r[9];X>=16;)te=F[Y+0]&255|(F[Y+1]&255)<<8,Tt+=te&8191,De=F[Y+2]&255|(F[Y+3]&255)<<8,Rt+=(te>>>13|De<<3)&8191,Te=F[Y+4]&255|(F[Y+5]&255)<<8,xt+=(De>>>10|Te<<6)&8191,ze=F[Y+6]&255|(F[Y+7]&255)<<8,$e+=(Te>>>7|ze<<9)&8191,ct=F[Y+8]&255|(F[Y+9]&255)<<8,Ge+=(ze>>>4|ct<<12)&8191,ut+=ct>>>1&8191,kt=F[Y+10]&255|(F[Y+11]&255)<<8,Ze+=(ct>>>14|kt<<2)&8191,wt=F[Y+12]&255|(F[Y+13]&255)<<8,Qe+=(kt>>>11|wt<<5)&8191,on=F[Y+14]&255|(F[Y+15]&255)<<8,st+=(wt>>>8|on<<8)&8191,qt+=on>>>5|b,bt=0,Ot=bt,Ot+=Tt*nn,Ot+=Rt*(5*wn),Ot+=xt*(5*_n),Ot+=$e*(5*dn),Ot+=Ge*(5*bn),bt=Ot>>>13,Ot&=8191,Ot+=ut*(5*rn),Ot+=Ze*(5*cn),Ot+=Qe*(5*fe),Ot+=st*(5*en),Ot+=qt*(5*Mt),bt+=Ot>>>13,Ot&=8191,Lt=bt,Lt+=Tt*Mt,Lt+=Rt*nn,Lt+=xt*(5*wn),Lt+=$e*(5*_n),Lt+=Ge*(5*dn),bt=Lt>>>13,Lt&=8191,Lt+=ut*(5*bn),Lt+=Ze*(5*rn),Lt+=Qe*(5*cn),Lt+=st*(5*fe),Lt+=qt*(5*en),bt+=Lt>>>13,Lt&=8191,zt=bt,zt+=Tt*en,zt+=Rt*Mt,zt+=xt*nn,zt+=$e*(5*wn),zt+=Ge*(5*_n),bt=zt>>>13,zt&=8191,zt+=ut*(5*dn),zt+=Ze*(5*bn),zt+=Qe*(5*rn),zt+=st*(5*cn),zt+=qt*(5*fe),bt+=zt>>>13,zt&=8191,Ht=bt,Ht+=Tt*fe,Ht+=Rt*en,Ht+=xt*Mt,Ht+=$e*nn,Ht+=Ge*(5*wn),bt=Ht>>>13,Ht&=8191,Ht+=ut*(5*_n),Ht+=Ze*(5*dn),Ht+=Qe*(5*bn),Ht+=st*(5*rn),Ht+=qt*(5*cn),bt+=Ht>>>13,Ht&=8191,Bt=bt,Bt+=Tt*cn,Bt+=Rt*fe,Bt+=xt*en,Bt+=$e*Mt,Bt+=Ge*nn,bt=Bt>>>13,Bt&=8191,Bt+=ut*(5*wn),Bt+=Ze*(5*_n),Bt+=Qe*(5*dn),Bt+=st*(5*bn),Bt+=qt*(5*rn),bt+=Bt>>>13,Bt&=8191,Gt=bt,Gt+=Tt*rn,Gt+=Rt*cn,Gt+=xt*fe,Gt+=$e*en,Gt+=Ge*Mt,bt=Gt>>>13,Gt&=8191,Gt+=ut*nn,Gt+=Ze*(5*wn),Gt+=Qe*(5*_n),Gt+=st*(5*dn),Gt+=qt*(5*bn),bt+=Gt>>>13,Gt&=8191,Dt=bt,Dt+=Tt*bn,Dt+=Rt*rn,Dt+=xt*cn,Dt+=$e*fe,Dt+=Ge*en,bt=Dt>>>13,Dt&=8191,Dt+=ut*Mt,Dt+=Ze*nn,Dt+=Qe*(5*wn),Dt+=st*(5*_n),Dt+=qt*(5*dn),bt+=Dt>>>13,Dt&=8191,It=bt,It+=Tt*dn,It+=Rt*bn,It+=xt*rn,It+=$e*cn,It+=Ge*fe,bt=It>>>13,It&=8191,It+=ut*en,It+=Ze*Mt,It+=Qe*nn,It+=st*(5*wn),It+=qt*(5*_n),bt+=It>>>13,It&=8191,Pt=bt,Pt+=Tt*_n,Pt+=Rt*dn,Pt+=xt*bn,Pt+=$e*rn,Pt+=Ge*cn,bt=Pt>>>13,Pt&=8191,Pt+=ut*fe,Pt+=Ze*en,Pt+=Qe*Mt,Pt+=st*nn,Pt+=qt*(5*wn),bt+=Pt>>>13,Pt&=8191,vt=bt,vt+=Tt*wn,vt+=Rt*_n,vt+=xt*dn,vt+=$e*bn,vt+=Ge*rn,bt=vt>>>13,vt&=8191,vt+=ut*cn,vt+=Ze*fe,vt+=Qe*en,vt+=st*Mt,vt+=qt*nn,bt+=vt>>>13,vt&=8191,bt=(bt<<2)+bt|0,bt=bt+Ot|0,Ot=bt&8191,bt=bt>>>13,Lt+=bt,Tt=Ot,Rt=Lt,xt=zt,$e=Ht,Ge=Bt,ut=Gt,Ze=Dt,Qe=It,st=Pt,qt=vt,Y+=16,X-=16;this.h[0]=Tt,this.h[1]=Rt,this.h[2]=xt,this.h[3]=$e,this.h[4]=Ge,this.h[5]=ut,this.h[6]=Ze,this.h[7]=Qe,this.h[8]=st,this.h[9]=qt},y.prototype.finish=function(F,Y){var X=new Uint16Array(10),b,te,De,Te;if(this.leftover){for(Te=this.leftover,this.buffer[Te++]=1;Te<16;Te++)this.buffer[Te]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(b=this.h[1]>>>13,this.h[1]&=8191,Te=2;Te<10;Te++)this.h[Te]+=b,b=this.h[Te]>>>13,this.h[Te]&=8191;for(this.h[0]+=b*5,b=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=b,b=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=b,X[0]=this.h[0]+5,b=X[0]>>>13,X[0]&=8191,Te=1;Te<10;Te++)X[Te]=this.h[Te]+b,b=X[Te]>>>13,X[Te]&=8191;for(X[9]-=8192,te=(b^1)-1,Te=0;Te<10;Te++)X[Te]&=te;for(te=~te,Te=0;Te<10;Te++)this.h[Te]=this.h[Te]&te|X[Te];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,De=this.h[0]+this.pad[0],this.h[0]=De&65535,Te=1;Te<8;Te++)De=(this.h[Te]+this.pad[Te]|0)+(De>>>16)|0,this.h[Te]=De&65535;F[Y+0]=this.h[0]>>>0&255,F[Y+1]=this.h[0]>>>8&255,F[Y+2]=this.h[1]>>>0&255,F[Y+3]=this.h[1]>>>8&255,F[Y+4]=this.h[2]>>>0&255,F[Y+5]=this.h[2]>>>8&255,F[Y+6]=this.h[3]>>>0&255,F[Y+7]=this.h[3]>>>8&255,F[Y+8]=this.h[4]>>>0&255,F[Y+9]=this.h[4]>>>8&255,F[Y+10]=this.h[5]>>>0&255,F[Y+11]=this.h[5]>>>8&255,F[Y+12]=this.h[6]>>>0&255,F[Y+13]=this.h[6]>>>8&255,F[Y+14]=this.h[7]>>>0&255,F[Y+15]=this.h[7]>>>8&255},y.prototype.update=function(F,Y,X){var b,te;if(this.leftover){for(te=16-this.leftover,te>X&&(te=X),b=0;b<te;b++)this.buffer[this.leftover+b]=F[Y+b];if(X-=te,Y+=te,this.leftover+=te,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(X>=16&&(te=X-X%16,this.blocks(F,Y,te),Y+=te,X-=te),X){for(b=0;b<X;b++)this.buffer[this.leftover+b]=F[Y+b];this.leftover+=X}};function x(F,Y,X,b,te,De){var Te=new y(De);return Te.update(X,b,te),Te.finish(F,Y),0}function E(F,Y,X,b,te,De){var Te=new Uint8Array(16);return x(Te,0,X,b,te,De),N(F,Y,Te,0)}function $(F,Y,X,b,te){var De;if(X<32)return-1;for(A(F,0,Y,0,X,b,te),x(F,16,F,32,X-32,F),De=0;De<16;De++)F[De]=0;return 0}function ee(F,Y,X,b,te){var De,Te=new Uint8Array(32);if(X<32||(H(Te,0,32,b,te),E(Y,16,Y,32,X-32,Te)!==0))return-1;for(A(F,0,Y,0,X,b,te),De=0;De<32;De++)F[De]=0;return 0}function W(F,Y){var X;for(X=0;X<16;X++)F[X]=Y[X]|0}function le(F){var Y,X,b=1;for(Y=0;Y<16;Y++)X=F[Y]+b+65535,b=Math.floor(X/65536),F[Y]=X-b*65536;F[0]+=b-1+37*(b-1)}function Q(F,Y,X){for(var b,te=~(X-1),De=0;De<16;De++)b=te&(F[De]^Y[De]),F[De]^=b,Y[De]^=b}function T(F,Y){var X,b,te,De=t(),Te=t();for(X=0;X<16;X++)Te[X]=Y[X];for(le(Te),le(Te),le(Te),b=0;b<2;b++){for(De[0]=Te[0]-65517,X=1;X<15;X++)De[X]=Te[X]-65535-(De[X-1]>>16&1),De[X-1]&=65535;De[15]=Te[15]-32767-(De[14]>>16&1),te=De[15]>>16&1,De[14]&=65535,Q(Te,De,1-te)}for(X=0;X<16;X++)F[2*X]=Te[X]&255,F[2*X+1]=Te[X]>>8}function se(F,Y){var X=new Uint8Array(32),b=new Uint8Array(32);return T(X,F),T(b,Y),U(X,0,b,0)}function ie(F){var Y=new Uint8Array(32);return T(Y,F),Y[0]&1}function ue(F,Y){var X;for(X=0;X<16;X++)F[X]=Y[2*X]+(Y[2*X+1]<<8);F[15]&=32767}function _e(F,Y,X){for(var b=0;b<16;b++)F[b]=Y[b]+X[b]}function me(F,Y,X){for(var b=0;b<16;b++)F[b]=Y[b]-X[b]}function O(F,Y,X){var b,te,De=0,Te=0,ze=0,ct=0,kt=0,wt=0,on=0,bt=0,Ot=0,Lt=0,zt=0,Ht=0,Bt=0,Gt=0,Dt=0,It=0,Pt=0,vt=0,Tt=0,Rt=0,xt=0,$e=0,Ge=0,ut=0,Ze=0,Qe=0,st=0,qt=0,nn=0,Mt=0,en=0,fe=X[0],cn=X[1],rn=X[2],bn=X[3],dn=X[4],_n=X[5],wn=X[6],cr=X[7],Tn=X[8],kn=X[9],ir=X[10],Qn=X[11],ur=X[12],yr=X[13],Ar=X[14],hr=X[15];b=Y[0],De+=b*fe,Te+=b*cn,ze+=b*rn,ct+=b*bn,kt+=b*dn,wt+=b*_n,on+=b*wn,bt+=b*cr,Ot+=b*Tn,Lt+=b*kn,zt+=b*ir,Ht+=b*Qn,Bt+=b*ur,Gt+=b*yr,Dt+=b*Ar,It+=b*hr,b=Y[1],Te+=b*fe,ze+=b*cn,ct+=b*rn,kt+=b*bn,wt+=b*dn,on+=b*_n,bt+=b*wn,Ot+=b*cr,Lt+=b*Tn,zt+=b*kn,Ht+=b*ir,Bt+=b*Qn,Gt+=b*ur,Dt+=b*yr,It+=b*Ar,Pt+=b*hr,b=Y[2],ze+=b*fe,ct+=b*cn,kt+=b*rn,wt+=b*bn,on+=b*dn,bt+=b*_n,Ot+=b*wn,Lt+=b*cr,zt+=b*Tn,Ht+=b*kn,Bt+=b*ir,Gt+=b*Qn,Dt+=b*ur,It+=b*yr,Pt+=b*Ar,vt+=b*hr,b=Y[3],ct+=b*fe,kt+=b*cn,wt+=b*rn,on+=b*bn,bt+=b*dn,Ot+=b*_n,Lt+=b*wn,zt+=b*cr,Ht+=b*Tn,Bt+=b*kn,Gt+=b*ir,Dt+=b*Qn,It+=b*ur,Pt+=b*yr,vt+=b*Ar,Tt+=b*hr,b=Y[4],kt+=b*fe,wt+=b*cn,on+=b*rn,bt+=b*bn,Ot+=b*dn,Lt+=b*_n,zt+=b*wn,Ht+=b*cr,Bt+=b*Tn,Gt+=b*kn,Dt+=b*ir,It+=b*Qn,Pt+=b*ur,vt+=b*yr,Tt+=b*Ar,Rt+=b*hr,b=Y[5],wt+=b*fe,on+=b*cn,bt+=b*rn,Ot+=b*bn,Lt+=b*dn,zt+=b*_n,Ht+=b*wn,Bt+=b*cr,Gt+=b*Tn,Dt+=b*kn,It+=b*ir,Pt+=b*Qn,vt+=b*ur,Tt+=b*yr,Rt+=b*Ar,xt+=b*hr,b=Y[6],on+=b*fe,bt+=b*cn,Ot+=b*rn,Lt+=b*bn,zt+=b*dn,Ht+=b*_n,Bt+=b*wn,Gt+=b*cr,Dt+=b*Tn,It+=b*kn,Pt+=b*ir,vt+=b*Qn,Tt+=b*ur,Rt+=b*yr,xt+=b*Ar,$e+=b*hr,b=Y[7],bt+=b*fe,Ot+=b*cn,Lt+=b*rn,zt+=b*bn,Ht+=b*dn,Bt+=b*_n,Gt+=b*wn,Dt+=b*cr,It+=b*Tn,Pt+=b*kn,vt+=b*ir,Tt+=b*Qn,Rt+=b*ur,xt+=b*yr,$e+=b*Ar,Ge+=b*hr,b=Y[8],Ot+=b*fe,Lt+=b*cn,zt+=b*rn,Ht+=b*bn,Bt+=b*dn,Gt+=b*_n,Dt+=b*wn,It+=b*cr,Pt+=b*Tn,vt+=b*kn,Tt+=b*ir,Rt+=b*Qn,xt+=b*ur,$e+=b*yr,Ge+=b*Ar,ut+=b*hr,b=Y[9],Lt+=b*fe,zt+=b*cn,Ht+=b*rn,Bt+=b*bn,Gt+=b*dn,Dt+=b*_n,It+=b*wn,Pt+=b*cr,vt+=b*Tn,Tt+=b*kn,Rt+=b*ir,xt+=b*Qn,$e+=b*ur,Ge+=b*yr,ut+=b*Ar,Ze+=b*hr,b=Y[10],zt+=b*fe,Ht+=b*cn,Bt+=b*rn,Gt+=b*bn,Dt+=b*dn,It+=b*_n,Pt+=b*wn,vt+=b*cr,Tt+=b*Tn,Rt+=b*kn,xt+=b*ir,$e+=b*Qn,Ge+=b*ur,ut+=b*yr,Ze+=b*Ar,Qe+=b*hr,b=Y[11],Ht+=b*fe,Bt+=b*cn,Gt+=b*rn,Dt+=b*bn,It+=b*dn,Pt+=b*_n,vt+=b*wn,Tt+=b*cr,Rt+=b*Tn,xt+=b*kn,$e+=b*ir,Ge+=b*Qn,ut+=b*ur,Ze+=b*yr,Qe+=b*Ar,st+=b*hr,b=Y[12],Bt+=b*fe,Gt+=b*cn,Dt+=b*rn,It+=b*bn,Pt+=b*dn,vt+=b*_n,Tt+=b*wn,Rt+=b*cr,xt+=b*Tn,$e+=b*kn,Ge+=b*ir,ut+=b*Qn,Ze+=b*ur,Qe+=b*yr,st+=b*Ar,qt+=b*hr,b=Y[13],Gt+=b*fe,Dt+=b*cn,It+=b*rn,Pt+=b*bn,vt+=b*dn,Tt+=b*_n,Rt+=b*wn,xt+=b*cr,$e+=b*Tn,Ge+=b*kn,ut+=b*ir,Ze+=b*Qn,Qe+=b*ur,st+=b*yr,qt+=b*Ar,nn+=b*hr,b=Y[14],Dt+=b*fe,It+=b*cn,Pt+=b*rn,vt+=b*bn,Tt+=b*dn,Rt+=b*_n,xt+=b*wn,$e+=b*cr,Ge+=b*Tn,ut+=b*kn,Ze+=b*ir,Qe+=b*Qn,st+=b*ur,qt+=b*yr,nn+=b*Ar,Mt+=b*hr,b=Y[15],It+=b*fe,Pt+=b*cn,vt+=b*rn,Tt+=b*bn,Rt+=b*dn,xt+=b*_n,$e+=b*wn,Ge+=b*cr,ut+=b*Tn,Ze+=b*kn,Qe+=b*ir,st+=b*Qn,qt+=b*ur,nn+=b*yr,Mt+=b*Ar,en+=b*hr,De+=38*Pt,Te+=38*vt,ze+=38*Tt,ct+=38*Rt,kt+=38*xt,wt+=38*$e,on+=38*Ge,bt+=38*ut,Ot+=38*Ze,Lt+=38*Qe,zt+=38*st,Ht+=38*qt,Bt+=38*nn,Gt+=38*Mt,Dt+=38*en,te=1,b=De+te+65535,te=Math.floor(b/65536),De=b-te*65536,b=Te+te+65535,te=Math.floor(b/65536),Te=b-te*65536,b=ze+te+65535,te=Math.floor(b/65536),ze=b-te*65536,b=ct+te+65535,te=Math.floor(b/65536),ct=b-te*65536,b=kt+te+65535,te=Math.floor(b/65536),kt=b-te*65536,b=wt+te+65535,te=Math.floor(b/65536),wt=b-te*65536,b=on+te+65535,te=Math.floor(b/65536),on=b-te*65536,b=bt+te+65535,te=Math.floor(b/65536),bt=b-te*65536,b=Ot+te+65535,te=Math.floor(b/65536),Ot=b-te*65536,b=Lt+te+65535,te=Math.floor(b/65536),Lt=b-te*65536,b=zt+te+65535,te=Math.floor(b/65536),zt=b-te*65536,b=Ht+te+65535,te=Math.floor(b/65536),Ht=b-te*65536,b=Bt+te+65535,te=Math.floor(b/65536),Bt=b-te*65536,b=Gt+te+65535,te=Math.floor(b/65536),Gt=b-te*65536,b=Dt+te+65535,te=Math.floor(b/65536),Dt=b-te*65536,b=It+te+65535,te=Math.floor(b/65536),It=b-te*65536,De+=te-1+37*(te-1),te=1,b=De+te+65535,te=Math.floor(b/65536),De=b-te*65536,b=Te+te+65535,te=Math.floor(b/65536),Te=b-te*65536,b=ze+te+65535,te=Math.floor(b/65536),ze=b-te*65536,b=ct+te+65535,te=Math.floor(b/65536),ct=b-te*65536,b=kt+te+65535,te=Math.floor(b/65536),kt=b-te*65536,b=wt+te+65535,te=Math.floor(b/65536),wt=b-te*65536,b=on+te+65535,te=Math.floor(b/65536),on=b-te*65536,b=bt+te+65535,te=Math.floor(b/65536),bt=b-te*65536,b=Ot+te+65535,te=Math.floor(b/65536),Ot=b-te*65536,b=Lt+te+65535,te=Math.floor(b/65536),Lt=b-te*65536,b=zt+te+65535,te=Math.floor(b/65536),zt=b-te*65536,b=Ht+te+65535,te=Math.floor(b/65536),Ht=b-te*65536,b=Bt+te+65535,te=Math.floor(b/65536),Bt=b-te*65536,b=Gt+te+65535,te=Math.floor(b/65536),Gt=b-te*65536,b=Dt+te+65535,te=Math.floor(b/65536),Dt=b-te*65536,b=It+te+65535,te=Math.floor(b/65536),It=b-te*65536,De+=te-1+37*(te-1),F[0]=De,F[1]=Te,F[2]=ze,F[3]=ct,F[4]=kt,F[5]=wt,F[6]=on,F[7]=bt,F[8]=Ot,F[9]=Lt,F[10]=zt,F[11]=Ht,F[12]=Bt,F[13]=Gt,F[14]=Dt,F[15]=It}function Ae(F,Y){O(F,Y,Y)}function Pe(F,Y){var X=t(),b;for(b=0;b<16;b++)X[b]=Y[b];for(b=253;b>=0;b--)Ae(X,X),b!==2&&b!==4&&O(X,X,Y);for(b=0;b<16;b++)F[b]=X[b]}function ge(F,Y){var X=t(),b;for(b=0;b<16;b++)X[b]=Y[b];for(b=250;b>=0;b--)Ae(X,X),b!==1&&O(X,X,Y);for(b=0;b<16;b++)F[b]=X[b]}function be(F,Y,X){var b=new Uint8Array(32),te=new Float64Array(80),De,Te,ze=t(),ct=t(),kt=t(),wt=t(),on=t(),bt=t();for(Te=0;Te<31;Te++)b[Te]=Y[Te];for(b[31]=Y[31]&127|64,b[0]&=248,ue(te,X),Te=0;Te<16;Te++)ct[Te]=te[Te],wt[Te]=ze[Te]=kt[Te]=0;for(ze[0]=wt[0]=1,Te=254;Te>=0;--Te)De=b[Te>>>3]>>>(Te&7)&1,Q(ze,ct,De),Q(kt,wt,De),_e(on,ze,kt),me(ze,ze,kt),_e(kt,ct,wt),me(ct,ct,wt),Ae(wt,on),Ae(bt,ze),O(ze,kt,ze),O(kt,ct,on),_e(on,ze,kt),me(ze,ze,kt),Ae(ct,ze),me(kt,wt,bt),O(ze,kt,p),_e(ze,ze,wt),O(kt,kt,ze),O(ze,wt,bt),O(wt,ct,te),Ae(ct,on),Q(ze,ct,De),Q(kt,wt,De);for(Te=0;Te<16;Te++)te[Te+16]=ze[Te],te[Te+32]=kt[Te],te[Te+48]=ct[Te],te[Te+64]=wt[Te];var Ot=te.subarray(32),Lt=te.subarray(16);return Pe(Ot,Ot),O(Lt,Lt,Ot),T(F,Lt),0}function L(F,Y){return be(F,Y,o)}function J(F,Y){return r(Y,32),L(F,Y)}function ce(F,Y,X){var b=new Uint8Array(32);return be(b,X,Y),pe(F,s,b,K)}var Ne=$,de=ee;function xe(F,Y,X,b,te,De){var Te=new Uint8Array(32);return ce(Te,te,De),Ne(F,Y,X,b,Te)}function Ve(F,Y,X,b,te,De){var Te=new Uint8Array(32);return ce(Te,te,De),de(F,Y,X,b,Te)}var we=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ke(F,Y,X,b){for(var te=new Int32Array(16),De=new Int32Array(16),Te,ze,ct,kt,wt,on,bt,Ot,Lt,zt,Ht,Bt,Gt,Dt,It,Pt,vt,Tt,Rt,xt,$e,Ge,ut,Ze,Qe,st,qt=F[0],nn=F[1],Mt=F[2],en=F[3],fe=F[4],cn=F[5],rn=F[6],bn=F[7],dn=Y[0],_n=Y[1],wn=Y[2],cr=Y[3],Tn=Y[4],kn=Y[5],ir=Y[6],Qn=Y[7],ur=0;b>=128;){for(Rt=0;Rt<16;Rt++)xt=8*Rt+ur,te[Rt]=X[xt+0]<<24|X[xt+1]<<16|X[xt+2]<<8|X[xt+3],De[Rt]=X[xt+4]<<24|X[xt+5]<<16|X[xt+6]<<8|X[xt+7];for(Rt=0;Rt<80;Rt++)if(Te=qt,ze=nn,ct=Mt,kt=en,wt=fe,on=cn,bt=rn,Ot=bn,Lt=dn,zt=_n,Ht=wn,Bt=cr,Gt=Tn,Dt=kn,It=ir,Pt=Qn,$e=bn,Ge=Qn,ut=Ge&65535,Ze=Ge>>>16,Qe=$e&65535,st=$e>>>16,$e=(fe>>>14|Tn<<18)^(fe>>>18|Tn<<14)^(Tn>>>9|fe<<23),Ge=(Tn>>>14|fe<<18)^(Tn>>>18|fe<<14)^(fe>>>9|Tn<<23),ut+=Ge&65535,Ze+=Ge>>>16,Qe+=$e&65535,st+=$e>>>16,$e=fe&cn^~fe&rn,Ge=Tn&kn^~Tn&ir,ut+=Ge&65535,Ze+=Ge>>>16,Qe+=$e&65535,st+=$e>>>16,$e=we[Rt*2],Ge=we[Rt*2+1],ut+=Ge&65535,Ze+=Ge>>>16,Qe+=$e&65535,st+=$e>>>16,$e=te[Rt%16],Ge=De[Rt%16],ut+=Ge&65535,Ze+=Ge>>>16,Qe+=$e&65535,st+=$e>>>16,Ze+=ut>>>16,Qe+=Ze>>>16,st+=Qe>>>16,vt=Qe&65535|st<<16,Tt=ut&65535|Ze<<16,$e=vt,Ge=Tt,ut=Ge&65535,Ze=Ge>>>16,Qe=$e&65535,st=$e>>>16,$e=(qt>>>28|dn<<4)^(dn>>>2|qt<<30)^(dn>>>7|qt<<25),Ge=(dn>>>28|qt<<4)^(qt>>>2|dn<<30)^(qt>>>7|dn<<25),ut+=Ge&65535,Ze+=Ge>>>16,Qe+=$e&65535,st+=$e>>>16,$e=qt&nn^qt&Mt^nn&Mt,Ge=dn&_n^dn&wn^_n&wn,ut+=Ge&65535,Ze+=Ge>>>16,Qe+=$e&65535,st+=$e>>>16,Ze+=ut>>>16,Qe+=Ze>>>16,st+=Qe>>>16,Ot=Qe&65535|st<<16,Pt=ut&65535|Ze<<16,$e=kt,Ge=Bt,ut=Ge&65535,Ze=Ge>>>16,Qe=$e&65535,st=$e>>>16,$e=vt,Ge=Tt,ut+=Ge&65535,Ze+=Ge>>>16,Qe+=$e&65535,st+=$e>>>16,Ze+=ut>>>16,Qe+=Ze>>>16,st+=Qe>>>16,kt=Qe&65535|st<<16,Bt=ut&65535|Ze<<16,nn=Te,Mt=ze,en=ct,fe=kt,cn=wt,rn=on,bn=bt,qt=Ot,_n=Lt,wn=zt,cr=Ht,Tn=Bt,kn=Gt,ir=Dt,Qn=It,dn=Pt,Rt%16===15)for(xt=0;xt<16;xt++)$e=te[xt],Ge=De[xt],ut=Ge&65535,Ze=Ge>>>16,Qe=$e&65535,st=$e>>>16,$e=te[(xt+9)%16],Ge=De[(xt+9)%16],ut+=Ge&65535,Ze+=Ge>>>16,Qe+=$e&65535,st+=$e>>>16,vt=te[(xt+1)%16],Tt=De[(xt+1)%16],$e=(vt>>>1|Tt<<31)^(vt>>>8|Tt<<24)^vt>>>7,Ge=(Tt>>>1|vt<<31)^(Tt>>>8|vt<<24)^(Tt>>>7|vt<<25),ut+=Ge&65535,Ze+=Ge>>>16,Qe+=$e&65535,st+=$e>>>16,vt=te[(xt+14)%16],Tt=De[(xt+14)%16],$e=(vt>>>19|Tt<<13)^(Tt>>>29|vt<<3)^vt>>>6,Ge=(Tt>>>19|vt<<13)^(vt>>>29|Tt<<3)^(Tt>>>6|vt<<26),ut+=Ge&65535,Ze+=Ge>>>16,Qe+=$e&65535,st+=$e>>>16,Ze+=ut>>>16,Qe+=Ze>>>16,st+=Qe>>>16,te[xt]=Qe&65535|st<<16,De[xt]=ut&65535|Ze<<16;$e=qt,Ge=dn,ut=Ge&65535,Ze=Ge>>>16,Qe=$e&65535,st=$e>>>16,$e=F[0],Ge=Y[0],ut+=Ge&65535,Ze+=Ge>>>16,Qe+=$e&65535,st+=$e>>>16,Ze+=ut>>>16,Qe+=Ze>>>16,st+=Qe>>>16,F[0]=qt=Qe&65535|st<<16,Y[0]=dn=ut&65535|Ze<<16,$e=nn,Ge=_n,ut=Ge&65535,Ze=Ge>>>16,Qe=$e&65535,st=$e>>>16,$e=F[1],Ge=Y[1],ut+=Ge&65535,Ze+=Ge>>>16,Qe+=$e&65535,st+=$e>>>16,Ze+=ut>>>16,Qe+=Ze>>>16,st+=Qe>>>16,F[1]=nn=Qe&65535|st<<16,Y[1]=_n=ut&65535|Ze<<16,$e=Mt,Ge=wn,ut=Ge&65535,Ze=Ge>>>16,Qe=$e&65535,st=$e>>>16,$e=F[2],Ge=Y[2],ut+=Ge&65535,Ze+=Ge>>>16,Qe+=$e&65535,st+=$e>>>16,Ze+=ut>>>16,Qe+=Ze>>>16,st+=Qe>>>16,F[2]=Mt=Qe&65535|st<<16,Y[2]=wn=ut&65535|Ze<<16,$e=en,Ge=cr,ut=Ge&65535,Ze=Ge>>>16,Qe=$e&65535,st=$e>>>16,$e=F[3],Ge=Y[3],ut+=Ge&65535,Ze+=Ge>>>16,Qe+=$e&65535,st+=$e>>>16,Ze+=ut>>>16,Qe+=Ze>>>16,st+=Qe>>>16,F[3]=en=Qe&65535|st<<16,Y[3]=cr=ut&65535|Ze<<16,$e=fe,Ge=Tn,ut=Ge&65535,Ze=Ge>>>16,Qe=$e&65535,st=$e>>>16,$e=F[4],Ge=Y[4],ut+=Ge&65535,Ze+=Ge>>>16,Qe+=$e&65535,st+=$e>>>16,Ze+=ut>>>16,Qe+=Ze>>>16,st+=Qe>>>16,F[4]=fe=Qe&65535|st<<16,Y[4]=Tn=ut&65535|Ze<<16,$e=cn,Ge=kn,ut=Ge&65535,Ze=Ge>>>16,Qe=$e&65535,st=$e>>>16,$e=F[5],Ge=Y[5],ut+=Ge&65535,Ze+=Ge>>>16,Qe+=$e&65535,st+=$e>>>16,Ze+=ut>>>16,Qe+=Ze>>>16,st+=Qe>>>16,F[5]=cn=Qe&65535|st<<16,Y[5]=kn=ut&65535|Ze<<16,$e=rn,Ge=ir,ut=Ge&65535,Ze=Ge>>>16,Qe=$e&65535,st=$e>>>16,$e=F[6],Ge=Y[6],ut+=Ge&65535,Ze+=Ge>>>16,Qe+=$e&65535,st+=$e>>>16,Ze+=ut>>>16,Qe+=Ze>>>16,st+=Qe>>>16,F[6]=rn=Qe&65535|st<<16,Y[6]=ir=ut&65535|Ze<<16,$e=bn,Ge=Qn,ut=Ge&65535,Ze=Ge>>>16,Qe=$e&65535,st=$e>>>16,$e=F[7],Ge=Y[7],ut+=Ge&65535,Ze+=Ge>>>16,Qe+=$e&65535,st+=$e>>>16,Ze+=ut>>>16,Qe+=Ze>>>16,st+=Qe>>>16,F[7]=bn=Qe&65535|st<<16,Y[7]=Qn=ut&65535|Ze<<16,ur+=128,b-=128}return b}function Me(F,Y,X){var b=new Int32Array(8),te=new Int32Array(8),De=new Uint8Array(256),Te,ze=X;for(b[0]=1779033703,b[1]=3144134277,b[2]=1013904242,b[3]=2773480762,b[4]=1359893119,b[5]=2600822924,b[6]=528734635,b[7]=1541459225,te[0]=4089235720,te[1]=2227873595,te[2]=4271175723,te[3]=1595750129,te[4]=2917565137,te[5]=725511199,te[6]=4215389547,te[7]=327033209,ke(b,te,Y,X),X%=128,Te=0;Te<X;Te++)De[Te]=Y[ze-X+Te];for(De[X]=128,X=256-128*(X<112?1:0),De[X-9]=0,B(De,X-8,ze/536870912|0,ze<<3),ke(b,te,De,X),Te=0;Te<8;Te++)B(F,8*Te,b[Te],te[Te]);return 0}function Se(F,Y){var X=t(),b=t(),te=t(),De=t(),Te=t(),ze=t(),ct=t(),kt=t(),wt=t();me(X,F[1],F[0]),me(wt,Y[1],Y[0]),O(X,X,wt),_e(b,F[0],F[1]),_e(wt,Y[0],Y[1]),O(b,b,wt),O(te,F[3],Y[3]),O(te,te,v),O(De,F[2],Y[2]),_e(De,De,De),me(Te,b,X),me(ze,De,te),_e(ct,De,te),_e(kt,b,X),O(F[0],Te,ze),O(F[1],kt,ct),O(F[2],ct,ze),O(F[3],Te,kt)}function Be(F,Y,X){var b;for(b=0;b<4;b++)Q(F[b],Y[b],X)}function Xe(F,Y){var X=t(),b=t(),te=t();Pe(te,Y[2]),O(X,Y[0],te),O(b,Y[1],te),T(F,b),F[31]^=ie(X)<<7}function We(F,Y,X){var b,te;for(W(F[0],l),W(F[1],h),W(F[2],h),W(F[3],l),te=255;te>=0;--te)b=X[te/8|0]>>(te&7)&1,Be(F,Y,b),Se(Y,F),Se(F,F),Be(F,Y,b)}function lt(F,Y){var X=[t(),t(),t(),t()];W(X[0],S),W(X[1],C),W(X[2],h),O(X[3],S,C),We(F,X,Y)}function _t(F,Y,X){var b=new Uint8Array(64),te=[t(),t(),t(),t()],De;for(X||r(Y,32),Me(b,Y,32),b[0]&=248,b[31]&=127,b[31]|=64,lt(te,b),Xe(F,te),De=0;De<32;De++)Y[De+32]=F[De];return 0}var Nt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function z(F,Y){var X,b,te,De;for(b=63;b>=32;--b){for(X=0,te=b-32,De=b-12;te<De;++te)Y[te]+=X-16*Y[b]*Nt[te-(b-32)],X=Math.floor((Y[te]+128)/256),Y[te]-=X*256;Y[te]+=X,Y[b]=0}for(X=0,te=0;te<32;te++)Y[te]+=X-(Y[31]>>4)*Nt[te],X=Y[te]>>8,Y[te]&=255;for(te=0;te<32;te++)Y[te]-=X*Nt[te];for(b=0;b<32;b++)Y[b+1]+=Y[b]>>8,F[b]=Y[b]&255}function _(F){var Y=new Float64Array(64),X;for(X=0;X<64;X++)Y[X]=F[X];for(X=0;X<64;X++)F[X]=0;z(F,Y)}function I(F,Y,X,b){var te=new Uint8Array(64),De=new Uint8Array(64),Te=new Uint8Array(64),ze,ct,kt=new Float64Array(64),wt=[t(),t(),t(),t()];Me(te,b,32),te[0]&=248,te[31]&=127,te[31]|=64;var on=X+64;for(ze=0;ze<X;ze++)F[64+ze]=Y[ze];for(ze=0;ze<32;ze++)F[32+ze]=te[32+ze];for(Me(Te,F.subarray(32),X+32),_(Te),lt(wt,Te),Xe(F,wt),ze=32;ze<64;ze++)F[ze]=b[ze];for(Me(De,F,X+64),_(De),ze=0;ze<64;ze++)kt[ze]=0;for(ze=0;ze<32;ze++)kt[ze]=Te[ze];for(ze=0;ze<32;ze++)for(ct=0;ct<32;ct++)kt[ze+ct]+=De[ze]*te[ct];return z(F.subarray(32),kt),on}function ae(F,Y){var X=t(),b=t(),te=t(),De=t(),Te=t(),ze=t(),ct=t();return W(F[2],h),ue(F[1],Y),Ae(te,F[1]),O(De,te,f),me(te,te,F[2]),_e(De,F[2],De),Ae(Te,De),Ae(ze,Te),O(ct,ze,Te),O(X,ct,te),O(X,X,De),ge(X,X),O(X,X,te),O(X,X,De),O(X,X,De),O(F[0],X,De),Ae(b,F[0]),O(b,b,De),se(b,te)&&O(F[0],F[0],R),Ae(b,F[0]),O(b,b,De),se(b,te)?-1:(ie(F[0])===Y[31]>>7&&me(F[0],l,F[0]),O(F[3],F[0],F[1]),0)}function ve(F,Y,X,b){var te,De=new Uint8Array(32),Te=new Uint8Array(64),ze=[t(),t(),t(),t()],ct=[t(),t(),t(),t()];if(X<64||ae(ct,b))return-1;for(te=0;te<X;te++)F[te]=Y[te];for(te=0;te<32;te++)F[te+32]=b[te];if(Me(Te,F,X),_(Te),We(ze,ct,Te),lt(ct,Y.subarray(32)),Se(ze,ct),Xe(De,ze),X-=64,U(Y,0,De,0)){for(te=0;te<X;te++)F[te]=0;return-1}for(te=0;te<X;te++)F[te]=Y[te+64];return X}var Re=32,Fe=24,gt=32,pt=16,ot=32,At=32,Et=32,Qt=32,An=32,Xt=Fe,Vt=gt,Rn=pt,un=64,hn=32,Hr=64,jn=32,En=64;e.lowlevel={crypto_core_hsalsa20:pe,crypto_stream_xor:A,crypto_stream:H,crypto_stream_salsa20_xor:P,crypto_stream_salsa20:M,crypto_onetimeauth:x,crypto_onetimeauth_verify:E,crypto_verify_16:N,crypto_verify_32:U,crypto_secretbox:$,crypto_secretbox_open:ee,crypto_scalarmult:be,crypto_scalarmult_base:L,crypto_box_beforenm:ce,crypto_box_afternm:Ne,crypto_box:xe,crypto_box_open:Ve,crypto_box_keypair:J,crypto_hash:Me,crypto_sign:I,crypto_sign_keypair:_t,crypto_sign_open:ve,crypto_secretbox_KEYBYTES:Re,crypto_secretbox_NONCEBYTES:Fe,crypto_secretbox_ZEROBYTES:gt,crypto_secretbox_BOXZEROBYTES:pt,crypto_scalarmult_BYTES:ot,crypto_scalarmult_SCALARBYTES:At,crypto_box_PUBLICKEYBYTES:Et,crypto_box_SECRETKEYBYTES:Qt,crypto_box_BEFORENMBYTES:An,crypto_box_NONCEBYTES:Xt,crypto_box_ZEROBYTES:Vt,crypto_box_BOXZEROBYTES:Rn,crypto_sign_BYTES:un,crypto_sign_PUBLICKEYBYTES:hn,crypto_sign_SECRETKEYBYTES:Hr,crypto_sign_SEEDBYTES:jn,crypto_hash_BYTES:En,gf:t,D:f,L:Nt,pack25519:T,unpack25519:ue,M:O,A:_e,S:Ae,Z:me,pow2523:ge,add:Se,set25519:W,modL:z,scalarmult:We,scalarbase:lt};function Gr(F,Y){if(F.length!==Re)throw new Error("bad key size");if(Y.length!==Fe)throw new Error("bad nonce size")}function qn(F,Y){if(F.length!==Et)throw new Error("bad public key size");if(Y.length!==Qt)throw new Error("bad secret key size")}function an(){for(var F=0;F<arguments.length;F++)if(!(arguments[F]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function li(F){for(var Y=0;Y<F.length;Y++)F[Y]=0}e.randomBytes=function(F){var Y=new Uint8Array(F);return r(Y,F),Y},e.secretbox=function(F,Y,X){an(F,Y,X),Gr(X,Y);for(var b=new Uint8Array(gt+F.length),te=new Uint8Array(b.length),De=0;De<F.length;De++)b[De+gt]=F[De];return $(te,b,b.length,Y,X),te.subarray(pt)},e.secretbox.open=function(F,Y,X){an(F,Y,X),Gr(X,Y);for(var b=new Uint8Array(pt+F.length),te=new Uint8Array(b.length),De=0;De<F.length;De++)b[De+pt]=F[De];return b.length<32||ee(te,b,b.length,Y,X)!==0?null:te.subarray(gt)},e.secretbox.keyLength=Re,e.secretbox.nonceLength=Fe,e.secretbox.overheadLength=pt,e.scalarMult=function(F,Y){if(an(F,Y),F.length!==At)throw new Error("bad n size");if(Y.length!==ot)throw new Error("bad p size");var X=new Uint8Array(ot);return be(X,F,Y),X},e.scalarMult.base=function(F){if(an(F),F.length!==At)throw new Error("bad n size");var Y=new Uint8Array(ot);return L(Y,F),Y},e.scalarMult.scalarLength=At,e.scalarMult.groupElementLength=ot,e.box=function(F,Y,X,b){var te=e.box.before(X,b);return e.secretbox(F,Y,te)},e.box.before=function(F,Y){an(F,Y),qn(F,Y);var X=new Uint8Array(An);return ce(X,F,Y),X},e.box.after=e.secretbox,e.box.open=function(F,Y,X,b){var te=e.box.before(X,b);return e.secretbox.open(F,Y,te)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var F=new Uint8Array(Et),Y=new Uint8Array(Qt);return J(F,Y),{publicKey:F,secretKey:Y}},e.box.keyPair.fromSecretKey=function(F){if(an(F),F.length!==Qt)throw new Error("bad secret key size");var Y=new Uint8Array(Et);return L(Y,F),{publicKey:Y,secretKey:new Uint8Array(F)}},e.box.publicKeyLength=Et,e.box.secretKeyLength=Qt,e.box.sharedKeyLength=An,e.box.nonceLength=Xt,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(F,Y){if(an(F,Y),Y.length!==Hr)throw new Error("bad secret key size");var X=new Uint8Array(un+F.length);return I(X,F,F.length,Y),X},e.sign.open=function(F,Y){if(an(F,Y),Y.length!==hn)throw new Error("bad public key size");var X=new Uint8Array(F.length),b=ve(X,F,F.length,Y);if(b<0)return null;for(var te=new Uint8Array(b),De=0;De<te.length;De++)te[De]=X[De];return te},e.sign.detached=function(F,Y){for(var X=e.sign(F,Y),b=new Uint8Array(un),te=0;te<b.length;te++)b[te]=X[te];return b},e.sign.detached.verify=function(F,Y,X){if(an(F,Y,X),Y.length!==un)throw new Error("bad signature size");if(X.length!==hn)throw new Error("bad public key size");var b=new Uint8Array(un+F.length),te=new Uint8Array(un+F.length),De;for(De=0;De<un;De++)b[De]=Y[De];for(De=0;De<F.length;De++)b[De+un]=F[De];return ve(te,b,b.length,X)>=0},e.sign.keyPair=function(){var F=new Uint8Array(hn),Y=new Uint8Array(Hr);return _t(F,Y),{publicKey:F,secretKey:Y}},e.sign.keyPair.fromSecretKey=function(F){if(an(F),F.length!==Hr)throw new Error("bad secret key size");for(var Y=new Uint8Array(hn),X=0;X<Y.length;X++)Y[X]=F[32+X];return{publicKey:Y,secretKey:new Uint8Array(F)}},e.sign.keyPair.fromSeed=function(F){if(an(F),F.length!==jn)throw new Error("bad seed size");for(var Y=new Uint8Array(hn),X=new Uint8Array(Hr),b=0;b<32;b++)X[b]=F[b];return _t(Y,X,!0),{publicKey:Y,secretKey:X}},e.sign.publicKeyLength=hn,e.sign.secretKeyLength=Hr,e.sign.seedLength=jn,e.sign.signatureLength=un,e.hash=function(F){an(F);var Y=new Uint8Array(En);return Me(Y,F,F.length),Y},e.hash.hashLength=En,e.verify=function(F,Y){return an(F,Y),F.length===0||Y.length===0||F.length!==Y.length?!1:re(F,0,Y,0,F.length)===0},e.setPRNG=function(F){r=F},(function(){var F=typeof self<"u"?self.crypto||self.msCrypto:null;if(F&&F.getRandomValues){var Y=65536;e.setPRNG(function(X,b){var te,De=new Uint8Array(b);for(te=0;te<b;te+=Y)F.getRandomValues(De.subarray(te,te+Math.min(b-te,Y)));for(te=0;te<b;te++)X[te]=De[te];li(De)})}else typeof NL<"u"&&(F=kC,F&&F.randomBytes&&e.setPRNG(function(X,b){var te,De=F.randomBytes(b);for(te=0;te<b;te++)X[te]=De[te];li(De)}))})()})(n.exports?n.exports:self.nacl=self.nacl||{})})(bx)),bx.exports}var OL=FL();const ya=lu(OL);var _x={exports:{}};/*
 * [js-sha512]{@link https://github.com/emn178/js-sha512}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2018
 * @license MIT
 */var Xk;function PL(){return Xk||(Xk=1,(function(n){(function(){var e="input is invalid type",t="finalize already called",r=typeof window=="object",s=r?window:{};s.JS_SHA512_NO_WINDOW&&(r=!1);var o=!r&&typeof self=="object",l=!s.JS_SHA512_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;l?s=Va:o&&(s=self);var h=!s.JS_SHA512_NO_COMMON_JS&&!0&&n.exports,p=!s.JS_SHA512_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",f="0123456789abcdef".split(""),v=[-2147483648,8388608,32768,128],S=[24,16,8,0],C=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],R=["hex","array","digest","arrayBuffer"],B=[];(s.JS_SHA512_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(K){return Object.prototype.toString.call(K)==="[object Array]"}),p&&(s.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(K){return typeof K=="object"&&K.buffer&&K.buffer.constructor===ArrayBuffer});var re=function(K,P){return function(M){return new G(P,!0).update(M)[K]()}},N=function(K){var P=re("hex",K);P.create=function(){return new G(K)},P.update=function(A){return P.create().update(A)};for(var M=0;M<R.length;++M){var H=R[M];P[H]=re(H,K)}return P},U=function(K,P){return function(M,H){return new he(M,P,!0).update(H)[K]()}},q=function(K){var P=U("hex",K);P.create=function(A){return new he(A,K)},P.update=function(A,y){return P.create(A).update(y)};for(var M=0;M<R.length;++M){var H=R[M];P[H]=U(H,K)}return P};function G(K,P){P?(B[0]=B[1]=B[2]=B[3]=B[4]=B[5]=B[6]=B[7]=B[8]=B[9]=B[10]=B[11]=B[12]=B[13]=B[14]=B[15]=B[16]=B[17]=B[18]=B[19]=B[20]=B[21]=B[22]=B[23]=B[24]=B[25]=B[26]=B[27]=B[28]=B[29]=B[30]=B[31]=B[32]=0,this.blocks=B):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],K==384?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):K==256?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):K==224?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209),this.bits=K,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}G.prototype.update=function(K){if(this.finalized)throw new Error(t);var P,M=typeof K;if(M!=="string"){if(M==="object"){if(K===null)throw new Error(e);if(p&&K.constructor===ArrayBuffer)K=new Uint8Array(K);else if(!Array.isArray(K)&&(!p||!ArrayBuffer.isView(K)))throw new Error(e)}else throw new Error(e);P=!0}for(var H,A=0,y,x=K.length,E=this.blocks;A<x;){if(this.hashed&&(this.hashed=!1,E[0]=this.block,E[1]=E[2]=E[3]=E[4]=E[5]=E[6]=E[7]=E[8]=E[9]=E[10]=E[11]=E[12]=E[13]=E[14]=E[15]=E[16]=E[17]=E[18]=E[19]=E[20]=E[21]=E[22]=E[23]=E[24]=E[25]=E[26]=E[27]=E[28]=E[29]=E[30]=E[31]=E[32]=0),P)for(y=this.start;A<x&&y<128;++A)E[y>>2]|=K[A]<<S[y++&3];else for(y=this.start;A<x&&y<128;++A)H=K.charCodeAt(A),H<128?E[y>>2]|=H<<S[y++&3]:H<2048?(E[y>>2]|=(192|H>>6)<<S[y++&3],E[y>>2]|=(128|H&63)<<S[y++&3]):H<55296||H>=57344?(E[y>>2]|=(224|H>>12)<<S[y++&3],E[y>>2]|=(128|H>>6&63)<<S[y++&3],E[y>>2]|=(128|H&63)<<S[y++&3]):(H=65536+((H&1023)<<10|K.charCodeAt(++A)&1023),E[y>>2]|=(240|H>>18)<<S[y++&3],E[y>>2]|=(128|H>>12&63)<<S[y++&3],E[y>>2]|=(128|H>>6&63)<<S[y++&3],E[y>>2]|=(128|H&63)<<S[y++&3]);this.lastByteIndex=y,this.bytes+=y-this.start,y>=128?(this.block=E[32],this.start=y-128,this.hash(),this.hashed=!0):this.start=y}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},G.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var K=this.blocks,P=this.lastByteIndex;K[32]=this.block,K[P>>2]|=v[P&3],this.block=K[32],P>=112&&(this.hashed||this.hash(),K[0]=this.block,K[1]=K[2]=K[3]=K[4]=K[5]=K[6]=K[7]=K[8]=K[9]=K[10]=K[11]=K[12]=K[13]=K[14]=K[15]=K[16]=K[17]=K[18]=K[19]=K[20]=K[21]=K[22]=K[23]=K[24]=K[25]=K[26]=K[27]=K[28]=K[29]=K[30]=K[31]=K[32]=0),K[30]=this.hBytes<<3|this.bytes>>>29,K[31]=this.bytes<<3,this.hash()}},G.prototype.hash=function(){var K=this.h0h,P=this.h0l,M=this.h1h,H=this.h1l,A=this.h2h,y=this.h2l,x=this.h3h,E=this.h3l,$=this.h4h,ee=this.h4l,W=this.h5h,le=this.h5l,Q=this.h6h,T=this.h6l,se=this.h7h,ie=this.h7l,ue=this.blocks,_e,me,O,Ae,Pe,ge,be,L,J,ce,Ne,de,xe,Ve,we,ke,Me,Se,Be,Xe,We,lt,_t,Nt,z;for(_e=32;_e<160;_e+=2)Xe=ue[_e-30],We=ue[_e-29],me=(Xe>>>1|We<<31)^(Xe>>>8|We<<24)^Xe>>>7,O=(We>>>1|Xe<<31)^(We>>>8|Xe<<24)^(We>>>7|Xe<<25),Xe=ue[_e-4],We=ue[_e-3],Ae=(Xe>>>19|We<<13)^(We>>>29|Xe<<3)^Xe>>>6,Pe=(We>>>19|Xe<<13)^(Xe>>>29|We<<3)^(We>>>6|Xe<<26),Xe=ue[_e-32],We=ue[_e-31],lt=ue[_e-14],_t=ue[_e-13],ge=(_t&65535)+(We&65535)+(O&65535)+(Pe&65535),be=(_t>>>16)+(We>>>16)+(O>>>16)+(Pe>>>16)+(ge>>>16),L=(lt&65535)+(Xe&65535)+(me&65535)+(Ae&65535)+(be>>>16),J=(lt>>>16)+(Xe>>>16)+(me>>>16)+(Ae>>>16)+(L>>>16),ue[_e]=J<<16|L&65535,ue[_e+1]=be<<16|ge&65535;var _=K,I=P,ae=M,ve=H,Re=A,Fe=y,gt=x,pt=E,ot=$,At=ee,Et=W,Qt=le,An=Q,Xt=T,Vt=se,Rn=ie;for(ke=ae&Re,Me=ve&Fe,_e=0;_e<160;_e+=8)me=(_>>>28|I<<4)^(I>>>2|_<<30)^(I>>>7|_<<25),O=(I>>>28|_<<4)^(_>>>2|I<<30)^(_>>>7|I<<25),Ae=(ot>>>14|At<<18)^(ot>>>18|At<<14)^(At>>>9|ot<<23),Pe=(At>>>14|ot<<18)^(At>>>18|ot<<14)^(ot>>>9|At<<23),ce=_&ae,Ne=I&ve,Se=ce^_&Re^ke,Be=Ne^I&Fe^Me,Nt=ot&Et^~ot&An,z=At&Qt^~At&Xt,Xe=ue[_e],We=ue[_e+1],lt=C[_e],_t=C[_e+1],ge=(_t&65535)+(We&65535)+(z&65535)+(Pe&65535)+(Rn&65535),be=(_t>>>16)+(We>>>16)+(z>>>16)+(Pe>>>16)+(Rn>>>16)+(ge>>>16),L=(lt&65535)+(Xe&65535)+(Nt&65535)+(Ae&65535)+(Vt&65535)+(be>>>16),J=(lt>>>16)+(Xe>>>16)+(Nt>>>16)+(Ae>>>16)+(Vt>>>16)+(L>>>16),Xe=J<<16|L&65535,We=be<<16|ge&65535,ge=(Be&65535)+(O&65535),be=(Be>>>16)+(O>>>16)+(ge>>>16),L=(Se&65535)+(me&65535)+(be>>>16),J=(Se>>>16)+(me>>>16)+(L>>>16),lt=J<<16|L&65535,_t=be<<16|ge&65535,ge=(pt&65535)+(We&65535),be=(pt>>>16)+(We>>>16)+(ge>>>16),L=(gt&65535)+(Xe&65535)+(be>>>16),J=(gt>>>16)+(Xe>>>16)+(L>>>16),Vt=J<<16|L&65535,Rn=be<<16|ge&65535,ge=(_t&65535)+(We&65535),be=(_t>>>16)+(We>>>16)+(ge>>>16),L=(lt&65535)+(Xe&65535)+(be>>>16),J=(lt>>>16)+(Xe>>>16)+(L>>>16),gt=J<<16|L&65535,pt=be<<16|ge&65535,me=(gt>>>28|pt<<4)^(pt>>>2|gt<<30)^(pt>>>7|gt<<25),O=(pt>>>28|gt<<4)^(gt>>>2|pt<<30)^(gt>>>7|pt<<25),Ae=(Vt>>>14|Rn<<18)^(Vt>>>18|Rn<<14)^(Rn>>>9|Vt<<23),Pe=(Rn>>>14|Vt<<18)^(Rn>>>18|Vt<<14)^(Vt>>>9|Rn<<23),de=gt&_,xe=pt&I,Se=de^gt&ae^ce,Be=xe^pt&ve^Ne,Nt=Vt&ot^~Vt&Et,z=Rn&At^~Rn&Qt,Xe=ue[_e+2],We=ue[_e+3],lt=C[_e+2],_t=C[_e+3],ge=(_t&65535)+(We&65535)+(z&65535)+(Pe&65535)+(Xt&65535),be=(_t>>>16)+(We>>>16)+(z>>>16)+(Pe>>>16)+(Xt>>>16)+(ge>>>16),L=(lt&65535)+(Xe&65535)+(Nt&65535)+(Ae&65535)+(An&65535)+(be>>>16),J=(lt>>>16)+(Xe>>>16)+(Nt>>>16)+(Ae>>>16)+(An>>>16)+(L>>>16),Xe=J<<16|L&65535,We=be<<16|ge&65535,ge=(Be&65535)+(O&65535),be=(Be>>>16)+(O>>>16)+(ge>>>16),L=(Se&65535)+(me&65535)+(be>>>16),J=(Se>>>16)+(me>>>16)+(L>>>16),lt=J<<16|L&65535,_t=be<<16|ge&65535,ge=(Fe&65535)+(We&65535),be=(Fe>>>16)+(We>>>16)+(ge>>>16),L=(Re&65535)+(Xe&65535)+(be>>>16),J=(Re>>>16)+(Xe>>>16)+(L>>>16),An=J<<16|L&65535,Xt=be<<16|ge&65535,ge=(_t&65535)+(We&65535),be=(_t>>>16)+(We>>>16)+(ge>>>16),L=(lt&65535)+(Xe&65535)+(be>>>16),J=(lt>>>16)+(Xe>>>16)+(L>>>16),Re=J<<16|L&65535,Fe=be<<16|ge&65535,me=(Re>>>28|Fe<<4)^(Fe>>>2|Re<<30)^(Fe>>>7|Re<<25),O=(Fe>>>28|Re<<4)^(Re>>>2|Fe<<30)^(Re>>>7|Fe<<25),Ae=(An>>>14|Xt<<18)^(An>>>18|Xt<<14)^(Xt>>>9|An<<23),Pe=(Xt>>>14|An<<18)^(Xt>>>18|An<<14)^(An>>>9|Xt<<23),Ve=Re&gt,we=Fe&pt,Se=Ve^Re&_^de,Be=we^Fe&I^xe,Nt=An&Vt^~An&ot,z=Xt&Rn^~Xt&At,Xe=ue[_e+4],We=ue[_e+5],lt=C[_e+4],_t=C[_e+5],ge=(_t&65535)+(We&65535)+(z&65535)+(Pe&65535)+(Qt&65535),be=(_t>>>16)+(We>>>16)+(z>>>16)+(Pe>>>16)+(Qt>>>16)+(ge>>>16),L=(lt&65535)+(Xe&65535)+(Nt&65535)+(Ae&65535)+(Et&65535)+(be>>>16),J=(lt>>>16)+(Xe>>>16)+(Nt>>>16)+(Ae>>>16)+(Et>>>16)+(L>>>16),Xe=J<<16|L&65535,We=be<<16|ge&65535,ge=(Be&65535)+(O&65535),be=(Be>>>16)+(O>>>16)+(ge>>>16),L=(Se&65535)+(me&65535)+(be>>>16),J=(Se>>>16)+(me>>>16)+(L>>>16),lt=J<<16|L&65535,_t=be<<16|ge&65535,ge=(ve&65535)+(We&65535),be=(ve>>>16)+(We>>>16)+(ge>>>16),L=(ae&65535)+(Xe&65535)+(be>>>16),J=(ae>>>16)+(Xe>>>16)+(L>>>16),Et=J<<16|L&65535,Qt=be<<16|ge&65535,ge=(_t&65535)+(We&65535),be=(_t>>>16)+(We>>>16)+(ge>>>16),L=(lt&65535)+(Xe&65535)+(be>>>16),J=(lt>>>16)+(Xe>>>16)+(L>>>16),ae=J<<16|L&65535,ve=be<<16|ge&65535,me=(ae>>>28|ve<<4)^(ve>>>2|ae<<30)^(ve>>>7|ae<<25),O=(ve>>>28|ae<<4)^(ae>>>2|ve<<30)^(ae>>>7|ve<<25),Ae=(Et>>>14|Qt<<18)^(Et>>>18|Qt<<14)^(Qt>>>9|Et<<23),Pe=(Qt>>>14|Et<<18)^(Qt>>>18|Et<<14)^(Et>>>9|Qt<<23),ke=ae&Re,Me=ve&Fe,Se=ke^ae&gt^Ve,Be=Me^ve&pt^we,Nt=Et&An^~Et&Vt,z=Qt&Xt^~Qt&Rn,Xe=ue[_e+6],We=ue[_e+7],lt=C[_e+6],_t=C[_e+7],ge=(_t&65535)+(We&65535)+(z&65535)+(Pe&65535)+(At&65535),be=(_t>>>16)+(We>>>16)+(z>>>16)+(Pe>>>16)+(At>>>16)+(ge>>>16),L=(lt&65535)+(Xe&65535)+(Nt&65535)+(Ae&65535)+(ot&65535)+(be>>>16),J=(lt>>>16)+(Xe>>>16)+(Nt>>>16)+(Ae>>>16)+(ot>>>16)+(L>>>16),Xe=J<<16|L&65535,We=be<<16|ge&65535,ge=(Be&65535)+(O&65535),be=(Be>>>16)+(O>>>16)+(ge>>>16),L=(Se&65535)+(me&65535)+(be>>>16),J=(Se>>>16)+(me>>>16)+(L>>>16),lt=J<<16|L&65535,_t=be<<16|ge&65535,ge=(I&65535)+(We&65535),be=(I>>>16)+(We>>>16)+(ge>>>16),L=(_&65535)+(Xe&65535)+(be>>>16),J=(_>>>16)+(Xe>>>16)+(L>>>16),ot=J<<16|L&65535,At=be<<16|ge&65535,ge=(_t&65535)+(We&65535),be=(_t>>>16)+(We>>>16)+(ge>>>16),L=(lt&65535)+(Xe&65535)+(be>>>16),J=(lt>>>16)+(Xe>>>16)+(L>>>16),_=J<<16|L&65535,I=be<<16|ge&65535;ge=(P&65535)+(I&65535),be=(P>>>16)+(I>>>16)+(ge>>>16),L=(K&65535)+(_&65535)+(be>>>16),J=(K>>>16)+(_>>>16)+(L>>>16),this.h0h=J<<16|L&65535,this.h0l=be<<16|ge&65535,ge=(H&65535)+(ve&65535),be=(H>>>16)+(ve>>>16)+(ge>>>16),L=(M&65535)+(ae&65535)+(be>>>16),J=(M>>>16)+(ae>>>16)+(L>>>16),this.h1h=J<<16|L&65535,this.h1l=be<<16|ge&65535,ge=(y&65535)+(Fe&65535),be=(y>>>16)+(Fe>>>16)+(ge>>>16),L=(A&65535)+(Re&65535)+(be>>>16),J=(A>>>16)+(Re>>>16)+(L>>>16),this.h2h=J<<16|L&65535,this.h2l=be<<16|ge&65535,ge=(E&65535)+(pt&65535),be=(E>>>16)+(pt>>>16)+(ge>>>16),L=(x&65535)+(gt&65535)+(be>>>16),J=(x>>>16)+(gt>>>16)+(L>>>16),this.h3h=J<<16|L&65535,this.h3l=be<<16|ge&65535,ge=(ee&65535)+(At&65535),be=(ee>>>16)+(At>>>16)+(ge>>>16),L=($&65535)+(ot&65535)+(be>>>16),J=($>>>16)+(ot>>>16)+(L>>>16),this.h4h=J<<16|L&65535,this.h4l=be<<16|ge&65535,ge=(le&65535)+(Qt&65535),be=(le>>>16)+(Qt>>>16)+(ge>>>16),L=(W&65535)+(Et&65535)+(be>>>16),J=(W>>>16)+(Et>>>16)+(L>>>16),this.h5h=J<<16|L&65535,this.h5l=be<<16|ge&65535,ge=(T&65535)+(Xt&65535),be=(T>>>16)+(Xt>>>16)+(ge>>>16),L=(Q&65535)+(An&65535)+(be>>>16),J=(Q>>>16)+(An>>>16)+(L>>>16),this.h6h=J<<16|L&65535,this.h6l=be<<16|ge&65535,ge=(ie&65535)+(Rn&65535),be=(ie>>>16)+(Rn>>>16)+(ge>>>16),L=(se&65535)+(Vt&65535)+(be>>>16),J=(se>>>16)+(Vt>>>16)+(L>>>16),this.h7h=J<<16|L&65535,this.h7l=be<<16|ge&65535},G.prototype.hex=function(){this.finalize();var K=this.h0h,P=this.h0l,M=this.h1h,H=this.h1l,A=this.h2h,y=this.h2l,x=this.h3h,E=this.h3l,$=this.h4h,ee=this.h4l,W=this.h5h,le=this.h5l,Q=this.h6h,T=this.h6l,se=this.h7h,ie=this.h7l,ue=this.bits,_e=f[K>>28&15]+f[K>>24&15]+f[K>>20&15]+f[K>>16&15]+f[K>>12&15]+f[K>>8&15]+f[K>>4&15]+f[K&15]+f[P>>28&15]+f[P>>24&15]+f[P>>20&15]+f[P>>16&15]+f[P>>12&15]+f[P>>8&15]+f[P>>4&15]+f[P&15]+f[M>>28&15]+f[M>>24&15]+f[M>>20&15]+f[M>>16&15]+f[M>>12&15]+f[M>>8&15]+f[M>>4&15]+f[M&15]+f[H>>28&15]+f[H>>24&15]+f[H>>20&15]+f[H>>16&15]+f[H>>12&15]+f[H>>8&15]+f[H>>4&15]+f[H&15]+f[A>>28&15]+f[A>>24&15]+f[A>>20&15]+f[A>>16&15]+f[A>>12&15]+f[A>>8&15]+f[A>>4&15]+f[A&15]+f[y>>28&15]+f[y>>24&15]+f[y>>20&15]+f[y>>16&15]+f[y>>12&15]+f[y>>8&15]+f[y>>4&15]+f[y&15]+f[x>>28&15]+f[x>>24&15]+f[x>>20&15]+f[x>>16&15]+f[x>>12&15]+f[x>>8&15]+f[x>>4&15]+f[x&15];return ue>=256&&(_e+=f[E>>28&15]+f[E>>24&15]+f[E>>20&15]+f[E>>16&15]+f[E>>12&15]+f[E>>8&15]+f[E>>4&15]+f[E&15]),ue>=384&&(_e+=f[$>>28&15]+f[$>>24&15]+f[$>>20&15]+f[$>>16&15]+f[$>>12&15]+f[$>>8&15]+f[$>>4&15]+f[$&15]+f[ee>>28&15]+f[ee>>24&15]+f[ee>>20&15]+f[ee>>16&15]+f[ee>>12&15]+f[ee>>8&15]+f[ee>>4&15]+f[ee&15]+f[W>>28&15]+f[W>>24&15]+f[W>>20&15]+f[W>>16&15]+f[W>>12&15]+f[W>>8&15]+f[W>>4&15]+f[W&15]+f[le>>28&15]+f[le>>24&15]+f[le>>20&15]+f[le>>16&15]+f[le>>12&15]+f[le>>8&15]+f[le>>4&15]+f[le&15]),ue==512&&(_e+=f[Q>>28&15]+f[Q>>24&15]+f[Q>>20&15]+f[Q>>16&15]+f[Q>>12&15]+f[Q>>8&15]+f[Q>>4&15]+f[Q&15]+f[T>>28&15]+f[T>>24&15]+f[T>>20&15]+f[T>>16&15]+f[T>>12&15]+f[T>>8&15]+f[T>>4&15]+f[T&15]+f[se>>28&15]+f[se>>24&15]+f[se>>20&15]+f[se>>16&15]+f[se>>12&15]+f[se>>8&15]+f[se>>4&15]+f[se&15]+f[ie>>28&15]+f[ie>>24&15]+f[ie>>20&15]+f[ie>>16&15]+f[ie>>12&15]+f[ie>>8&15]+f[ie>>4&15]+f[ie&15]),_e},G.prototype.toString=G.prototype.hex,G.prototype.digest=function(){this.finalize();var K=this.h0h,P=this.h0l,M=this.h1h,H=this.h1l,A=this.h2h,y=this.h2l,x=this.h3h,E=this.h3l,$=this.h4h,ee=this.h4l,W=this.h5h,le=this.h5l,Q=this.h6h,T=this.h6l,se=this.h7h,ie=this.h7l,ue=this.bits,_e=[K>>24&255,K>>16&255,K>>8&255,K&255,P>>24&255,P>>16&255,P>>8&255,P&255,M>>24&255,M>>16&255,M>>8&255,M&255,H>>24&255,H>>16&255,H>>8&255,H&255,A>>24&255,A>>16&255,A>>8&255,A&255,y>>24&255,y>>16&255,y>>8&255,y&255,x>>24&255,x>>16&255,x>>8&255,x&255];return ue>=256&&_e.push(E>>24&255,E>>16&255,E>>8&255,E&255),ue>=384&&_e.push($>>24&255,$>>16&255,$>>8&255,$&255,ee>>24&255,ee>>16&255,ee>>8&255,ee&255,W>>24&255,W>>16&255,W>>8&255,W&255,le>>24&255,le>>16&255,le>>8&255,le&255),ue==512&&_e.push(Q>>24&255,Q>>16&255,Q>>8&255,Q&255,T>>24&255,T>>16&255,T>>8&255,T&255,se>>24&255,se>>16&255,se>>8&255,se&255,ie>>24&255,ie>>16&255,ie>>8&255,ie&255),_e},G.prototype.array=G.prototype.digest,G.prototype.arrayBuffer=function(){this.finalize();var K=this.bits,P=new ArrayBuffer(K/8),M=new DataView(P);return M.setUint32(0,this.h0h),M.setUint32(4,this.h0l),M.setUint32(8,this.h1h),M.setUint32(12,this.h1l),M.setUint32(16,this.h2h),M.setUint32(20,this.h2l),M.setUint32(24,this.h3h),K>=256&&M.setUint32(28,this.h3l),K>=384&&(M.setUint32(32,this.h4h),M.setUint32(36,this.h4l),M.setUint32(40,this.h5h),M.setUint32(44,this.h5l)),K==512&&(M.setUint32(48,this.h6h),M.setUint32(52,this.h6l),M.setUint32(56,this.h7h),M.setUint32(60,this.h7l)),P},G.prototype.clone=function(){var K=new G(this.bits,!1);return this.copyTo(K),K},G.prototype.copyTo=function(K){var P=0,M=["h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","start","bytes","hBytes","finalized","hashed","lastByteIndex"];for(P=0;P<M.length;++P)K[M[P]]=this[M[P]];for(P=0;P<this.blocks.length;++P)K.blocks[P]=this.blocks[P]};function he(K,P,M){var H,A=typeof K;if(A!=="string"){if(A==="object"){if(K===null)throw new Error(e);if(p&&K.constructor===ArrayBuffer)K=new Uint8Array(K);else if(!Array.isArray(K)&&(!p||!ArrayBuffer.isView(K)))throw new Error(e)}else throw new Error(e);H=!0}var y=K.length;if(!H){for(var x=[],y=K.length,E=0,$,ee=0;ee<y;++ee)$=K.charCodeAt(ee),$<128?x[E++]=$:$<2048?(x[E++]=192|$>>6,x[E++]=128|$&63):$<55296||$>=57344?(x[E++]=224|$>>12,x[E++]=128|$>>6&63,x[E++]=128|$&63):($=65536+(($&1023)<<10|K.charCodeAt(++ee)&1023),x[E++]=240|$>>18,x[E++]=128|$>>12&63,x[E++]=128|$>>6&63,x[E++]=128|$&63);K=x}K.length>128&&(K=new G(P,!0).update(K).array());for(var W=[],le=[],ee=0;ee<128;++ee){var Q=K[ee]||0;W[ee]=92^Q,le[ee]=54^Q}G.call(this,P,M),this.update(le),this.oKeyPad=W,this.inner=!0,this.sharedMemory=M}he.prototype=new G,he.prototype.finalize=function(){if(G.prototype.finalize.call(this),this.inner){this.inner=!1;var K=this.array();G.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(K),G.prototype.finalize.call(this)}},he.prototype.clone=function(){var K=new he([],this.bits,!1);this.copyTo(K),K.inner=this.inner;for(var P=0;P<this.oKeyPad.length;++P)K.oKeyPad[P]=this.oKeyPad[P];return K};var pe=N(512);pe.sha512=pe,pe.sha384=N(384),pe.sha512_256=N(256),pe.sha512_224=N(224),pe.sha512.hmac=q(512),pe.sha384.hmac=q(384),pe.sha512_256.hmac=q(256),pe.sha512_224.hmac=q(224),h?n.exports=pe:(s.sha512=pe.sha512,s.sha384=pe.sha384,s.sha512_256=pe.sha512_256,s.sha512_224=pe.sha512_224)})()})(_x)),_x.exports}var jL=PL();const VL=lu(jL);var Pf={exports:{}},Ax={exports:{}},g0={exports:{}},BL=g0.exports,Zk;function IC(){return Zk||(Zk=1,(function(n){(function(e){var t,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,o=Math.floor,l="[BigNumber Error] ",h=l+"Number primitive has more than 15 significant digits: ",p=1e14,f=14,v=9007199254740991,S=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],C=1e7,R=1e9;function B(K){var P,M,H,A=me.prototype={constructor:me,toString:null,valueOf:null},y=new me(1),x=20,E=4,$=-7,ee=21,W=-1e7,le=1e7,Q=!1,T=1,se=0,ie={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},ue="0123456789abcdefghijklmnopqrstuvwxyz",_e=!0;function me(L,J){var ce,Ne,de,xe,Ve,we,ke,Me,Se=this;if(!(Se instanceof me))return new me(L,J);if(J==null){if(L&&L._isBigNumber===!0){Se.s=L.s,!L.c||L.e>le?Se.c=Se.e=null:L.e<W?Se.c=[Se.e=0]:(Se.e=L.e,Se.c=L.c.slice());return}if((we=typeof L=="number")&&L*0==0){if(Se.s=1/L<0?(L=-L,-1):1,L===~~L){for(xe=0,Ve=L;Ve>=10;Ve/=10,xe++);xe>le?Se.c=Se.e=null:(Se.e=xe,Se.c=[L]);return}Me=String(L)}else{if(!r.test(Me=String(L)))return H(Se,Me,we);Se.s=Me.charCodeAt(0)==45?(Me=Me.slice(1),-1):1}(xe=Me.indexOf("."))>-1&&(Me=Me.replace(".","")),(Ve=Me.search(/e/i))>0?(xe<0&&(xe=Ve),xe+=+Me.slice(Ve+1),Me=Me.substring(0,Ve)):xe<0&&(xe=Me.length)}else{if(q(J,2,ue.length,"Base"),J==10&&_e)return Se=new me(L),ge(Se,x+Se.e+1,E);if(Me=String(L),we=typeof L=="number"){if(L*0!=0)return H(Se,Me,we,J);if(Se.s=1/L<0?(Me=Me.slice(1),-1):1,me.DEBUG&&Me.replace(/^0\.0*|\./,"").length>15)throw Error(h+L)}else Se.s=Me.charCodeAt(0)===45?(Me=Me.slice(1),-1):1;for(ce=ue.slice(0,J),xe=Ve=0,ke=Me.length;Ve<ke;Ve++)if(ce.indexOf(Ne=Me.charAt(Ve))<0){if(Ne=="."){if(Ve>xe){xe=ke;continue}}else if(!de&&(Me==Me.toUpperCase()&&(Me=Me.toLowerCase())||Me==Me.toLowerCase()&&(Me=Me.toUpperCase()))){de=!0,Ve=-1,xe=0;continue}return H(Se,String(L),we,J)}we=!1,Me=M(Me,J,10,Se.s),(xe=Me.indexOf("."))>-1?Me=Me.replace(".",""):xe=Me.length}for(Ve=0;Me.charCodeAt(Ve)===48;Ve++);for(ke=Me.length;Me.charCodeAt(--ke)===48;);if(Me=Me.slice(Ve,++ke)){if(ke-=Ve,we&&me.DEBUG&&ke>15&&(L>v||L!==o(L)))throw Error(h+Se.s*L);if((xe=xe-Ve-1)>le)Se.c=Se.e=null;else if(xe<W)Se.c=[Se.e=0];else{if(Se.e=xe,Se.c=[],Ve=(xe+1)%f,xe<0&&(Ve+=f),Ve<ke){for(Ve&&Se.c.push(+Me.slice(0,Ve)),ke-=f;Ve<ke;)Se.c.push(+Me.slice(Ve,Ve+=f));Ve=f-(Me=Me.slice(Ve)).length}else Ve-=ke;for(;Ve--;Me+="0");Se.c.push(+Me)}}else Se.c=[Se.e=0]}me.clone=B,me.ROUND_UP=0,me.ROUND_DOWN=1,me.ROUND_CEIL=2,me.ROUND_FLOOR=3,me.ROUND_HALF_UP=4,me.ROUND_HALF_DOWN=5,me.ROUND_HALF_EVEN=6,me.ROUND_HALF_CEIL=7,me.ROUND_HALF_FLOOR=8,me.EUCLID=9,me.config=me.set=function(L){var J,ce;if(L!=null)if(typeof L=="object"){if(L.hasOwnProperty(J="DECIMAL_PLACES")&&(ce=L[J],q(ce,0,R,J),x=ce),L.hasOwnProperty(J="ROUNDING_MODE")&&(ce=L[J],q(ce,0,8,J),E=ce),L.hasOwnProperty(J="EXPONENTIAL_AT")&&(ce=L[J],ce&&ce.pop?(q(ce[0],-R,0,J),q(ce[1],0,R,J),$=ce[0],ee=ce[1]):(q(ce,-R,R,J),$=-(ee=ce<0?-ce:ce))),L.hasOwnProperty(J="RANGE"))if(ce=L[J],ce&&ce.pop)q(ce[0],-R,-1,J),q(ce[1],1,R,J),W=ce[0],le=ce[1];else if(q(ce,-R,R,J),ce)W=-(le=ce<0?-ce:ce);else throw Error(l+J+" cannot be zero: "+ce);if(L.hasOwnProperty(J="CRYPTO"))if(ce=L[J],ce===!!ce)if(ce)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Q=ce;else throw Q=!ce,Error(l+"crypto unavailable");else Q=ce;else throw Error(l+J+" not true or false: "+ce);if(L.hasOwnProperty(J="MODULO_MODE")&&(ce=L[J],q(ce,0,9,J),T=ce),L.hasOwnProperty(J="POW_PRECISION")&&(ce=L[J],q(ce,0,R,J),se=ce),L.hasOwnProperty(J="FORMAT"))if(ce=L[J],typeof ce=="object")ie=ce;else throw Error(l+J+" not an object: "+ce);if(L.hasOwnProperty(J="ALPHABET"))if(ce=L[J],typeof ce=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(ce))_e=ce.slice(0,10)=="0123456789",ue=ce;else throw Error(l+J+" invalid: "+ce)}else throw Error(l+"Object expected: "+L);return{DECIMAL_PLACES:x,ROUNDING_MODE:E,EXPONENTIAL_AT:[$,ee],RANGE:[W,le],CRYPTO:Q,MODULO_MODE:T,POW_PRECISION:se,FORMAT:ie,ALPHABET:ue}},me.isBigNumber=function(L){if(!L||L._isBigNumber!==!0)return!1;if(!me.DEBUG)return!0;var J,ce,Ne=L.c,de=L.e,xe=L.s;e:if({}.toString.call(Ne)=="[object Array]"){if((xe===1||xe===-1)&&de>=-R&&de<=R&&de===o(de)){if(Ne[0]===0){if(de===0&&Ne.length===1)return!0;break e}if(J=(de+1)%f,J<1&&(J+=f),String(Ne[0]).length==J){for(J=0;J<Ne.length;J++)if(ce=Ne[J],ce<0||ce>=p||ce!==o(ce))break e;if(ce!==0)return!0}}}else if(Ne===null&&de===null&&(xe===null||xe===1||xe===-1))return!0;throw Error(l+"Invalid BigNumber: "+L)},me.maximum=me.max=function(){return Ae(arguments,-1)},me.minimum=me.min=function(){return Ae(arguments,1)},me.random=(function(){var L=9007199254740992,J=Math.random()*L&2097151?function(){return o(Math.random()*L)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(ce){var Ne,de,xe,Ve,we,ke=0,Me=[],Se=new me(y);if(ce==null?ce=x:q(ce,0,R),Ve=s(ce/f),Q)if(crypto.getRandomValues){for(Ne=crypto.getRandomValues(new Uint32Array(Ve*=2));ke<Ve;)we=Ne[ke]*131072+(Ne[ke+1]>>>11),we>=9e15?(de=crypto.getRandomValues(new Uint32Array(2)),Ne[ke]=de[0],Ne[ke+1]=de[1]):(Me.push(we%1e14),ke+=2);ke=Ve/2}else if(crypto.randomBytes){for(Ne=crypto.randomBytes(Ve*=7);ke<Ve;)we=(Ne[ke]&31)*281474976710656+Ne[ke+1]*1099511627776+Ne[ke+2]*4294967296+Ne[ke+3]*16777216+(Ne[ke+4]<<16)+(Ne[ke+5]<<8)+Ne[ke+6],we>=9e15?crypto.randomBytes(7).copy(Ne,ke):(Me.push(we%1e14),ke+=7);ke=Ve/7}else throw Q=!1,Error(l+"crypto unavailable");if(!Q)for(;ke<Ve;)we=J(),we<9e15&&(Me[ke++]=we%1e14);for(Ve=Me[--ke],ce%=f,Ve&&ce&&(we=S[f-ce],Me[ke]=o(Ve/we)*we);Me[ke]===0;Me.pop(),ke--);if(ke<0)Me=[xe=0];else{for(xe=-1;Me[0]===0;Me.splice(0,1),xe-=f);for(ke=1,we=Me[0];we>=10;we/=10,ke++);ke<f&&(xe-=f-ke)}return Se.e=xe,Se.c=Me,Se}})(),me.sum=function(){for(var L=1,J=arguments,ce=new me(J[0]);L<J.length;)ce=ce.plus(J[L++]);return ce},M=(function(){var L="0123456789";function J(ce,Ne,de,xe){for(var Ve,we=[0],ke,Me=0,Se=ce.length;Me<Se;){for(ke=we.length;ke--;we[ke]*=Ne);for(we[0]+=xe.indexOf(ce.charAt(Me++)),Ve=0;Ve<we.length;Ve++)we[Ve]>de-1&&(we[Ve+1]==null&&(we[Ve+1]=0),we[Ve+1]+=we[Ve]/de|0,we[Ve]%=de)}return we.reverse()}return function(ce,Ne,de,xe,Ve){var we,ke,Me,Se,Be,Xe,We,lt,_t=ce.indexOf("."),Nt=x,z=E;for(_t>=0&&(Se=se,se=0,ce=ce.replace(".",""),lt=new me(Ne),Xe=lt.pow(ce.length-_t),se=Se,lt.c=J(pe(N(Xe.c),Xe.e,"0"),10,de,L),lt.e=lt.c.length),We=J(ce,Ne,de,Ve?(we=ue,L):(we=L,ue)),Me=Se=We.length;We[--Se]==0;We.pop());if(!We[0])return we.charAt(0);if(_t<0?--Me:(Xe.c=We,Xe.e=Me,Xe.s=xe,Xe=P(Xe,lt,Nt,z,de),We=Xe.c,Be=Xe.r,Me=Xe.e),ke=Me+Nt+1,_t=We[ke],Se=de/2,Be=Be||ke<0||We[ke+1]!=null,Be=z<4?(_t!=null||Be)&&(z==0||z==(Xe.s<0?3:2)):_t>Se||_t==Se&&(z==4||Be||z==6&&We[ke-1]&1||z==(Xe.s<0?8:7)),ke<1||!We[0])ce=Be?pe(we.charAt(1),-Nt,we.charAt(0)):we.charAt(0);else{if(We.length=ke,Be)for(--de;++We[--ke]>de;)We[ke]=0,ke||(++Me,We=[1].concat(We));for(Se=We.length;!We[--Se];);for(_t=0,ce="";_t<=Se;ce+=we.charAt(We[_t++]));ce=pe(ce,Me,we.charAt(0))}return ce}})(),P=(function(){function L(Ne,de,xe){var Ve,we,ke,Me,Se=0,Be=Ne.length,Xe=de%C,We=de/C|0;for(Ne=Ne.slice();Be--;)ke=Ne[Be]%C,Me=Ne[Be]/C|0,Ve=We*ke+Me*Xe,we=Xe*ke+Ve%C*C+Se,Se=(we/xe|0)+(Ve/C|0)+We*Me,Ne[Be]=we%xe;return Se&&(Ne=[Se].concat(Ne)),Ne}function J(Ne,de,xe,Ve){var we,ke;if(xe!=Ve)ke=xe>Ve?1:-1;else for(we=ke=0;we<xe;we++)if(Ne[we]!=de[we]){ke=Ne[we]>de[we]?1:-1;break}return ke}function ce(Ne,de,xe,Ve){for(var we=0;xe--;)Ne[xe]-=we,we=Ne[xe]<de[xe]?1:0,Ne[xe]=we*Ve+Ne[xe]-de[xe];for(;!Ne[0]&&Ne.length>1;Ne.splice(0,1));}return function(Ne,de,xe,Ve,we){var ke,Me,Se,Be,Xe,We,lt,_t,Nt,z,_,I,ae,ve,Re,Fe,gt,pt=Ne.s==de.s?1:-1,ot=Ne.c,At=de.c;if(!ot||!ot[0]||!At||!At[0])return new me(!Ne.s||!de.s||(ot?At&&ot[0]==At[0]:!At)?NaN:ot&&ot[0]==0||!At?pt*0:pt/0);for(_t=new me(pt),Nt=_t.c=[],Me=Ne.e-de.e,pt=xe+Me+1,we||(we=p,Me=re(Ne.e/f)-re(de.e/f),pt=pt/f|0),Se=0;At[Se]==(ot[Se]||0);Se++);if(At[Se]>(ot[Se]||0)&&Me--,pt<0)Nt.push(1),Be=!0;else{for(ve=ot.length,Fe=At.length,Se=0,pt+=2,Xe=o(we/(At[0]+1)),Xe>1&&(At=L(At,Xe,we),ot=L(ot,Xe,we),Fe=At.length,ve=ot.length),ae=Fe,z=ot.slice(0,Fe),_=z.length;_<Fe;z[_++]=0);gt=At.slice(),gt=[0].concat(gt),Re=At[0],At[1]>=we/2&&Re++;do{if(Xe=0,ke=J(At,z,Fe,_),ke<0){if(I=z[0],Fe!=_&&(I=I*we+(z[1]||0)),Xe=o(I/Re),Xe>1)for(Xe>=we&&(Xe=we-1),We=L(At,Xe,we),lt=We.length,_=z.length;J(We,z,lt,_)==1;)Xe--,ce(We,Fe<lt?gt:At,lt,we),lt=We.length,ke=1;else Xe==0&&(ke=Xe=1),We=At.slice(),lt=We.length;if(lt<_&&(We=[0].concat(We)),ce(z,We,_,we),_=z.length,ke==-1)for(;J(At,z,Fe,_)<1;)Xe++,ce(z,Fe<_?gt:At,_,we),_=z.length}else ke===0&&(Xe++,z=[0]);Nt[Se++]=Xe,z[0]?z[_++]=ot[ae]||0:(z=[ot[ae]],_=1)}while((ae++<ve||z[0]!=null)&&pt--);Be=z[0]!=null,Nt[0]||Nt.splice(0,1)}if(we==p){for(Se=1,pt=Nt[0];pt>=10;pt/=10,Se++);ge(_t,xe+(_t.e=Se+Me*f-1)+1,Ve,Be)}else _t.e=Me,_t.r=+Be;return _t}})();function O(L,J,ce,Ne){var de,xe,Ve,we,ke;if(ce==null?ce=E:q(ce,0,8),!L.c)return L.toString();if(de=L.c[0],Ve=L.e,J==null)ke=N(L.c),ke=Ne==1||Ne==2&&(Ve<=$||Ve>=ee)?he(ke,Ve):pe(ke,Ve,"0");else if(L=ge(new me(L),J,ce),xe=L.e,ke=N(L.c),we=ke.length,Ne==1||Ne==2&&(J<=xe||xe<=$)){for(;we<J;ke+="0",we++);ke=he(ke,xe)}else if(J-=Ve+(Ne===2&&xe>Ve),ke=pe(ke,xe,"0"),xe+1>we){if(--J>0)for(ke+=".";J--;ke+="0");}else if(J+=xe-we,J>0)for(xe+1==we&&(ke+=".");J--;ke+="0");return L.s<0&&de?"-"+ke:ke}function Ae(L,J){for(var ce,Ne,de=1,xe=new me(L[0]);de<L.length;de++)Ne=new me(L[de]),(!Ne.s||(ce=U(xe,Ne))===J||ce===0&&xe.s===J)&&(xe=Ne);return xe}function Pe(L,J,ce){for(var Ne=1,de=J.length;!J[--de];J.pop());for(de=J[0];de>=10;de/=10,Ne++);return(ce=Ne+ce*f-1)>le?L.c=L.e=null:ce<W?L.c=[L.e=0]:(L.e=ce,L.c=J),L}H=(function(){var L=/^(-?)0([xbo])(?=\w[\w.]*$)/i,J=/^([^.]+)\.$/,ce=/^\.([^.]+)$/,Ne=/^-?(Infinity|NaN)$/,de=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(xe,Ve,we,ke){var Me,Se=we?Ve:Ve.replace(de,"");if(Ne.test(Se))xe.s=isNaN(Se)?null:Se<0?-1:1;else{if(!we&&(Se=Se.replace(L,function(Be,Xe,We){return Me=(We=We.toLowerCase())=="x"?16:We=="b"?2:8,!ke||ke==Me?Xe:Be}),ke&&(Me=ke,Se=Se.replace(J,"$1").replace(ce,"0.$1")),Ve!=Se))return new me(Se,Me);if(me.DEBUG)throw Error(l+"Not a"+(ke?" base "+ke:"")+" number: "+Ve);xe.s=null}xe.c=xe.e=null}})();function ge(L,J,ce,Ne){var de,xe,Ve,we,ke,Me,Se,Be=L.c,Xe=S;if(Be){e:{for(de=1,we=Be[0];we>=10;we/=10,de++);if(xe=J-de,xe<0)xe+=f,Ve=J,ke=Be[Me=0],Se=o(ke/Xe[de-Ve-1]%10);else if(Me=s((xe+1)/f),Me>=Be.length)if(Ne){for(;Be.length<=Me;Be.push(0));ke=Se=0,de=1,xe%=f,Ve=xe-f+1}else break e;else{for(ke=we=Be[Me],de=1;we>=10;we/=10,de++);xe%=f,Ve=xe-f+de,Se=Ve<0?0:o(ke/Xe[de-Ve-1]%10)}if(Ne=Ne||J<0||Be[Me+1]!=null||(Ve<0?ke:ke%Xe[de-Ve-1]),Ne=ce<4?(Se||Ne)&&(ce==0||ce==(L.s<0?3:2)):Se>5||Se==5&&(ce==4||Ne||ce==6&&(xe>0?Ve>0?ke/Xe[de-Ve]:0:Be[Me-1])%10&1||ce==(L.s<0?8:7)),J<1||!Be[0])return Be.length=0,Ne?(J-=L.e+1,Be[0]=Xe[(f-J%f)%f],L.e=-J||0):Be[0]=L.e=0,L;if(xe==0?(Be.length=Me,we=1,Me--):(Be.length=Me+1,we=Xe[f-xe],Be[Me]=Ve>0?o(ke/Xe[de-Ve]%Xe[Ve])*we:0),Ne)for(;;)if(Me==0){for(xe=1,Ve=Be[0];Ve>=10;Ve/=10,xe++);for(Ve=Be[0]+=we,we=1;Ve>=10;Ve/=10,we++);xe!=we&&(L.e++,Be[0]==p&&(Be[0]=1));break}else{if(Be[Me]+=we,Be[Me]!=p)break;Be[Me--]=0,we=1}for(xe=Be.length;Be[--xe]===0;Be.pop());}L.e>le?L.c=L.e=null:L.e<W&&(L.c=[L.e=0])}return L}function be(L){var J,ce=L.e;return ce===null?L.toString():(J=N(L.c),J=ce<=$||ce>=ee?he(J,ce):pe(J,ce,"0"),L.s<0?"-"+J:J)}return A.absoluteValue=A.abs=function(){var L=new me(this);return L.s<0&&(L.s=1),L},A.comparedTo=function(L,J){return U(this,new me(L,J))},A.decimalPlaces=A.dp=function(L,J){var ce,Ne,de,xe=this;if(L!=null)return q(L,0,R),J==null?J=E:q(J,0,8),ge(new me(xe),L+xe.e+1,J);if(!(ce=xe.c))return null;if(Ne=((de=ce.length-1)-re(this.e/f))*f,de=ce[de])for(;de%10==0;de/=10,Ne--);return Ne<0&&(Ne=0),Ne},A.dividedBy=A.div=function(L,J){return P(this,new me(L,J),x,E)},A.dividedToIntegerBy=A.idiv=function(L,J){return P(this,new me(L,J),0,1)},A.exponentiatedBy=A.pow=function(L,J){var ce,Ne,de,xe,Ve,we,ke,Me,Se,Be=this;if(L=new me(L),L.c&&!L.isInteger())throw Error(l+"Exponent not an integer: "+be(L));if(J!=null&&(J=new me(J)),we=L.e>14,!Be.c||!Be.c[0]||Be.c[0]==1&&!Be.e&&Be.c.length==1||!L.c||!L.c[0])return Se=new me(Math.pow(+be(Be),we?L.s*(2-G(L)):+be(L))),J?Se.mod(J):Se;if(ke=L.s<0,J){if(J.c?!J.c[0]:!J.s)return new me(NaN);Ne=!ke&&Be.isInteger()&&J.isInteger(),Ne&&(Be=Be.mod(J))}else{if(L.e>9&&(Be.e>0||Be.e<-1||(Be.e==0?Be.c[0]>1||we&&Be.c[1]>=24e7:Be.c[0]<8e13||we&&Be.c[0]<=9999975e7)))return xe=Be.s<0&&G(L)?-0:0,Be.e>-1&&(xe=1/xe),new me(ke?1/xe:xe);se&&(xe=s(se/f+2))}for(we?(ce=new me(.5),ke&&(L.s=1),Me=G(L)):(de=Math.abs(+be(L)),Me=de%2),Se=new me(y);;){if(Me){if(Se=Se.times(Be),!Se.c)break;xe?Se.c.length>xe&&(Se.c.length=xe):Ne&&(Se=Se.mod(J))}if(de){if(de=o(de/2),de===0)break;Me=de%2}else if(L=L.times(ce),ge(L,L.e+1,1),L.e>14)Me=G(L);else{if(de=+be(L),de===0)break;Me=de%2}Be=Be.times(Be),xe?Be.c&&Be.c.length>xe&&(Be.c.length=xe):Ne&&(Be=Be.mod(J))}return Ne?Se:(ke&&(Se=y.div(Se)),J?Se.mod(J):xe?ge(Se,se,E,Ve):Se)},A.integerValue=function(L){var J=new me(this);return L==null?L=E:q(L,0,8),ge(J,J.e+1,L)},A.isEqualTo=A.eq=function(L,J){return U(this,new me(L,J))===0},A.isFinite=function(){return!!this.c},A.isGreaterThan=A.gt=function(L,J){return U(this,new me(L,J))>0},A.isGreaterThanOrEqualTo=A.gte=function(L,J){return(J=U(this,new me(L,J)))===1||J===0},A.isInteger=function(){return!!this.c&&re(this.e/f)>this.c.length-2},A.isLessThan=A.lt=function(L,J){return U(this,new me(L,J))<0},A.isLessThanOrEqualTo=A.lte=function(L,J){return(J=U(this,new me(L,J)))===-1||J===0},A.isNaN=function(){return!this.s},A.isNegative=function(){return this.s<0},A.isPositive=function(){return this.s>0},A.isZero=function(){return!!this.c&&this.c[0]==0},A.minus=function(L,J){var ce,Ne,de,xe,Ve=this,we=Ve.s;if(L=new me(L,J),J=L.s,!we||!J)return new me(NaN);if(we!=J)return L.s=-J,Ve.plus(L);var ke=Ve.e/f,Me=L.e/f,Se=Ve.c,Be=L.c;if(!ke||!Me){if(!Se||!Be)return Se?(L.s=-J,L):new me(Be?Ve:NaN);if(!Se[0]||!Be[0])return Be[0]?(L.s=-J,L):new me(Se[0]?Ve:E==3?-0:0)}if(ke=re(ke),Me=re(Me),Se=Se.slice(),we=ke-Me){for((xe=we<0)?(we=-we,de=Se):(Me=ke,de=Be),de.reverse(),J=we;J--;de.push(0));de.reverse()}else for(Ne=(xe=(we=Se.length)<(J=Be.length))?we:J,we=J=0;J<Ne;J++)if(Se[J]!=Be[J]){xe=Se[J]<Be[J];break}if(xe&&(de=Se,Se=Be,Be=de,L.s=-L.s),J=(Ne=Be.length)-(ce=Se.length),J>0)for(;J--;Se[ce++]=0);for(J=p-1;Ne>we;){if(Se[--Ne]<Be[Ne]){for(ce=Ne;ce&&!Se[--ce];Se[ce]=J);--Se[ce],Se[Ne]+=p}Se[Ne]-=Be[Ne]}for(;Se[0]==0;Se.splice(0,1),--Me);return Se[0]?Pe(L,Se,Me):(L.s=E==3?-1:1,L.c=[L.e=0],L)},A.modulo=A.mod=function(L,J){var ce,Ne,de=this;return L=new me(L,J),!de.c||!L.s||L.c&&!L.c[0]?new me(NaN):!L.c||de.c&&!de.c[0]?new me(de):(T==9?(Ne=L.s,L.s=1,ce=P(de,L,0,3),L.s=Ne,ce.s*=Ne):ce=P(de,L,0,T),L=de.minus(ce.times(L)),!L.c[0]&&T==1&&(L.s=de.s),L)},A.multipliedBy=A.times=function(L,J){var ce,Ne,de,xe,Ve,we,ke,Me,Se,Be,Xe,We,lt,_t,Nt,z=this,_=z.c,I=(L=new me(L,J)).c;if(!_||!I||!_[0]||!I[0])return!z.s||!L.s||_&&!_[0]&&!I||I&&!I[0]&&!_?L.c=L.e=L.s=null:(L.s*=z.s,!_||!I?L.c=L.e=null:(L.c=[0],L.e=0)),L;for(Ne=re(z.e/f)+re(L.e/f),L.s*=z.s,ke=_.length,Be=I.length,ke<Be&&(lt=_,_=I,I=lt,de=ke,ke=Be,Be=de),de=ke+Be,lt=[];de--;lt.push(0));for(_t=p,Nt=C,de=Be;--de>=0;){for(ce=0,Xe=I[de]%Nt,We=I[de]/Nt|0,Ve=ke,xe=de+Ve;xe>de;)Me=_[--Ve]%Nt,Se=_[Ve]/Nt|0,we=We*Me+Se*Xe,Me=Xe*Me+we%Nt*Nt+lt[xe]+ce,ce=(Me/_t|0)+(we/Nt|0)+We*Se,lt[xe--]=Me%_t;lt[xe]=ce}return ce?++Ne:lt.splice(0,1),Pe(L,lt,Ne)},A.negated=function(){var L=new me(this);return L.s=-L.s||null,L},A.plus=function(L,J){var ce,Ne=this,de=Ne.s;if(L=new me(L,J),J=L.s,!de||!J)return new me(NaN);if(de!=J)return L.s=-J,Ne.minus(L);var xe=Ne.e/f,Ve=L.e/f,we=Ne.c,ke=L.c;if(!xe||!Ve){if(!we||!ke)return new me(de/0);if(!we[0]||!ke[0])return ke[0]?L:new me(we[0]?Ne:de*0)}if(xe=re(xe),Ve=re(Ve),we=we.slice(),de=xe-Ve){for(de>0?(Ve=xe,ce=ke):(de=-de,ce=we),ce.reverse();de--;ce.push(0));ce.reverse()}for(de=we.length,J=ke.length,de-J<0&&(ce=ke,ke=we,we=ce,J=de),de=0;J;)de=(we[--J]=we[J]+ke[J]+de)/p|0,we[J]=p===we[J]?0:we[J]%p;return de&&(we=[de].concat(we),++Ve),Pe(L,we,Ve)},A.precision=A.sd=function(L,J){var ce,Ne,de,xe=this;if(L!=null&&L!==!!L)return q(L,1,R),J==null?J=E:q(J,0,8),ge(new me(xe),L,J);if(!(ce=xe.c))return null;if(de=ce.length-1,Ne=de*f+1,de=ce[de]){for(;de%10==0;de/=10,Ne--);for(de=ce[0];de>=10;de/=10,Ne++);}return L&&xe.e+1>Ne&&(Ne=xe.e+1),Ne},A.shiftedBy=function(L){return q(L,-v,v),this.times("1e"+L)},A.squareRoot=A.sqrt=function(){var L,J,ce,Ne,de,xe=this,Ve=xe.c,we=xe.s,ke=xe.e,Me=x+4,Se=new me("0.5");if(we!==1||!Ve||!Ve[0])return new me(!we||we<0&&(!Ve||Ve[0])?NaN:Ve?xe:1/0);if(we=Math.sqrt(+be(xe)),we==0||we==1/0?(J=N(Ve),(J.length+ke)%2==0&&(J+="0"),we=Math.sqrt(+J),ke=re((ke+1)/2)-(ke<0||ke%2),we==1/0?J="5e"+ke:(J=we.toExponential(),J=J.slice(0,J.indexOf("e")+1)+ke),ce=new me(J)):ce=new me(we+""),ce.c[0]){for(ke=ce.e,we=ke+Me,we<3&&(we=0);;)if(de=ce,ce=Se.times(de.plus(P(xe,de,Me,1))),N(de.c).slice(0,we)===(J=N(ce.c)).slice(0,we))if(ce.e<ke&&--we,J=J.slice(we-3,we+1),J=="9999"||!Ne&&J=="4999"){if(!Ne&&(ge(de,de.e+x+2,0),de.times(de).eq(xe))){ce=de;break}Me+=4,we+=4,Ne=1}else{(!+J||!+J.slice(1)&&J.charAt(0)=="5")&&(ge(ce,ce.e+x+2,1),L=!ce.times(ce).eq(xe));break}}return ge(ce,ce.e+x+1,E,L)},A.toExponential=function(L,J){return L!=null&&(q(L,0,R),L++),O(this,L,J,1)},A.toFixed=function(L,J){return L!=null&&(q(L,0,R),L=L+this.e+1),O(this,L,J)},A.toFormat=function(L,J,ce){var Ne,de=this;if(ce==null)L!=null&&J&&typeof J=="object"?(ce=J,J=null):L&&typeof L=="object"?(ce=L,L=J=null):ce=ie;else if(typeof ce!="object")throw Error(l+"Argument not an object: "+ce);if(Ne=de.toFixed(L,J),de.c){var xe,Ve=Ne.split("."),we=+ce.groupSize,ke=+ce.secondaryGroupSize,Me=ce.groupSeparator||"",Se=Ve[0],Be=Ve[1],Xe=de.s<0,We=Xe?Se.slice(1):Se,lt=We.length;if(ke&&(xe=we,we=ke,ke=xe,lt-=xe),we>0&&lt>0){for(xe=lt%we||we,Se=We.substr(0,xe);xe<lt;xe+=we)Se+=Me+We.substr(xe,we);ke>0&&(Se+=Me+We.slice(xe)),Xe&&(Se="-"+Se)}Ne=Be?Se+(ce.decimalSeparator||"")+((ke=+ce.fractionGroupSize)?Be.replace(new RegExp("\\d{"+ke+"}\\B","g"),"$&"+(ce.fractionGroupSeparator||"")):Be):Se}return(ce.prefix||"")+Ne+(ce.suffix||"")},A.toFraction=function(L){var J,ce,Ne,de,xe,Ve,we,ke,Me,Se,Be,Xe,We=this,lt=We.c;if(L!=null&&(we=new me(L),!we.isInteger()&&(we.c||we.s!==1)||we.lt(y)))throw Error(l+"Argument "+(we.isInteger()?"out of range: ":"not an integer: ")+be(we));if(!lt)return new me(We);for(J=new me(y),Me=ce=new me(y),Ne=ke=new me(y),Xe=N(lt),xe=J.e=Xe.length-We.e-1,J.c[0]=S[(Ve=xe%f)<0?f+Ve:Ve],L=!L||we.comparedTo(J)>0?xe>0?J:Me:we,Ve=le,le=1/0,we=new me(Xe),ke.c[0]=0;Se=P(we,J,0,1),de=ce.plus(Se.times(Ne)),de.comparedTo(L)!=1;)ce=Ne,Ne=de,Me=ke.plus(Se.times(de=Me)),ke=de,J=we.minus(Se.times(de=J)),we=de;return de=P(L.minus(ce),Ne,0,1),ke=ke.plus(de.times(Me)),ce=ce.plus(de.times(Ne)),ke.s=Me.s=We.s,xe=xe*2,Be=P(Me,Ne,xe,E).minus(We).abs().comparedTo(P(ke,ce,xe,E).minus(We).abs())<1?[Me,Ne]:[ke,ce],le=Ve,Be},A.toNumber=function(){return+be(this)},A.toPrecision=function(L,J){return L!=null&&q(L,1,R),O(this,L,J,2)},A.toString=function(L){var J,ce=this,Ne=ce.s,de=ce.e;return de===null?Ne?(J="Infinity",Ne<0&&(J="-"+J)):J="NaN":(L==null?J=de<=$||de>=ee?he(N(ce.c),de):pe(N(ce.c),de,"0"):L===10&&_e?(ce=ge(new me(ce),x+de+1,E),J=pe(N(ce.c),ce.e,"0")):(q(L,2,ue.length,"Base"),J=M(pe(N(ce.c),de,"0"),10,L,Ne,!0)),Ne<0&&ce.c[0]&&(J="-"+J)),J},A.valueOf=A.toJSON=function(){return be(this)},A._isBigNumber=!0,K!=null&&me.set(K),me}function re(K){var P=K|0;return K>0||K===P?P:P-1}function N(K){for(var P,M,H=1,A=K.length,y=K[0]+"";H<A;){for(P=K[H++]+"",M=f-P.length;M--;P="0"+P);y+=P}for(A=y.length;y.charCodeAt(--A)===48;);return y.slice(0,A+1||1)}function U(K,P){var M,H,A=K.c,y=P.c,x=K.s,E=P.s,$=K.e,ee=P.e;if(!x||!E)return null;if(M=A&&!A[0],H=y&&!y[0],M||H)return M?H?0:-E:x;if(x!=E)return x;if(M=x<0,H=$==ee,!A||!y)return H?0:!A^M?1:-1;if(!H)return $>ee^M?1:-1;for(E=($=A.length)<(ee=y.length)?$:ee,x=0;x<E;x++)if(A[x]!=y[x])return A[x]>y[x]^M?1:-1;return $==ee?0:$>ee^M?1:-1}function q(K,P,M,H){if(K<P||K>M||K!==o(K))throw Error(l+(H||"Argument")+(typeof K=="number"?K<P||K>M?" out of range: ":" not an integer: ":" not a primitive number: ")+String(K))}function G(K){var P=K.c.length-1;return re(K.e/f)==P&&K.c[P]%2!=0}function he(K,P){return(K.length>1?K.charAt(0)+"."+K.slice(1):K)+(P<0?"e":"e+")+P}function pe(K,P,M){var H,A;if(P<0){for(A=M+".";++P;A+=M);K=A+K}else if(H=K.length,++P>H){for(A=M,P-=H;--P;A+=M);K+=A}else P<H&&(K=K.slice(0,P)+"."+K.slice(P));return K}t=B(),t.default=t.BigNumber=t,n.exports?n.exports=t:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=t)})(BL)})(g0)),g0.exports}var e6;function UL(){return e6||(e6=1,(function(n){var e=IC(),t=n.exports;(function(){var r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s,o,l={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h;function p(v){return r.lastIndex=0,r.test(v)?'"'+v.replace(r,function(S){var C=l[S];return typeof C=="string"?C:"\\u"+("0000"+S.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+v+'"'}function f(v,S){var C,R,B,re,N=s,U,q=S[v],G=q!=null&&(q instanceof e||e.isBigNumber(q));switch(q&&typeof q=="object"&&typeof q.toJSON=="function"&&(q=q.toJSON(v)),typeof h=="function"&&(q=h.call(S,v,q)),typeof q){case"string":return G?q:p(q);case"number":return isFinite(q)?String(q):"null";case"boolean":case"null":case"bigint":return String(q);case"object":if(!q)return"null";if(s+=o,U=[],Object.prototype.toString.apply(q)==="[object Array]"){for(re=q.length,C=0;C<re;C+=1)U[C]=f(C,q)||"null";return B=U.length===0?"[]":s?`[
`+s+U.join(`,
`+s)+`
`+N+"]":"["+U.join(",")+"]",s=N,B}if(h&&typeof h=="object")for(re=h.length,C=0;C<re;C+=1)typeof h[C]=="string"&&(R=h[C],B=f(R,q),B&&U.push(p(R)+(s?": ":":")+B));else Object.keys(q).forEach(function(he){var pe=f(he,q);pe&&U.push(p(he)+(s?": ":":")+pe)});return B=U.length===0?"{}":s?`{
`+s+U.join(`,
`+s)+`
`+N+"}":"{"+U.join(",")+"}",s=N,B}}typeof t.stringify!="function"&&(t.stringify=function(v,S,C){var R;if(s="",o="",typeof C=="number")for(R=0;R<C;R+=1)o+=" ";else typeof C=="string"&&(o=C);if(h=S,S&&typeof S!="function"&&(typeof S!="object"||typeof S.length!="number"))throw new Error("JSON.stringify");return f("",{"":v})})})()})(Ax)),Ax.exports}var Tx,t6;function LL(){if(t6)return Tx;t6=1;var n=null;const e=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,t=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var r=function(s){var o={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(s!=null){if(s.strict===!0&&(o.strict=!0),s.storeAsString===!0&&(o.storeAsString=!0),o.alwaysParseAsBig=s.alwaysParseAsBig===!0?s.alwaysParseAsBig:!1,o.useNativeBigInt=s.useNativeBigInt===!0?s.useNativeBigInt:!1,typeof s.constructorAction<"u")if(s.constructorAction==="error"||s.constructorAction==="ignore"||s.constructorAction==="preserve")o.constructorAction=s.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${s.constructorAction}`);if(typeof s.protoAction<"u")if(s.protoAction==="error"||s.protoAction==="ignore"||s.protoAction==="preserve")o.protoAction=s.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${s.protoAction}`)}var l,h,p={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},f,v=function(G){throw{name:"SyntaxError",message:G,at:l,text:f}},S=function(G){return G&&G!==h&&v("Expected '"+G+"' instead of '"+h+"'"),h=f.charAt(l),l+=1,h},C=function(){var G,he="";for(h==="-"&&(he="-",S("-"));h>="0"&&h<="9";)he+=h,S();if(h===".")for(he+=".";S()&&h>="0"&&h<="9";)he+=h;if(h==="e"||h==="E")for(he+=h,S(),(h==="-"||h==="+")&&(he+=h,S());h>="0"&&h<="9";)he+=h,S();if(G=+he,!isFinite(G))v("Bad number");else return n==null&&(n=IC()),he.length>15?o.storeAsString?he:o.useNativeBigInt?BigInt(he):new n(he):o.alwaysParseAsBig?o.useNativeBigInt?BigInt(G):new n(G):G},R=function(){var G,he,pe="",K;if(h==='"')for(var P=l;S();){if(h==='"')return l-1>P&&(pe+=f.substring(P,l-1)),S(),pe;if(h==="\\"){if(l-1>P&&(pe+=f.substring(P,l-1)),S(),h==="u"){for(K=0,he=0;he<4&&(G=parseInt(S(),16),!!isFinite(G));he+=1)K=K*16+G;pe+=String.fromCharCode(K)}else if(typeof p[h]=="string")pe+=p[h];else break;P=l}}v("Bad string")},B=function(){for(;h&&h<=" ";)S()},re=function(){switch(h){case"t":return S("t"),S("r"),S("u"),S("e"),!0;case"f":return S("f"),S("a"),S("l"),S("s"),S("e"),!1;case"n":return S("n"),S("u"),S("l"),S("l"),null}v("Unexpected '"+h+"'")},N,U=function(){var G=[];if(h==="["){if(S("["),B(),h==="]")return S("]"),G;for(;h;){if(G.push(N()),B(),h==="]")return S("]"),G;S(","),B()}}v("Bad array")},q=function(){var G,he=Object.create(null);if(h==="{"){if(S("{"),B(),h==="}")return S("}"),he;for(;h;){if(G=R(),B(),S(":"),o.strict===!0&&Object.hasOwnProperty.call(he,G)&&v('Duplicate key "'+G+'"'),e.test(G)===!0?o.protoAction==="error"?v("Object contains forbidden prototype property"):o.protoAction==="ignore"?N():he[G]=N():t.test(G)===!0?o.constructorAction==="error"?v("Object contains forbidden constructor property"):o.constructorAction==="ignore"?N():he[G]=N():he[G]=N(),B(),h==="}")return S("}"),he;S(","),B()}}v("Bad object")};return N=function(){switch(B(),h){case"{":return q();case"[":return U();case'"':return R();case"-":return C();default:return h>="0"&&h<="9"?C():re()}},function(G,he){var pe;return f=G+"",l=0,h=" ",pe=N(),B(),h&&v("Syntax error"),typeof he=="function"?(function K(P,M){var H,A=P[M];return A&&typeof A=="object"&&Object.keys(A).forEach(function(y){H=K(A,y),H!==void 0?A[y]=H:delete A[y]}),he.call(P,M,A)})({"":pe},""):pe}};return Tx=r,Tx}var n6;function zL(){if(n6)return Pf.exports;n6=1;var n=UL().stringify,e=LL();return Pf.exports=function(t){return{parse:e(t),stringify:n}},Pf.exports.parse=e(),Pf.exports.stringify=n,Pf.exports}var qL=zL();const $L=lu(qL);var C1;(function(n){n.UNSAFE="unsafe",n.SAFE="safe",n.MIXED="mixed",n.BIGINT="bigint"})(C1||(C1={}));const Jr=C1,CC=$L({useNativeBigInt:!0,strict:!0});function QE(n,{intDecoding:e}){if(e!==Jr.SAFE&&e!==Jr.UNSAFE&&e!==Jr.BIGINT&&e!==Jr.MIXED)throw new Error(`Invalid intDecoding option: ${e}`);return CC.parse(n,(t,r)=>{if(r!=null&&typeof r=="object"&&Object.getPrototypeOf(r)==null&&Object.setPrototypeOf(r,Object.prototype),typeof r=="bigint"){if(e===Jr.SAFE&&r>Number.MAX_SAFE_INTEGER)throw new Error(`Integer exceeds maximum safe integer: ${r.toString()}. Try parsing with a different intDecoding option.`);return e===Jr.BIGINT||e===Jr.MIXED&&r>Number.MAX_SAFE_INTEGER?r:Number(r)}return typeof r=="number"&&e===Jr.BIGINT&&Number.isInteger(r)?BigInt(r):r})}function Tl(n,e,t){return CC.stringify(n,e,t)}function la(n,e){return n.length!==e.length?!1:Array.from(n).every((t,r)=>t===e[r])}function Lr(...n){const e=n.reduce((s,o)=>s+o.length,0),t=new Uint8Array(e);let r=0;for(let s=0;s<n.length;s++)t.set(n[s],r),r+=n[s].length;return t}function Vy(){return typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node<"u"}function HL(){const{navigator:n}=globalThis;return typeof n=="object"&&n.product==="ReactNative"}function ft(n){if(typeof n>"u")throw new Error("Value is undefined");if(typeof n=="bigint"){if(n>BigInt(Number.MAX_SAFE_INTEGER)||n<BigInt(Number.MIN_SAFE_INTEGER))throw new Error(`BigInt value ${n} is not a safe integer`);return Number(n)}if(typeof n=="number"){if(Number.isSafeInteger(n))return n;throw new Error(`Value ${n} is not a safe integer`)}throw new Error(`Unexpected type ${typeof n}, ${n}`)}function ri(n){const e=ft(n);if(e<0)throw new Error(`Value ${e} is negative`);return e}function He(n){if(typeof n>"u")throw new Error("Value is undefined");if(typeof n=="bigint")return n;if(typeof n=="number"){if(!Number.isSafeInteger(n))throw new Error(`Value ${n} is not a safe integer`);return BigInt(n)}throw new Error(`Unexpected type ${typeof n}, ${n}`)}function Yn(n){const e=He(n);if(e<0||e>BigInt("0xffffffffffffffff"))throw new Error(`Value ${e} is not a uint64`);return e}function io(n){return VL.sha512_256.array(n)}function GL(n){return HL()&&console.warn("It looks like you're running in react-native. In order to perform common crypto operations you will need to polyfill common operations such as crypto.getRandomValues"),ya.randomBytes(n)}function RC(n){return ya.sign.keyPair.fromSeed(n)}function KL(){const n=GL(ya.box.secretKeyLength);return RC(n)}function NC(n){return n===ya.sign.signatureLength}function By(n){return ya.sign.keyPair.fromSecretKey(n)}function vm(n,e){return ya.sign.detached(n,e)}function DC(n,e){return ya.verify(n,e)}function Uy(n,e,t){return ya.sign.detached.verify(n,e,t)}const MC=ya.sign.publicKeyLength;ya.sign.secretKeyLength;const r6=32,R1=32;var kx={exports:{}};/*
 * [hi-base32]{@link https://github.com/emn178/hi-base32}
 *
 * @version 0.5.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */var i6;function WL(){return i6||(i6=1,(function(n){(function(){var e=typeof window=="object"?window:{},t=!e.HI_BASE32_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;t&&(e=Va);var r=!e.HI_BASE32_NO_COMMON_JS&&!0&&n.exports,s="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split(""),o={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,2:26,3:27,4:28,5:29,6:30,7:31},l=[0,0,0,0,0,0,0,0],h=function(N,U){U.length>10&&(U="..."+U.substr(-10));var q=new Error("Decoded data is not valid UTF-8. Maybe try base32.decode.asBytes()? Partial data after reading "+N+" bytes: "+U+" <-");throw q.position=N,q},p=function(N){for(var U="",q=N.length,G=0,he=0,pe,K;G<q;){if(pe=N[G++],pe<=127){U+=String.fromCharCode(pe);continue}else pe>191&&pe<=223?(K=pe&31,he=1):pe<=239?(K=pe&15,he=2):pe<=247?(K=pe&7,he=3):h(G,U);for(var P=0;P<he;++P)pe=N[G++],(pe<128||pe>191)&&h(G,U),K<<=6,K+=pe&63;K>=55296&&K<=57343&&h(G,U),K>1114111&&h(G,U),K<=65535?U+=String.fromCharCode(K):(K-=65536,U+=String.fromCharCode((K>>10)+55296),U+=String.fromCharCode((K&1023)+56320))}return U},f=function(N){if(N==="")return[];if(!/^[A-Z2-7=]+$/.test(N))throw new Error("Invalid base32 characters");N=N.replace(/=/g,"");for(var U,q,G,he,pe,K,P,M,H=[],A=0,y=N.length,x=0,E=y>>3<<3;x<E;)U=o[N.charAt(x++)],q=o[N.charAt(x++)],G=o[N.charAt(x++)],he=o[N.charAt(x++)],pe=o[N.charAt(x++)],K=o[N.charAt(x++)],P=o[N.charAt(x++)],M=o[N.charAt(x++)],H[A++]=(U<<3|q>>>2)&255,H[A++]=(q<<6|G<<1|he>>>4)&255,H[A++]=(he<<4|pe>>>1)&255,H[A++]=(pe<<7|K<<2|P>>>3)&255,H[A++]=(P<<5|M)&255;var $=y-E;return $===2?(U=o[N.charAt(x++)],q=o[N.charAt(x++)],H[A++]=(U<<3|q>>>2)&255):$===4?(U=o[N.charAt(x++)],q=o[N.charAt(x++)],G=o[N.charAt(x++)],he=o[N.charAt(x++)],H[A++]=(U<<3|q>>>2)&255,H[A++]=(q<<6|G<<1|he>>>4)&255):$===5?(U=o[N.charAt(x++)],q=o[N.charAt(x++)],G=o[N.charAt(x++)],he=o[N.charAt(x++)],pe=o[N.charAt(x++)],H[A++]=(U<<3|q>>>2)&255,H[A++]=(q<<6|G<<1|he>>>4)&255,H[A++]=(he<<4|pe>>>1)&255):$===7&&(U=o[N.charAt(x++)],q=o[N.charAt(x++)],G=o[N.charAt(x++)],he=o[N.charAt(x++)],pe=o[N.charAt(x++)],K=o[N.charAt(x++)],P=o[N.charAt(x++)],H[A++]=(U<<3|q>>>2)&255,H[A++]=(q<<6|G<<1|he>>>4)&255,H[A++]=(he<<4|pe>>>1)&255,H[A++]=(pe<<7|K<<2|P>>>3)&255),H},v=function(N){for(var U,q,G,he,pe,K="",P=N.length,M=0,H=parseInt(P/5)*5;M<H;)U=N.charCodeAt(M++),q=N.charCodeAt(M++),G=N.charCodeAt(M++),he=N.charCodeAt(M++),pe=N.charCodeAt(M++),K+=s[U>>>3]+s[(U<<2|q>>>6)&31]+s[q>>>1&31]+s[(q<<4|G>>>4)&31]+s[(G<<1|he>>>7)&31]+s[he>>>2&31]+s[(he<<3|pe>>>5)&31]+s[pe&31];var A=P-H;return A===1?(U=N.charCodeAt(M),K+=s[U>>>3]+s[U<<2&31]+"======"):A===2?(U=N.charCodeAt(M++),q=N.charCodeAt(M),K+=s[U>>>3]+s[(U<<2|q>>>6)&31]+s[q>>>1&31]+s[q<<4&31]+"===="):A===3?(U=N.charCodeAt(M++),q=N.charCodeAt(M++),G=N.charCodeAt(M),K+=s[U>>>3]+s[(U<<2|q>>>6)&31]+s[q>>>1&31]+s[(q<<4|G>>>4)&31]+s[G<<1&31]+"==="):A===4&&(U=N.charCodeAt(M++),q=N.charCodeAt(M++),G=N.charCodeAt(M++),he=N.charCodeAt(M),K+=s[U>>>3]+s[(U<<2|q>>>6)&31]+s[q>>>1&31]+s[(q<<4|G>>>4)&31]+s[(G<<1|he>>>7)&31]+s[he>>>2&31]+s[he<<3&31]+"="),K},S=function(N){var U,q,G,he,pe,K,P=!1,M="",H=0,A,y=0,x=N.length;if(N==="")return M;do{for(l[0]=l[5],l[1]=l[6],l[2]=l[7],A=y;H<x&&A<5;++H)K=N.charCodeAt(H),K<128?l[A++]=K:K<2048?(l[A++]=192|K>>6,l[A++]=128|K&63):K<55296||K>=57344?(l[A++]=224|K>>12,l[A++]=128|K>>6&63,l[A++]=128|K&63):(K=65536+((K&1023)<<10|N.charCodeAt(++H)&1023),l[A++]=240|K>>18,l[A++]=128|K>>12&63,l[A++]=128|K>>6&63,l[A++]=128|K&63);y=A-5,H===x&&++H,H>x&&A<6&&(P=!0),U=l[0],A>4?(q=l[1],G=l[2],he=l[3],pe=l[4],M+=s[U>>>3]+s[(U<<2|q>>>6)&31]+s[q>>>1&31]+s[(q<<4|G>>>4)&31]+s[(G<<1|he>>>7)&31]+s[he>>>2&31]+s[(he<<3|pe>>>5)&31]+s[pe&31]):A===1?M+=s[U>>>3]+s[U<<2&31]+"======":A===2?(q=l[1],M+=s[U>>>3]+s[(U<<2|q>>>6)&31]+s[q>>>1&31]+s[q<<4&31]+"===="):A===3?(q=l[1],G=l[2],M+=s[U>>>3]+s[(U<<2|q>>>6)&31]+s[q>>>1&31]+s[(q<<4|G>>>4)&31]+s[G<<1&31]+"==="):(q=l[1],G=l[2],he=l[3],M+=s[U>>>3]+s[(U<<2|q>>>6)&31]+s[q>>>1&31]+s[(q<<4|G>>>4)&31]+s[(G<<1|he>>>7)&31]+s[he>>>2&31]+s[he<<3&31]+"=")}while(!P);return M},C=function(N){for(var U,q,G,he,pe,K="",P=N.length,M=0,H=parseInt(P/5)*5;M<H;)U=N[M++],q=N[M++],G=N[M++],he=N[M++],pe=N[M++],K+=s[U>>>3]+s[(U<<2|q>>>6)&31]+s[q>>>1&31]+s[(q<<4|G>>>4)&31]+s[(G<<1|he>>>7)&31]+s[he>>>2&31]+s[(he<<3|pe>>>5)&31]+s[pe&31];var A=P-H;return A===1?(U=N[M],K+=s[U>>>3]+s[U<<2&31]+"======"):A===2?(U=N[M++],q=N[M],K+=s[U>>>3]+s[(U<<2|q>>>6)&31]+s[q>>>1&31]+s[q<<4&31]+"===="):A===3?(U=N[M++],q=N[M++],G=N[M],K+=s[U>>>3]+s[(U<<2|q>>>6)&31]+s[q>>>1&31]+s[(q<<4|G>>>4)&31]+s[G<<1&31]+"==="):A===4&&(U=N[M++],q=N[M++],G=N[M++],he=N[M],K+=s[U>>>3]+s[(U<<2|q>>>6)&31]+s[q>>>1&31]+s[(q<<4|G>>>4)&31]+s[(G<<1|he>>>7)&31]+s[he>>>2&31]+s[he<<3&31]+"="),K},R=function(N,U){var q=typeof N!="string";return q&&N.constructor===ArrayBuffer&&(N=new Uint8Array(N)),q?C(N):U?v(N):S(N)},B=function(N,U){if(!U)return p(f(N));if(N==="")return"";if(!/^[A-Z2-7=]+$/.test(N))throw new Error("Invalid base32 characters");var q,G,he,pe,K,P,M,H,A="",y=N.indexOf("=");y===-1&&(y=N.length);for(var x=0,E=y>>3<<3;x<E;)q=o[N.charAt(x++)],G=o[N.charAt(x++)],he=o[N.charAt(x++)],pe=o[N.charAt(x++)],K=o[N.charAt(x++)],P=o[N.charAt(x++)],M=o[N.charAt(x++)],H=o[N.charAt(x++)],A+=String.fromCharCode((q<<3|G>>>2)&255)+String.fromCharCode((G<<6|he<<1|pe>>>4)&255)+String.fromCharCode((pe<<4|K>>>1)&255)+String.fromCharCode((K<<7|P<<2|M>>>3)&255)+String.fromCharCode((M<<5|H)&255);var $=y-E;return $===2?(q=o[N.charAt(x++)],G=o[N.charAt(x++)],A+=String.fromCharCode((q<<3|G>>>2)&255)):$===4?(q=o[N.charAt(x++)],G=o[N.charAt(x++)],he=o[N.charAt(x++)],pe=o[N.charAt(x++)],A+=String.fromCharCode((q<<3|G>>>2)&255)+String.fromCharCode((G<<6|he<<1|pe>>>4)&255)):$===5?(q=o[N.charAt(x++)],G=o[N.charAt(x++)],he=o[N.charAt(x++)],pe=o[N.charAt(x++)],K=o[N.charAt(x++)],A+=String.fromCharCode((q<<3|G>>>2)&255)+String.fromCharCode((G<<6|he<<1|pe>>>4)&255)+String.fromCharCode((pe<<4|K>>>1)&255)):$===7&&(q=o[N.charAt(x++)],G=o[N.charAt(x++)],he=o[N.charAt(x++)],pe=o[N.charAt(x++)],K=o[N.charAt(x++)],P=o[N.charAt(x++)],M=o[N.charAt(x++)],A+=String.fromCharCode((q<<3|G>>>2)&255)+String.fromCharCode((G<<6|he<<1|pe>>>4)&255)+String.fromCharCode((pe<<4|K>>>1)&255)+String.fromCharCode((K<<7|P<<2|M>>>3)&255)),A},re={encode:R,decode:B};B.asBytes=f,r?n.exports=re:e.base32=re})()})(kx)),kx.exports}var YL=WL();const xm=lu(YL);function FC(n){if(!(typeof n=="bigint"||Number.isInteger(n))||n<0||n>BigInt("0xffffffffffffffff"))throw new Error("Input is not a 64-bit unsigned integer");const t=new Uint8Array(8);return new DataView(t.buffer).setBigUint64(0,BigInt(n)),t}function JL(n,e="safe"){if(e!=="safe"&&e!=="mixed"&&e!=="bigint")throw new Error(`Unknown decodingMode option: ${e}`);if(n.byteLength===0||n.byteLength>8)throw new Error(`Data has unacceptable length. Expected length is between 1 and 8, got ${n.byteLength}`);const t=new Uint8Array(8-n.byteLength),r=Lr(t,n),o=new DataView(r.buffer).getBigUint64(0),l=o>BigInt(Number.MAX_SAFE_INTEGER);if(e==="safe"){if(l)throw new Error(`Integer exceeds maximum safe integer: ${o.toString()}. Try decoding with "mixed" or "safe" decodingMode.`);return Number(o)}return e==="mixed"&&!l?Number(o):o}function yt(n){if(Vy())return new Uint8Array(Buffer.from(n,"base64"));const e=atob(n);return Uint8Array.from(e,t=>t.codePointAt(0))}function si(n){if(Vy())return Buffer.from(n).toString("base64");const e=Array.from(n,t=>String.fromCodePoint(t)).join("");return btoa(e)}function Ly(n){return new TextDecoder().decode(n)}function ua(n){return typeof n=="string"?new TextEncoder().encode(n):n}function zy(n){return Vy()?Buffer.from(n).toString("hex"):Array.from(n).map(e=>e.toString(16).padStart(2,"0")).join("")}function QL(n){if(Vy())return Buffer.from(n,"hex");let e=n;n.length%2!==0&&(e=n.padStart(1,"0"));const t=new Uint8Array(e.length/2);for(let r=0;r<e.length/2;r++)t[r]=parseInt(e.slice(2*r,2*r+2),16);return t}const il=36,sm=4,Ix=58,XL="AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY5HFKQ",jf="address seems to be malformed",ZL="wrong checksum for address";function s6(n){return Uint8Array.from(io(n).slice(r6-sm,r6))}class Kt{constructor(e){if(!(e instanceof Uint8Array))throw new Error(`${jf}: ${e} is not Uint8Array, type ${typeof e}`);if(e.length!==il-sm)throw new Error(`${jf}: 0x${zy(e)}, length ${e.length}`);this.publicKey=e}equals(e){return e instanceof Kt&&la(this.publicKey,e.publicKey)}checksum(){return s6(this.publicKey)}toString(){return xm.encode(Lr(this.publicKey,this.checksum())).slice(0,Ix)}static fromString(e){if(typeof e!="string")throw new Error(`${jf}: expected string, got ${typeof e}, ${e}`);if(e.length!==Ix)throw new Error(`${jf}: expected length ${Ix}, got ${e.length}: ${e}`);const t=xm.decode.asBytes(e);if(t.length!==il)throw new Error(`${jf}: expected byte length ${il}, got ${t.length}`);const r=new Uint8Array(t.slice(0,il-sm)),s=new Uint8Array(t.slice(MC,il)),o=s6(r);if(!la(o,s))throw new Error(ZL);return new Kt(r)}static zeroAddress(){return new Kt(new Uint8Array(il-sm))}}function OC(n){return Kt.fromString(n)}function PC(n){try{Kt.fromString(n)}catch{return!1}return!0}function jC(n){return new Kt(n).toString()}const e7=new TextEncoder().encode("appID");function N1(n){const e=Lr(e7,FC(n)),t=io(e);return new Kt(Uint8Array.from(t))}const VC=1e6,XE="Microalgos should be positive and less than 2^53 - 1.";function t7(n){if(n<0||!Number.isSafeInteger(n))throw new Error(XE);return n/VC}function n7(n){const e=n*VC;return Math.round(e)}class r7 extends Error{constructor(e,t){super(e),this.response=t,this.name="URLTokenBaseHTTPError",this.response=t}}class al{constructor(e,t,r,s={}){this.defaultHeaders=s;const o=t.endsWith("/")?t:`${t}/`,l=new URL(o);if(typeof r<"u"&&(l.port=r.toString()),l.protocol.length===0)throw new Error("Invalid base server URL, protocol must be defined.");this.baseURL=l,this.tokenHeader=e}getURL(e,t){let r;e.startsWith("./")?r=e:e.startsWith("/")?r=`.${e}`:r=`./${e}`;const s=new URL(r,this.baseURL);if(t)for(const[o,l]of Object.entries(t))s.searchParams.set(o,l.toString());return s.toString()}static formatFetchResponseHeaders(e){const t={};return e.forEach((r,s)=>{t[r]=s}),t}static async checkHttpError(e){if(e.ok)return;let t,r;try{t=new Uint8Array(await e.arrayBuffer());const o=JSON.parse(new TextDecoder().decode(t));o.message&&(r=o.message)}catch{}let s=`Network request error. Received status ${e.status} (${e.statusText})`;throw r&&(s+=`: ${r}`),new r7(s,{body:t??new Uint8Array,status:e.status,headers:al.formatFetchResponseHeaders(e.headers)})}static async formatFetchResponse(e){return await this.checkHttpError(e),{body:new Uint8Array(await e.arrayBuffer()),status:e.status,headers:al.formatFetchResponseHeaders(e.headers)}}async get(e,t,r,s){const o={...this.tokenHeader,...this.defaultHeaders,...r??{}},l=await fetch(this.getURL(e,t),{headers:o,...s??{}});return al.formatFetchResponse(l)}async post(e,t,r,s,o){const l={...this.tokenHeader,...this.defaultHeaders,...s??{}},h=await fetch(this.getURL(e,r),{method:"POST",body:t,headers:l,...o??{}});return al.formatFetchResponse(h)}async delete(e,t,r,s,o){const l={...this.tokenHeader,...this.defaultHeaders,...s??{}},h=await fetch(this.getURL(e,r),{method:"DELETE",body:t,headers:l,...o??{}});return al.formatFetchResponse(h)}}class i7{constructor(e){this.body=e.body,this.text=e.text,this.format=e.format,this.headers=e.headers,this.status=e.status,this.ok=e.ok}getJSONText(){if(this.text===void 0)throw new Error(`Response body does not contain JSON data. Format is ${this.format}`);return this.text}parseBodyAsJSON(e){if(this.text===void 0)throw new Error(`Response body does not contain JSON data. Format is ${this.format}`);return zi.parseJSON(this.text,this.status,e)}}function s7(n){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(!n[e]||n[e].length===0)&&delete n[e];return n}function a6(n){return Object.keys(n).reduce((e,t)=>(e[t.toLowerCase()]=n[t],e),{})}function a7(n){if(n!==void 0&&Object.prototype.hasOwnProperty.call(n,"format"))switch(n.format){case"msgpack":return"application/msgpack";case"json":default:return"application/json"}else return"application/json"}class zi{constructor(e,t,r,s={}){t!==void 0?this.bc=new al(e,t,r,s):this.bc=e}static parseJSON(e,t,r){try{return e?QE(e,r):null}catch(s){const o=s;throw o.rawResponse=e||null,o.statusCode=t,o}}static serializeData(e,t){if(!e)return new Uint8Array(0);if(t["content-type"]==="application/json")return new TextEncoder().encode(Tl(e));if(typeof e=="string")return new TextEncoder().encode(e);if(e instanceof Uint8Array)return e;throw new Error("provided data is neither a string nor a Uint8Array and content-type is not application/json")}static prepareResponse(e,t){const{body:r}=e;let s;return t!=="application/msgpack"&&(s=r&&new TextDecoder().decode(r)||""),new i7({...e,format:t,text:s,ok:Math.trunc(e.status/100)===2})}static prepareResponseError(e){return e.response&&(e.response=zi.prepareResponse(e.response,"application/json"),e.status=e.response.status),e}async get({relativePath:e,query:t,requestHeaders:r,customOptions:s}){const o=a7(t),l={...r??{},accept:o};try{const h=await this.bc.get(e,t?s7(t):void 0,l,s);return zi.prepareResponse(h,o)}catch(h){throw zi.prepareResponseError(h)}}async post({relativePath:e,data:t,query:r,requestHeaders:s,customOptions:o}){const l={"content-type":"application/json",...a6(s??{})};try{const h=await this.bc.post(e,zi.serializeData(t,l),r,l,o);return zi.prepareResponse(h,"application/json")}catch(h){throw zi.prepareResponseError(h)}}async delete({relativePath:e,data:t,requestHeaders:r,customOptions:s}){const o={"content-type":"application/json",...a6(r??{})};try{const l=await this.bc.delete(e,typeof t<"u"?zi.serializeData(t,o):void 0,void 0,o,s);return zi.prepareResponse(l,"application/json")}catch(l){throw zi.prepareResponseError(l)}}}function o7(n,e=""){const t={};return e===""||(t[n]=e),t}function c7(n){return typeof n.get=="function"}class ZE{constructor(e,t,r,s,o={}){if(c7(t))this.c=new zi(t);else{let l;typeof t=="string"?l=o7(e,t):l=t,this.c=new zi(l,r,s,o)}}}function l7(n){for(var e=n.length,t=0,r=0;r<e;){var s=n.charCodeAt(r++);if((s&4294967168)===0){t++;continue}else if((s&4294965248)===0)t+=2;else{if(s>=55296&&s<=56319&&r<e){var o=n.charCodeAt(r);(o&64512)===56320&&(++r,s=((s&1023)<<10)+(o&1023)+65536)}(s&4294901760)===0?t+=3:t+=4}}return t}function u7(n,e,t){for(var r=n.length,s=t,o=0;o<r;){var l=n.charCodeAt(o++);if((l&4294967168)===0){e[s++]=l;continue}else if((l&4294965248)===0)e[s++]=l>>6&31|192;else{if(l>=55296&&l<=56319&&o<r){var h=n.charCodeAt(o);(h&64512)===56320&&(++o,l=((l&1023)<<10)+(h&1023)+65536)}(l&4294901760)===0?(e[s++]=l>>12&15|224,e[s++]=l>>6&63|128):(e[s++]=l>>18&7|240,e[s++]=l>>12&63|128,e[s++]=l>>6&63|128)}e[s++]=l&63|128}}var h7=new TextEncoder,d7=50;function f7(n,e,t){h7.encodeInto(n,e.subarray(t))}function m7(n,e,t){n.length>d7?f7(n,e,t):u7(n,e,t)}var p7=4096;function BC(n,e,t){for(var r=e,s=r+t,o=[],l="";r<s;){var h=n[r++];if((h&128)===0)o.push(h);else if((h&224)===192){var p=n[r++]&63;o.push((h&31)<<6|p)}else if((h&240)===224){var p=n[r++]&63,f=n[r++]&63;o.push((h&31)<<12|p<<6|f)}else if((h&248)===240){var p=n[r++]&63,f=n[r++]&63,v=n[r++]&63,S=(h&7)<<18|p<<12|f<<6|v;S>65535&&(S-=65536,o.push(S>>>10&1023|55296),S=56320|S&1023),o.push(S)}else o.push(h);o.length>=p7&&(l+=String.fromCharCode.apply(String,o),o.length=0)}return o.length>0&&(l+=String.fromCharCode.apply(String,o)),l}var g7=new TextDecoder,y7=200;function w7(n,e,t){var r=n.subarray(e,e+t);return g7.decode(r)}function v7(n,e,t){return t>y7?w7(n,e,t):BC(n,e,t)}var Jg=(function(){function n(e,t){this.type=e,this.data=t}return n})(),x7=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),Us=(function(n){x7(e,n);function e(t){var r=n.call(this,t)||this,s=Object.create(e.prototype);return Object.setPrototypeOf(r,s),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:e.name}),r}return e})(Error),Dr;(function(n){n[n.UNSAFE_NUMBER=0]="UNSAFE_NUMBER",n[n.SAFE_NUMBER=1]="SAFE_NUMBER",n[n.AS_ENCODED=2]="AS_ENCODED",n[n.MIXED=3]="MIXED",n[n.BIGINT=4]="BIGINT"})(Dr||(Dr={}));var Vf=4294967295;function S7(n,e,t){var r=t/4294967296,s=t;n.setUint32(e,r),n.setUint32(e+4,s)}function UC(n,e,t){var r=Math.floor(t/4294967296),s=t;n.setUint32(e,r),n.setUint32(e+4,s)}function LC(n,e,t){if(t===Dr.UNSAFE_NUMBER||t===Dr.SAFE_NUMBER){var r=n.getInt32(e),s=n.getUint32(e+4);if(t===Dr.SAFE_NUMBER&&(r<Math.floor(Number.MIN_SAFE_INTEGER/4294967296)||r===Math.floor(Number.MIN_SAFE_INTEGER/4294967296)&&s===0||r>(Number.MAX_SAFE_INTEGER-s)/4294967296)){var o="".concat(r<0?"-":"","0x").concat(Math.abs(r).toString(16)).concat(s.toString(16).padStart(8,"0"));throw new Error("Mode is IntMode.SAFE_NUMBER and value is not a safe integer: ".concat(o))}return r*4294967296+s}var l=n.getBigInt64(e);return t===Dr.MIXED&&l>=Number.MIN_SAFE_INTEGER&&l<=Number.MAX_SAFE_INTEGER?Number(l):l}function E7(n,e,t){if(t===Dr.UNSAFE_NUMBER||t===Dr.SAFE_NUMBER){var r=n.getUint32(e),s=n.getUint32(e+4);if(t===Dr.SAFE_NUMBER&&r>(Number.MAX_SAFE_INTEGER-s)/4294967296){var o="0x".concat(r.toString(16)).concat(s.toString(16).padStart(8,"0"));throw new Error("Mode is IntMode.SAFE_NUMBER and value is not a safe integer: ".concat(o))}return r*4294967296+s}var l=n.getBigUint64(e);return t===Dr.MIXED&&l<=Number.MAX_SAFE_INTEGER?Number(l):l}function b7(n,e){return e===Dr.BIGINT?BigInt(n):Number(n)}var _7=-1,A7=4294967296-1,T7=17179869184-1;function k7(n){var e=n.sec,t=n.nsec;if(e>=0&&t>=0&&e<=T7)if(t===0&&e<=A7){var r=new Uint8Array(4),s=new DataView(r.buffer);return s.setUint32(0,e),r}else{var o=e/4294967296,l=e&4294967295,r=new Uint8Array(8),s=new DataView(r.buffer);return s.setUint32(0,t<<2|o&3),s.setUint32(4,l),r}else{var r=new Uint8Array(12),s=new DataView(r.buffer);return s.setUint32(0,t),UC(s,4,e),r}}function I7(n){var e=n.getTime(),t=Math.floor(e/1e3),r=(e-t*1e3)*1e6,s=Math.floor(r/1e9);return{sec:t+s,nsec:r-s*1e9}}function C7(n){if(n instanceof Date){var e=I7(n);return k7(e)}else return null}function R7(n){var e=new DataView(n.buffer,n.byteOffset,n.byteLength);switch(n.byteLength){case 4:{var t=e.getUint32(0),r=0;return{sec:t,nsec:r}}case 8:{var s=e.getUint32(0),o=e.getUint32(4),t=(s&3)*4294967296+o,r=s>>>2;return{sec:t,nsec:r}}case 12:{var t=LC(e,4,Dr.UNSAFE_NUMBER),r=e.getUint32(0);return{sec:t,nsec:r}}default:throw new Us("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(n.length))}}function N7(n){var e=R7(n);return new Date(e.sec*1e3+e.nsec/1e6)}var D7={type:_7,encode:C7,decode:N7},zC=(function(){function n(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(D7)}return n.prototype.register=function(e){var t=e.type,r=e.encode,s=e.decode;if(t>=0)this.encoders[t]=r,this.decoders[t]=s;else{var o=1+t;this.builtInEncoders[o]=r,this.builtInDecoders[o]=s}},n.prototype.tryToEncode=function(e,t){for(var r=0;r<this.builtInEncoders.length;r++){var s=this.builtInEncoders[r];if(s!=null){var o=s(e,t);if(o!=null){var l=-1-r;return new Jg(l,o)}}}for(var r=0;r<this.encoders.length;r++){var s=this.encoders[r];if(s!=null){var o=s(e,t);if(o!=null){var l=r;return new Jg(l,o)}}}return e instanceof Jg?e:null},n.prototype.decode=function(e,t,r){var s=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return s?s(e,t,r):new Jg(t,e)},n.defaultCodec=new n,n})();function Wo(n){return n instanceof Uint8Array?n:ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):n instanceof ArrayBuffer?new Uint8Array(n):Uint8Array.from(n)}function M7(n){if(n instanceof ArrayBuffer)return new DataView(n);var e=Wo(n);return new DataView(e.buffer,e.byteOffset,e.byteLength)}function o6(n,e){for(var t=Math.min(n.length,e.length),r=0;r<t;r++){var s=n[r]-e[r];if(s!==0)return s}return n.length-e.length}var bi=(function(){function n(e){if(this.rawBinaryValue=e,!ArrayBuffer.isView(e))throw new TypeError("RawBinaryString: rawBinaryValue must be an ArrayBufferView")}return n})(),F7=100,O7=2048,P7=(function(){function n(e){var t,r,s,o,l,h,p,f;this.extensionCodec=(t=e?.extensionCodec)!==null&&t!==void 0?t:zC.defaultCodec,this.context=e?.context,this.forceBigIntToInt64=(r=e?.forceBigIntToInt64)!==null&&r!==void 0?r:!1,this.maxDepth=(s=e?.maxDepth)!==null&&s!==void 0?s:F7,this.initialBufferSize=(o=e?.initialBufferSize)!==null&&o!==void 0?o:O7,this.sortKeys=(l=e?.sortKeys)!==null&&l!==void 0?l:!1,this.forceFloat32=(h=e?.forceFloat32)!==null&&h!==void 0?h:!1,this.ignoreUndefined=(p=e?.ignoreUndefined)!==null&&p!==void 0?p:!1,this.forceIntegerToFloat=(f=e?.forceIntegerToFloat)!==null&&f!==void 0?f:!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return n.prototype.reinitializeState=function(){this.pos=0},n.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},n.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},n.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.encodeObject(e,t)},n.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(t*2)},n.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),r=new Uint8Array(t),s=new DataView(t);r.set(this.bytes),this.view=s,this.bytes=r},n.prototype.encodeNil=function(){this.writeU8(192)},n.prototype.encodeBoolean=function(e){e===!1?this.writeU8(194):this.writeU8(195)},n.prototype.encodeNumber=function(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)},n.prototype.encodeNumberAsFloat=function(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},n.prototype.encodeBigInt=function(e){if(this.forceBigIntToInt64)this.encodeBigIntAsInt64(e);else if(e>=0)if(e<4294967296||this.forceIntegerToFloat)this.encodeNumber(Number(e));else if(e<BigInt("0x10000000000000000"))this.encodeBigIntAsInt64(e);else throw new Error("Bigint is too large for uint64: ".concat(e));else if(e>=-2147483648||this.forceIntegerToFloat)this.encodeNumber(Number(e));else if(e>=BigInt(-1)*BigInt("0x8000000000000000"))this.encodeBigIntAsInt64(e);else throw new Error("Bigint is too small for int64: ".concat(e))},n.prototype.encodeBigIntAsInt64=function(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))},n.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error("Too long string: ".concat(e," bytes in UTF-8"))},n.prototype.encodeString=function(e){var t=5,r=l7(e);this.ensureBufferSizeToWrite(t+r),this.writeStringHeader(r),m7(e,this.bytes,this.pos),this.pos+=r},n.prototype.encodeObject=function(e,t){var r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(e instanceof bi)this.encodeBinaryAsString(e);else if(typeof e=="bigint")this.encodeBigInt(e);else if(e instanceof Map)this.encodeMap(e,t);else if(typeof e=="object")this.encodeMapObject(e,t);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))},n.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<4294967296)this.writeU8(198),this.writeU32(t);else throw new Error("Too large binary: ".concat(t));var r=Wo(e);this.writeU8a(r)},n.prototype.encodeBinaryAsString=function(e){var t=e.rawBinaryValue;this.writeStringHeader(t.byteLength);var r=Wo(t);this.writeU8a(r)},n.prototype.encodeArray=function(e,t){var r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error("Too large array: ".concat(r));for(var s=0,o=e;s<o.length;s++){var l=o[s];this.doEncode(l,t+1)}},n.prototype.countWithoutUndefined=function(e,t){for(var r=0,s=0,o=t;s<o.length;s++){var l=o[s];e.get(l)!==void 0&&r++}return r},n.prototype.sortMapKeys=function(e){for(var t=[],r=[],s=[],o=[],l=0,h=e;l<h.length;l++){var p=h[l];if(typeof p=="number"){if(isNaN(p))throw new Error("Cannot sort map keys with NaN value");t.push(p)}else if(typeof p=="bigint")t.push(p);else if(typeof p=="string")r.push(p);else if(ArrayBuffer.isView(p))o.push(Wo(p));else if(p instanceof bi)s.push(p);else throw new Error("Unsupported map key type: ".concat(Object.prototype.toString.apply(p)))}return t.sort(function(f,v){return f<v?-1:f>v?1:0}),r.sort(),s.sort(function(f,v){return o6(Wo(f.rawBinaryValue),Wo(v.rawBinaryValue))}),o.sort(o6),[].concat(t,r,s,o)},n.prototype.encodeMapObject=function(e,t){this.encodeMap(new Map(Object.entries(e)),t)},n.prototype.encodeMap=function(e,t){var r=Array.from(e.keys());this.sortKeys&&(r=this.sortMapKeys(r));var s=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error("Too large map object: ".concat(s));for(var o=0,l=r;o<l.length;o++){var h=l[o],p=e.get(h);if(!(this.ignoreUndefined&&p===void 0)){if(typeof h=="string")this.encodeString(h);else if(typeof h=="number")this.encodeNumber(h);else if(typeof h=="bigint")this.encodeBigInt(h);else if(ArrayBuffer.isView(h))this.encodeBinary(h);else if(h instanceof bi)this.encodeBinaryAsString(h);else throw new Error("Unsupported map key type: ".concat(Object.prototype.toString.apply(h)));this.doEncode(p,t+1)}}},n.prototype.encodeExtension=function(e){var t=e.data.length;if(t===1)this.writeU8(212);else if(t===2)this.writeU8(213);else if(t===4)this.writeU8(214);else if(t===8)this.writeU8(215);else if(t===16)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<4294967296)this.writeU8(201),this.writeU32(t);else throw new Error("Too large extension object: ".concat(t));this.writeI8(e.type),this.writeU8a(e.data)},n.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},n.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},n.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},n.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},n.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},n.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},n.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},n.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},n.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},n.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),S7(this.view,this.pos,e),this.pos+=8},n.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),UC(this.view,this.pos,e),this.pos+=8},n.prototype.writeBigUint64=function(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8},n.prototype.writeBigInt64=function(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8},n})();function j7(n,e){var t=new P7(e);return t.encodeSharedRef(n)}function Cx(n){return"".concat(n<0?"-":"","0x").concat(Math.abs(n).toString(16).padStart(2,"0"))}var V7=16,B7=16,U7=(function(){function n(e,t){e===void 0&&(e=V7),t===void 0&&(t=B7),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var r=0;r<this.maxKeyLength;r++)this.caches.push([])}return n.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},n.prototype.find=function(e,t,r){var s=this.caches[r-1];e:for(var o=0,l=s;o<l.length;o++){for(var h=l[o],p=h.bytes,f=0;f<r;f++)if(p[f]!==e[t+f])continue e;return h.str}return null},n.prototype.store=function(e,t){var r=this.caches[e.length-1],s={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=s:r.push(s)},n.prototype.decode=function(e,t,r){var s=this.find(e,t,r);if(s!=null)return this.hit++,s;this.miss++;var o=BC(e,t,r),l=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(l,o),o},n})(),L7=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function h(v){try{f(r.next(v))}catch(S){l(S)}}function p(v){try{f(r.throw(v))}catch(S){l(S)}}function f(v){v.done?o(v.value):s(v.value).then(h,p)}f((r=r.apply(n,e||[])).next())})},Rx=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,l;return l={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function h(f){return function(v){return p([f,v])}}function p(f){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,f[0]&&(t=0)),t;)try{if(r=1,s&&(o=f[0]&2?s.return:f[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,f[1])).done)return o;switch(s=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,s=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){t.label=f[1];break}if(f[0]===6&&t.label<o[1]){t.label=o[1],o=f;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(f);break}o[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(n,t)}catch(v){f=[6,v],s=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},c6=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(l){return new Promise(function(h,p){l=n[o](l),s(h,p,l.done,l.value)})}}function s(o,l,h,p){Promise.resolve(p).then(function(f){o({value:f,done:h})},l)}},sh=function(n){return this instanceof sh?(this.v=n,this):new sh(n)},z7=function(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),s,o=[];return s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s;function l(C){r[C]&&(s[C]=function(R){return new Promise(function(B,re){o.push([C,R,B,re])>1||h(C,R)})})}function h(C,R){try{p(r[C](R))}catch(B){S(o[0][3],B)}}function p(C){C.value instanceof sh?Promise.resolve(C.value.v).then(f,v):S(o[0][2],C)}function f(C){h("next",C)}function v(C){h("throw",C)}function S(C,R){C(R),o.shift(),o.length&&h(o[0][0],o[0][1])}},D1="array",am="map_key",qC="map_value";function q7(n,e,t){return e?typeof n=="string"||typeof n=="number"||typeof n=="bigint"||n instanceof Uint8Array||n instanceof bi:typeof n=="string"||t&&typeof n=="number"}var $7=(function(){function n(e){this.useMap=e,this.stack=[],this.stackHeadPosition=-1}return Object.defineProperty(n.prototype,"length",{get:function(){return this.stackHeadPosition+1},enumerable:!1,configurable:!0}),n.prototype.top=function(){return this.stack[this.stackHeadPosition]},n.prototype.pushArrayState=function(e){var t=this.getUninitializedStateFromPool();t.type=D1,t.position=0,t.size=e,t.array=new Array(e)},n.prototype.pushMapState=function(e){var t=this.getUninitializedStateFromPool();t.type=am,t.readCount=0,t.size=e,t.map=this.useMap?new Map:{}},n.prototype.getUninitializedStateFromPool=function(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){var e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]},n.prototype.release=function(e){var t=this.stack[this.stackHeadPosition];if(t!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===D1){var r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===am||e.type===qC){var r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--},n.prototype.reset=function(){this.stack.length=0,this.stackHeadPosition=-1},n})(),Bf=-1,eb=new DataView(new ArrayBuffer(0)),H7=new Uint8Array(eb.buffer);try{eb.getInt8(0)}catch(n){if(!(n instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}var M1=RangeError,l6=new M1("Insufficient data"),G7=new U7,K7=(function(){function n(e){var t,r,s,o,l,h,p,f,v,S,C,R;if(this.totalPos=0,this.pos=0,this.view=eb,this.bytes=H7,this.headByte=Bf,this.extensionCodec=(t=e?.extensionCodec)!==null&&t!==void 0?t:zC.defaultCodec,this.context=e?.context,this.intMode=(r=e?.intMode)!==null&&r!==void 0?r:e?.useBigInt64?Dr.AS_ENCODED:Dr.UNSAFE_NUMBER,this.rawBinaryStringValues=(s=e?.rawBinaryStringValues)!==null&&s!==void 0?s:!1,this.rawBinaryStringKeys=(o=e?.rawBinaryStringKeys)!==null&&o!==void 0?o:!1,this.useRawBinaryStringClass=(l=e?.useRawBinaryStringClass)!==null&&l!==void 0?l:!1,this.useMap=(h=e?.useMap)!==null&&h!==void 0?h:!1,this.supportObjectNumberKeys=(p=e?.supportObjectNumberKeys)!==null&&p!==void 0?p:!1,this.maxStrLength=(f=e?.maxStrLength)!==null&&f!==void 0?f:Vf,this.maxBinLength=(v=e?.maxBinLength)!==null&&v!==void 0?v:Vf,this.maxArrayLength=(S=e?.maxArrayLength)!==null&&S!==void 0?S:Vf,this.maxMapLength=(C=e?.maxMapLength)!==null&&C!==void 0?C:Vf,this.maxExtLength=(R=e?.maxExtLength)!==null&&R!==void 0?R:Vf,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:G7,this.rawBinaryStringKeys&&!this.useMap)throw new Error("rawBinaryStringKeys is only supported when useMap is true");this.stack=new $7(this.useMap)}return n.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=Bf,this.stack.reset()},n.prototype.setBuffer=function(e){this.bytes=Wo(e),this.view=M7(this.bytes),this.pos=0},n.prototype.appendBuffer=function(e){if(this.headByte===Bf&&!this.hasRemaining(1))this.setBuffer(e);else{var t=this.bytes.subarray(this.pos),r=Wo(e),s=new Uint8Array(t.length+r.length);s.set(t),s.set(r,t.length),this.setBuffer(s)}},n.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},n.prototype.createExtraByteError=function(e){var t=this,r=t.view,s=t.pos;return new RangeError("Extra ".concat(r.byteLength-s," of ").concat(r.byteLength," byte(s) found at buffer[").concat(e,"]"))},n.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},n.prototype.decodeMulti=function(e){return Rx(this,function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}})},n.prototype.decodeAsync=function(e){var t,r,s,o,l,h,p;return L7(this,void 0,void 0,function(){var f,v,S,C,R,B,re,N;return Rx(this,function(U){switch(U.label){case 0:f=!1,U.label=1;case 1:U.trys.push([1,6,7,12]),t=!0,r=c6(e),U.label=2;case 2:return[4,r.next()];case 3:if(s=U.sent(),o=s.done,!!o)return[3,5];if(p=s.value,t=!1,S=p,f)throw this.createExtraByteError(this.totalPos);this.appendBuffer(S);try{v=this.doDecodeSync(),f=!0}catch(q){if(!(q instanceof M1))throw q}this.totalPos+=this.pos,U.label=4;case 4:return t=!0,[3,2];case 5:return[3,12];case 6:return C=U.sent(),l={error:C},[3,12];case 7:return U.trys.push([7,,10,11]),!t&&!o&&(h=r.return)?[4,h.call(r)]:[3,9];case 8:U.sent(),U.label=9;case 9:return[3,11];case 10:if(l)throw l.error;return[7];case 11:return[7];case 12:if(f){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,v]}throw R=this,B=R.headByte,re=R.pos,N=R.totalPos,new RangeError("Insufficient data in parsing ".concat(Cx(B)," at ").concat(N," (").concat(re," in the current buffer)"))}})})},n.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},n.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},n.prototype.decodeMultiAsync=function(e,t){return z7(this,arguments,function(){var s,o,l,h,p,f,v,S,C,R,B,re;return Rx(this,function(N){switch(N.label){case 0:s=t,o=-1,N.label=1;case 1:N.trys.push([1,13,14,19]),l=!0,h=c6(e),N.label=2;case 2:return[4,sh(h.next())];case 3:if(p=N.sent(),C=p.done,!!C)return[3,12];if(re=p.value,l=!1,f=re,t&&o===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(f),s&&(o=this.readArraySize(),s=!1,this.complete()),N.label=4;case 4:N.trys.push([4,9,,10]),N.label=5;case 5:return[4,sh(this.doDecodeSync())];case 6:return[4,N.sent()];case 7:return N.sent(),--o===0?[3,8]:[3,5];case 8:return[3,10];case 9:if(v=N.sent(),!(v instanceof M1))throw v;return[3,10];case 10:this.totalPos+=this.pos,N.label=11;case 11:return l=!0,[3,2];case 12:return[3,19];case 13:return S=N.sent(),R={error:S},[3,19];case 14:return N.trys.push([14,,17,18]),!l&&!C&&(B=h.return)?[4,sh(B.call(h))]:[3,16];case 15:N.sent(),N.label=16;case 16:return[3,18];case 17:if(R)throw R.error;return[7];case 18:return[7];case 19:return[2]}})})},n.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=this.convertNumber(e-256);else if(e<192)if(e<128)t=this.convertNumber(e);else if(e<144){var r=e-128;if(r!==0){this.pushMapState(r),this.complete();continue e}else t=this.useMap?new Map:{}}else if(e<160){var r=e-144;if(r!==0){this.pushArrayState(r),this.complete();continue e}else t=[]}else{var s=e-160;t=this.decodeString(s,0)}else if(e===192)t=null;else if(e===194)t=!1;else if(e===195)t=!0;else if(e===202)t=this.readF32();else if(e===203)t=this.readF64();else if(e===204)t=this.convertNumber(this.readU8());else if(e===205)t=this.convertNumber(this.readU16());else if(e===206)t=this.convertNumber(this.readU32());else if(e===207)t=this.readU64();else if(e===208)t=this.convertNumber(this.readI8());else if(e===209)t=this.convertNumber(this.readI16());else if(e===210)t=this.convertNumber(this.readI32());else if(e===211)t=this.readI64();else if(e===217){var s=this.lookU8();t=this.decodeString(s,1)}else if(e===218){var s=this.lookU16();t=this.decodeString(s,2)}else if(e===219){var s=this.lookU32();t=this.decodeString(s,4)}else if(e===220){var r=this.readU16();if(r!==0){this.pushArrayState(r),this.complete();continue e}else t=[]}else if(e===221){var r=this.readU32();if(r!==0){this.pushArrayState(r),this.complete();continue e}else t=[]}else if(e===222){var r=this.readU16();if(r!==0){this.pushMapState(r),this.complete();continue e}else t={}}else if(e===223){var r=this.readU32();if(r!==0){this.pushMapState(r),this.complete();continue e}else t={}}else if(e===196){var r=this.lookU8();t=this.decodeBinary(r,1)}else if(e===197){var r=this.lookU16();t=this.decodeBinary(r,2)}else if(e===198){var r=this.lookU32();t=this.decodeBinary(r,4)}else if(e===212)t=this.decodeExtension(1,0);else if(e===213)t=this.decodeExtension(2,0);else if(e===214)t=this.decodeExtension(4,0);else if(e===215)t=this.decodeExtension(8,0);else if(e===216)t=this.decodeExtension(16,0);else if(e===199){var r=this.lookU8();t=this.decodeExtension(r,1)}else if(e===200){var r=this.lookU16();t=this.decodeExtension(r,2)}else if(e===201){var r=this.lookU32();t=this.decodeExtension(r,4)}else throw new Us("Unrecognized type byte: ".concat(Cx(e)));this.complete();for(var o=this.stack;o.length>0;){var l=o.top();if(l.type===D1)if(l.array[l.position]=t,l.position++,l.position===l.size)t=l.array,o.release(l);else continue e;else if(l.type===am){if(!q7(t,this.useMap,this.supportObjectNumberKeys)){var h=this.useMap?"string, number, bigint, or Uint8Array":this.supportObjectNumberKeys?"string or number":"string";throw new Us("The type of key must be ".concat(h," but got ").concat(typeof t))}if(!this.useMap&&t==="__proto__")throw new Us("The key __proto__ is not allowed");l.key=t,l.type=qC;continue e}else if(this.useMap?l.map.set(l.key,t):l.map[l.key]=t,l.readCount++,l.readCount===l.size)t=l.map,o.release(l);else{l.key=null,l.type=am;continue e}}return t}},n.prototype.readHeadByte=function(){return this.headByte===Bf&&(this.headByte=this.readU8()),this.headByte},n.prototype.complete=function(){this.headByte=Bf},n.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Us("Unrecognized array type byte: ".concat(Cx(e)))}}},n.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new Us("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.pushMapState(e)},n.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new Us("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.pushArrayState(e)},n.prototype.decodeString=function(e,t){if(this.stateIsMapKey()?this.rawBinaryStringKeys:this.rawBinaryStringValues){var r=this.decodeBinary(e,t);return this.useRawBinaryStringClass?new bi(r):r}return this.decodeUtf8String(e,t)},n.prototype.decodeUtf8String=function(e,t){var r;if(e>this.maxStrLength)throw new Us("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw l6;var s=this.pos+t,o;return this.stateIsMapKey()&&(!((r=this.keyDecoder)===null||r===void 0)&&r.canBeCached(e))?o=this.keyDecoder.decode(this.bytes,s,e):o=v7(this.bytes,s,e),this.pos+=t+e,o},n.prototype.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack.top();return e.type===am}return!1},n.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new Us("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw l6;var r=this.pos+t,s=this.bytes.subarray(r,r+e);return this.pos+=t+e,s},n.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new Us("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var r=this.view.getInt8(this.pos+t),s=this.decodeBinary(e,t+1);return this.extensionCodec.decode(s,r,this.context)},n.prototype.convertNumber=function(e){return b7(e,this.intMode)},n.prototype.lookU8=function(){return this.view.getUint8(this.pos)},n.prototype.lookU16=function(){return this.view.getUint16(this.pos)},n.prototype.lookU32=function(){return this.view.getUint32(this.pos)},n.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},n.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},n.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},n.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},n.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},n.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},n.prototype.readU64=function(){var e=E7(this.view,this.pos,this.intMode);return this.pos+=8,e},n.prototype.readI64=function(){var e=LC(this.view,this.pos,this.intMode);return this.pos+=8,e},n.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},n.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},n})();function tb(n,e){var t=new K7(e);return t.decode(n)}const W7="The object contains empty or 0 values. First empty or 0 value encountered during encoding: ";function Y7(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&(!n[e]||n[e].length===0))return{containsEmpty:!0,firstEmptyKey:e};return{containsEmpty:!1,firstEmptyKey:void 0}}function Sp(n){return j7(n,{sortKeys:!0})}function J7(n){const e=Y7(n);if(e.containsEmpty)throw new Error(W7+e.firstEmptyKey);return Sp(n)}function $C(n){switch(n){case Jr.UNSAFE:return Dr.UNSAFE_NUMBER;case Jr.SAFE:return Dr.SAFE_NUMBER;case Jr.MIXED:return Dr.MIXED;case Jr.BIGINT:return Dr.BIGINT;default:throw new Error(`Invalid intDecoding: ${n}`)}}function HC(n,e){const t={intMode:e?.intDecoding?$C(e?.intDecoding):Dr.BIGINT};return tb(n,t)}function Q7(n){return HC(n,{intDecoding:Jr.MIXED})}function GC(n,e){const t={intMode:e?.intDecoding?$C(e?.intDecoding):Dr.BIGINT,useMap:!0};return tb(n,t)}function X7(n,e){const t={intMode:Dr.BIGINT,useMap:!0,rawBinaryStringKeys:!0,rawBinaryStringValues:!0,useRawBinaryStringClass:!0};return tb(n,t)}function F1(n){if(n==null)return n;if(n instanceof Uint8Array)return si(n);if(Array.isArray(n))return n.map(F1);if(n instanceof Map){const e={};for(const[t,r]of n){if(typeof t!="string")throw new Error(`JSON map key must be a string: ${t}`);e[t]=F1(r)}return e}return n}function O1(n){if(n==null||typeof n=="string"||typeof n=="number"||typeof n=="bigint"||typeof n=="boolean")return n;if(Array.isArray(n))return n.map(O1);if(typeof n=="object"){const e=new Map;for(const[t,r]of Object.entries(n))e.set(t,O1(r));return e}throw new Error(`Invalid JSON encoding data: ${n}`)}var zo;(function(n){n[n.MAP_VALUE=0]="MAP_VALUE",n[n.ARRAY_ELEMENT=1]="ARRAY_ELEMENT"})(zo||(zo={}));class H0{constructor({parent:e,segment:t,baseObjectBytes:r}){this.resolvedCache=null,this.resolvedCachePresent=!1,this.parent=e,this.segment=t,this.baseObjectBytes=r}withMapValue(e){return new H0({parent:this,segment:{kind:zo.MAP_VALUE,key:e}})}withArrayElement(e){return new H0({parent:this,segment:{kind:zo.ARRAY_ELEMENT,key:e}})}getRawStringAtCurrentLocation(){const e=this.resolve();if(e instanceof bi)return e.rawBinaryValue;throw new Error(`Invalid type. Expected RawBinaryString, got ${e} (${typeof e})`)}getRawStringKeysAndValuesAtCurrentLocation(){const e=this.resolve();if(!(e instanceof Map))throw new Error(`Invalid type. Expected Map, got ${e} (${typeof e})`);const t=new Map;for(const[r,s]of e)if(r instanceof bi)t.set(r.rawBinaryValue,s);else throw new Error(`Invalid type for map key. Expected RawBinaryString, got ${r} (${typeof r})`);return t}resolve(){if(this.resolvedCachePresent)return this.resolvedCache;let e;if(this.parent?e=this.parent.resolve():e=X7(this.baseObjectBytes),!this.segment)return this.resolvedCache=e,this.resolvedCachePresent=!0,e;if(this.segment.kind===zo.MAP_VALUE){if(!(e instanceof Map))throw new Error(`Invalid type. Expected Map, got ${e} (${typeof e})`);if(typeof this.segment.key=="string"||this.segment.key instanceof Uint8Array||this.segment.key instanceof bi){const t=this.segment.key instanceof bi?this.segment.key.rawBinaryValue:ua(this.segment.key),r=typeof this.segment.key=="string"||this.segment.key instanceof bi;for(const[s,o]of e){let l;if(r?s instanceof bi&&(l=s.rawBinaryValue):s instanceof Uint8Array&&(l=s),l&&la(t,l)){this.resolvedCache=o;break}}}else this.resolvedCache=e.get(this.segment.key);return this.resolvedCachePresent=!0,this.resolvedCache}if(this.segment.kind===zo.ARRAY_ELEMENT){if(!Array.isArray(e))throw new Error(`Invalid type. Expected Array, got ${e} (${typeof e})`);return this.resolvedCache=e[this.segment.key],this.resolvedCachePresent=!0,this.resolvedCache}throw new Error(`Invalid segment kind: ${this.segment.kind}`)}getPathString(){const e=this.parent?this.parent.getPathString():"root";return this.segment?this.segment.kind===zo.MAP_VALUE?`${e} -> map key "${this.segment.key}" (${typeof this.segment.key})`:this.segment.kind===zo.ARRAY_ELEMENT?`${e} -> array index ${this.segment.key} (${typeof this.segment.key})`:`${e} -> unknown segment kind ${this.segment.kind}`:e}}class _i{}function xr(n,e){const t=GC(n),r=new H0({baseObjectBytes:n});return e.fromEncodingData(e.encodingSchema.fromPreparedMsgpack(t,r))}function us(n){return Sp(n.getEncodingSchema().prepareMsgpack(n.toEncodingData()))}function pn(n,e){const t=QE(n,{intDecoding:Jr.BIGINT});return e.fromEncodingData(e.encodingSchema.fromPreparedJSON(t))}function Z7(n,e){const{space:t,...r}=e??{},s=n.getEncodingSchema().prepareJSON(n.toEncodingData(),r);return Tl(s,void 0,t)}class sn extends _i{defaultValue(){return!1}isDefaultValue(e){return e===!1}prepareMsgpack(e){if(typeof e=="boolean")return e;throw new Error("Invalid boolean")}fromPreparedMsgpack(e,t){if(typeof e=="boolean")return e;throw new Error("Invalid boolean")}prepareJSON(e,t){if(typeof e=="boolean")return e;throw new Error("Invalid boolean")}fromPreparedJSON(e){if(typeof e=="boolean")return e;throw new Error("Invalid boolean")}}class Je extends _i{defaultValue(){return""}isDefaultValue(e){return e===""}prepareMsgpack(e){if(typeof e=="string")return e;throw new Error(`Invalid string: (${typeof e}) ${e}`)}fromPreparedMsgpack(e,t){if(typeof e=="string")return e;throw new Error(`Invalid string: (${typeof e}) ${e}`)}prepareJSON(e,t){if(typeof e=="string")return e;throw new Error(`Invalid string: (${typeof e}) ${e}`)}fromPreparedJSON(e){if(typeof e=="string")return e;throw new Error(`Invalid string: (${typeof e}) ${e}`)}}class Z extends _i{defaultValue(){return BigInt(0)}isDefaultValue(e){return typeof e=="bigint"?e===BigInt(0):typeof e=="number"?e===0:!1}prepareMsgpack(e){return Yn(e)}fromPreparedMsgpack(e,t){return Yn(e)}prepareJSON(e,t){return Yn(e)}fromPreparedJSON(e){return Yn(e)}}class zn extends _i{defaultValue(){return Kt.zeroAddress()}isDefaultValue(e){return Kt.zeroAddress().equals(e)}prepareMsgpack(e){if(e instanceof Kt)return e.publicKey;throw new Error(`Invalid address: (${typeof e}) ${e}`)}fromPreparedMsgpack(e,t){return new Kt(e)}prepareJSON(e,t){if(e instanceof Kt)return e.toString();throw new Error(`Invalid address: (${typeof e}) ${e}`)}fromPreparedJSON(e){return Kt.fromString(e)}}class dt extends _i{defaultValue(){return new Uint8Array}isDefaultValue(e){return e instanceof Uint8Array&&e.byteLength===0}prepareMsgpack(e){if(e instanceof Uint8Array)return e;throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}fromPreparedMsgpack(e,t){if(e instanceof Uint8Array)return e;throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}prepareJSON(e,t){if(e instanceof Uint8Array)return si(e);throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}fromPreparedJSON(e){if(e==null)return this.defaultValue();if(typeof e=="string")return yt(e);throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}}class rr extends _i{constructor(e){super(),this.length=e}defaultValue(){return new Uint8Array(this.length)}isDefaultValue(e){return e instanceof Uint8Array&&e.byteLength===this.length&&e.every(t=>t===0)}prepareMsgpack(e){if(e instanceof Uint8Array){if(e.byteLength===this.length)return e;throw new Error(`Invalid byte array length: wanted ${this.length}, got ${e.byteLength}`)}throw new Error("Invalid byte array")}fromPreparedMsgpack(e,t){if(e instanceof Uint8Array){if(e.byteLength===this.length)return e;throw new Error(`Invalid byte array length: wanted ${this.length}, got ${e.byteLength}`)}throw new Error("Invalid byte array")}prepareJSON(e){if(e instanceof Uint8Array){if(e.byteLength===this.length)return si(e);throw new Error(`Invalid byte array length: wanted ${this.length}, got ${e.byteLength}`)}throw new Error("Invalid byte array")}fromPreparedJSON(e){if(typeof e=="string"){const t=yt(e);if(t.byteLength===this.length)return t;throw new Error(`Invalid byte array length: wanted ${this.length}, got ${t.byteLength}`)}throw new Error("Invalid base64 byte array")}}const Uf=32,u6=52;class ez extends _i{defaultValue(){return new Uint8Array(Uf)}isDefaultValue(e){return e instanceof Uint8Array&&e.byteLength===Uf&&e.every(t=>t===0)}prepareMsgpack(e){if(e instanceof Uint8Array&&e.byteLength===Uf)return e;throw new Error(`Invalid block hash: (${typeof e}) ${e}`)}fromPreparedMsgpack(e,t){if(e instanceof Uint8Array&&e.byteLength===Uf)return e;throw new Error(`Invalid block hash: (${typeof e}) ${e}`)}prepareJSON(e,t){if(e instanceof Uint8Array&&e.byteLength===Uf)return`blk-${xm.encode(e).slice(0,u6)}`;throw new Error(`Invalid block hash: (${typeof e}) ${e}`)}fromPreparedJSON(e){if(typeof e=="string"&&e.length===u6+4&&e.startsWith("blk-"))return Uint8Array.from(xm.decode.asBytes(e.slice(4)));throw new Error(`Invalid block hash: (${typeof e}) ${e}`)}}class ah extends _i{defaultValue(){return new Uint8Array}isDefaultValue(e){return e instanceof Uint8Array&&e.byteLength===0}prepareMsgpack(e){if(e instanceof Uint8Array)return new bi(e);throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}fromPreparedMsgpack(e,t){return t.getRawStringAtCurrentLocation()}prepareJSON(e,t){if(e instanceof Uint8Array){const r=Ly(e);if(!t.lossyBinaryStringConversion&&!la(ua(r),e))throw new Error(`Invalid UTF-8 byte array encountered. Encode with lossyBinaryStringConversion enabled to bypass this check. Base64 value: ${si(e)}`);return r}throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}fromPreparedJSON(e){if(typeof e=="string")return ua(e);throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}}class rt extends _i{constructor(e){super(),this.itemSchema=e}defaultValue(){return[]}isDefaultValue(e){return Array.isArray(e)&&e.length===0}prepareMsgpack(e){if(Array.isArray(e))return e.map(t=>this.itemSchema.prepareMsgpack(t));throw new Error("ArraySchema data must be an array")}fromPreparedMsgpack(e,t){if(Array.isArray(e))return e.map((r,s)=>this.itemSchema.fromPreparedMsgpack(r,t.withArrayElement(s)));throw new Error(`ArraySchema encoded data must be an array: ${e} (${typeof e})`)}prepareJSON(e,t){if(Array.isArray(e))return e.map(r=>this.itemSchema.prepareJSON(r,t));throw new Error("ArraySchema data must be an array")}fromPreparedJSON(e){if(Array.isArray(e))return e.map(t=>this.itemSchema.fromPreparedJSON(t));throw new Error(`ArraySchema encoded data must be an array: ${e} (${typeof e})`)}}function Ut(n){return n.map(e=>({...e,omitEmpty:!0}))}class Ie extends _i{constructor(e){super(),this.entries=e,this.checkEntries()}pushEntries(...e){this.entries.push(...e),this.checkEntries()}checkEntries(){for(const t of this.entries)if(t.embedded){if(t.key!=="")throw new Error("Embedded entries must have an empty key");if(!(t.valueSchema instanceof Ie))throw new Error("Embedded entry valueSchema must be a NamedMapSchema")}const e=new Set;for(const t of this.getEntries()){if(e.has(t.key))throw new Error(`Duplicate key: ${t.key}`);e.add(t.key)}}getEntries(){const e=[];for(const t of this.entries)if(t.embedded){const r=t.valueSchema;e.push(...r.getEntries())}else e.push(t);return e}defaultValue(){const e=new Map;for(const t of this.getEntries())e.set(t.key,t.valueSchema.defaultValue());return e}isDefaultValue(e){if(!(e instanceof Map))return!1;for(const t of this.getEntries())if(!t.valueSchema.isDefaultValue(e.get(t.key)))return!1;return!0}prepareMsgpack(e){if(!(e instanceof Map))throw new Error(`NamedMapSchema data must be a Map. Got (${typeof e}) ${e}`);const t=new Map;for(const r of this.getEntries()){const s=e.get(r.key);r.omitEmpty&&r.valueSchema.isDefaultValue(s)||t.set(r.key,r.valueSchema.prepareMsgpack(s))}return t}fromPreparedMsgpack(e,t){if(!(e instanceof Map))throw new Error("NamedMapSchema data must be a Map");const r=new Map;for(const s of this.getEntries())if(e.has(s.key))r.set(s.key,s.valueSchema.fromPreparedMsgpack(e.get(s.key),t.withMapValue(s.key)));else if(s.omitEmpty)r.set(s.key,s.valueSchema.defaultValue());else throw new Error(`Missing key: ${s.key}`);return r}prepareJSON(e,t){if(!(e instanceof Map))throw new Error("NamedMapSchema data must be a Map");const r={};for(const s of this.getEntries()){const o=e.get(s.key);s.omitEmpty&&s.valueSchema.isDefaultValue(o)||(r[s.key]=s.valueSchema.prepareJSON(o,t))}return r}fromPreparedJSON(e){if(e==null||typeof e!="object"||Array.isArray(e))throw new Error("NamedMapSchema data must be an object");const t=new Map;for(const r of this.getEntries())if(Object.prototype.hasOwnProperty.call(e,r.key))t.set(r.key,r.valueSchema.fromPreparedJSON(e[r.key]));else if(r.omitEmpty)t.set(r.key,r.valueSchema.defaultValue());else throw new Error(`Missing key: ${r.key}`);return t}}function jd(...n){const e=new Map;for(const t of n)for(const[r,s]of t){if(e.has(r))throw new Error(`Duplicate key: ${r}`);e.set(r,s)}return e}function Br(n,e){const t=new Map;for(const[r,s]of n){const[o,l]=e(r,s);t.set(o,l)}return t}class qy extends _i{constructor(e){super(),this.valueSchema=e}defaultValue(){return new Map}isDefaultValue(e){return e instanceof Map&&e.size===0}prepareMsgpack(e){if(!(e instanceof Map))throw new Error(`Uint64MapSchema data must be a Map. Got (${typeof e}) ${e}`);const t=new Map;for(const[r,s]of e){const o=Yn(r);if(t.has(o))throw new Error(`Duplicate key: ${o}`);t.set(o,this.valueSchema.prepareMsgpack(s))}return t}fromPreparedMsgpack(e,t){if(!(e instanceof Map))throw new Error("Uint64MapSchema data must be a Map");const r=new Map;for(const[s,o]of e){const l=Yn(s);if(r.has(l))throw new Error(`Duplicate key: ${l}`);r.set(l,this.valueSchema.fromPreparedMsgpack(o,t.withMapValue(s)))}return r}prepareJSON(e,t){if(!(e instanceof Map))throw new Error(`Uint64MapSchema data must be a Map. Got (${typeof e}) ${e}`);const r=new Map;for(const[o,l]of e){const h=Yn(o);if(r.has(h))throw new Error(`Duplicate key: ${h}`);r.set(h,this.valueSchema.prepareJSON(l,t))}const s={};for(const[o,l]of r)s[o.toString()]=l;return s}fromPreparedJSON(e){if(e==null||typeof e!="object"||Array.isArray(e))throw new Error("Uint64MapSchema data must be an object");const t=new Map;for(const[r,s]of Object.entries(e)){const o=BigInt(r);if(t.has(o))throw new Error(`Duplicate key: ${o}`);t.set(o,this.valueSchema.fromPreparedJSON(s))}return t}}class tz extends _i{constructor(e){super(),this.valueSchema=e}defaultValue(){return new Map}isDefaultValue(e){return e instanceof Map&&e.size===0}prepareMsgpack(e){if(!(e instanceof Map))throw new Error(`ByteArrayMapSchema data must be a Map. Got (${typeof e}) ${e}`);const t=new Map;for(const[r,s]of e){if(!(r instanceof Uint8Array))throw new Error(`Invalid key: ${r} (${typeof r})`);t.set(r,this.valueSchema.prepareMsgpack(s))}return t}fromPreparedMsgpack(e,t){if(!(e instanceof Map))throw new Error("ByteArrayMapSchema data must be a Map");const r=new Map;for(const[s,o]of e){if(!(s instanceof Uint8Array))throw new Error(`Invalid key: ${s} (${typeof s})`);r.set(s,this.valueSchema.fromPreparedMsgpack(o,t.withMapValue(s)))}return r}prepareJSON(e,t){if(!(e instanceof Map))throw new Error(`ByteArrayMapSchema data must be a Map. Got (${typeof e}) ${e}`);const r=new Map;for(const[o,l]of e){if(!(o instanceof Uint8Array))throw new Error(`Invalid key: ${o} (${typeof o})`);const h=si(o);if(r.has(h))throw new Error(`Duplicate key (base64): ${h}`);r.set(h,this.valueSchema.prepareJSON(l,t))}const s={};for(const[o,l]of r)s[o]=l;return s}fromPreparedJSON(e){if(e==null||typeof e!="object"||Array.isArray(e))throw new Error("ByteArrayMapSchema data must be an object");const t=new Map;for(const[r,s]of Object.entries(e))t.set(yt(r),this.valueSchema.fromPreparedJSON(s));return t}}function y0(n){if(n instanceof bi)return Ly(n.rawBinaryValue);if(n instanceof Map){const e=new Map;for(const[t,r]of n)e.set(y0(t),y0(r));return e}return Array.isArray(n)?n.map(y0):n}class Sm extends _i{constructor(e){super(),this.valueSchema=e}defaultValue(){return new Map}isDefaultValue(e){return e instanceof Map&&e.size===0}prepareMsgpack(e){if(!(e instanceof Map))throw new Error(`SpecialCaseBinaryStringMapSchema data must be a Map. Got (${typeof e}) ${e}`);const t=new Map;for(const[r,s]of e){if(!(r instanceof Uint8Array))throw new Error(`Invalid key: ${r} (${typeof r})`);t.set(new bi(r),this.valueSchema.prepareMsgpack(s))}return t}fromPreparedMsgpack(e,t){const r=new Map,s=t.getRawStringKeysAndValuesAtCurrentLocation();for(const[o,l]of s)r.set(o,this.valueSchema.fromPreparedMsgpack(y0(l),t.withMapValue(new bi(o))));return r}prepareJSON(e,t){if(!(e instanceof Map))throw new Error(`SpecialCaseBinaryStringMapSchema data must be a Map. Got (${typeof e}) ${e}`);const r=new Map;for(const[o,l]of e){if(!(o instanceof Uint8Array))throw new Error(`Invalid key: ${o}`);const h=Ly(o);if(!t.lossyBinaryStringConversion&&!la(ua(h),o))throw new Error(`Invalid UTF-8 byte array encountered. Encode with lossyBinaryStringConversion enabled to bypass this check. Base64 value: ${si(o)}`);r.set(h,this.valueSchema.prepareJSON(l,t))}const s={};for(const[o,l]of r)s[o]=l;return s}fromPreparedJSON(e){if(e==null||typeof e!="object"||Array.isArray(e))throw new Error("SpecialCaseBinaryStringMapSchema data must be an object");const t=new Map;for(const[r,s]of Object.entries(e))t.set(ua(r),this.valueSchema.fromPreparedJSON(s));return t}}class V extends _i{constructor(e){super(),this.valueSchema=e}defaultValue(){}isDefaultValue(e){return e===void 0||this.valueSchema.isDefaultValue(e)}prepareMsgpack(e){if(e!==void 0)return this.valueSchema.prepareMsgpack(e)}fromPreparedMsgpack(e,t){if(e!=null)return this.valueSchema.fromPreparedMsgpack(e,t)}prepareJSON(e,t){return e===void 0?null:this.valueSchema.prepareJSON(e,t)}fromPreparedJSON(e){if(e!=null)return this.valueSchema.fromPreparedJSON(e)}}class KC extends _i{defaultValue(){}isDefaultValue(e){return e===void 0}prepareMsgpack(e){return e}fromPreparedMsgpack(e,t){return e}prepareJSON(e,t){return F1(e)}fromPreparedJSON(e){return O1(e)}}function nz(n,e,t){const r=BigInt(n.appIndex),s=n.name,o=r===BigInt(0)||r===t,l=e.indexOf(r)+1;if(l===0&&!o)throw new Error(`Box ref with appId ${r} not in foreign-apps`);return new Map([["i",l],["n",s]])}function rz(n,e,t){const r=BigInt(t),s=e.map(BigInt);return n.map(o=>nz(o,s,r))}function iz(n,e){const t=[];function r(o){for(let l=0;l<t.length;l++){const h=t[l],p=h.get("d");if((!o.address&&!p||o.address&&p&&o.address.equals(p))&&h.get("s")===o.assetIndex&&h.get("p")===o.appIndex)return l+1}return o.address&&t.push(new Map([["d",o.address]])),o.assetIndex&&t.push(new Map([["s",o.assetIndex]])),o.appIndex&&t.push(new Map([["p",o.appIndex]])),t.length}const s=Kt.zeroAddress();for(const o of e){if(o.address||o.assetIndex||o.appIndex){r(o);continue}if(o.holding){const l=o.holding;let h=0;l.address&&!l.address.equals(s)&&(h=r({address:l.address}));const p=r({assetIndex:l.assetIndex});t.push(new Map([["h",new Map([["d",h],["s",p]])]]));continue}if(o.locals){const l=o.locals;let h=0;l.address&&!l.address.equals(s)&&(h=r({address:l.address}));let p=0;l.appIndex&&BigInt(l.appIndex)!==n&&(p=r({appIndex:l.appIndex})),t.push(new Map([["l",new Map([["d",h],["p",p]])]]));continue}if(o.box){const l=o.box;let h=0;l.appIndex&&BigInt(l.appIndex)!==n&&(h=r({appIndex:l.appIndex})),t.push(new Map([["b",new Map([["i",h],["n",l.name]])]]))}}return t}function sz(n){const e=[];for(const t of n){const r=t.get("d"),s=t.get("s"),o=t.get("p");if(r){e.push({address:r});continue}if(s){e.push({assetIndex:s});continue}if(o){e.push({appIndex:o});continue}const l=t.get("h");if(l){const f=ri(l.get("d")??0),v=ri(l.get("s"));if(!v)throw new Error(`Holding missing asset index: ${l}`);const S=f===0?Kt.zeroAddress():e[f-1].address,C=e[v-1].assetIndex;e.push({holding:{address:S,assetIndex:C}});continue}const h=t.get("l");if(h){const f=ri(h.get("d")??0),v=ri(h.get("p")??0),S=f===0?Kt.zeroAddress():e[f-1].address,C=v===0?BigInt(0):e[v-1].appIndex;e.push({locals:{address:S,appIndex:C}});continue}const p=t.get("b");if(p){const f=ri(p.get("i")??0),v=p.get("n");if(!v)throw new Error(`Box missing name: ${p}`);const S=f===0?BigInt(0):e[f-1].appIndex;e.push({box:{appIndex:S,name:v}})}}return e}function az({appIndex:n,accounts:e,foreignAssets:t,foreignApps:r,holdings:s,locals:o,boxes:l}){const h=[];function p(S){let C;if(typeof S=="string"){if(S==="")return;C=Kt.fromString(S)}else C=S;if(C.equals(Kt.zeroAddress()))return;let R=!1;for(const B of h){if(!B.address)continue;let re=B.address;if(typeof B.address=="string"&&(re=Kt.fromString(B.address)),re.equals(C)){R=!0;break}}R||h.push({address:S})}function f(S){let C=!1;for(const R of h)if(R.assetIndex===S){C=!0;break}C||h.push({assetIndex:S})}function v(S){let C=!1;for(const R of h)if(R.appIndex===S){C=!0;break}C||h.push({appIndex:S})}for(const S of e??[])p(S);for(const S of t??[])f(S);for(const S of r??[])v(S);for(const S of s??[])S.address&&p(S.address),f(S.assetIndex),h.push({holding:S});for(const S of o??[])S.address&&p(S.address),S.appIndex&&BigInt(S.appIndex)!==n&&v(S.appIndex),h.push({locals:S});for(const S of l??[])S.appIndex&&BigInt(S.appIndex)!==n&&v(S.appIndex),h.push({box:S});return h}var Bn;(function(n){n.pay="pay",n.keyreg="keyreg",n.acfg="acfg",n.axfer="axfer",n.afrz="afrz",n.appl="appl",n.stpf="stpf",n.hb="hb"})(Bn||(Bn={}));function P1(n){return n===Bn.pay||n===Bn.keyreg||n===Bn.acfg||n===Bn.axfer||n===Bn.afrz||n===Bn.appl||n===Bn.stpf||n===Bn.hb}var ai;(function(n){n[n.NoOpOC=0]="NoOpOC",n[n.OptInOC=1]="OptInOC",n[n.CloseOutOC=2]="CloseOutOC",n[n.ClearStateOC=3]="ClearStateOC",n[n.UpdateApplicationOC=4]="UpdateApplicationOC",n[n.DeleteApplicationOC=5]="DeleteApplicationOC"})(ai||(ai={}));function WC(n){return n===ai.NoOpOC||n===ai.OptInOC||n===ai.CloseOutOC||n===ai.ClearStateOC||n===ai.UpdateApplicationOC||n===ai.DeleteApplicationOC}let $y=class j1{constructor(e){this.hashType=e.hashType}getEncodingSchema(){return j1.encodingSchema}toEncodingData(){return new Map([["t",this.hashType]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HashFactory: ${e}`);return new j1({hashType:Number(e.get("t"))})}};$y.encodingSchema=new Ie(Ut([{key:"t",valueSchema:new Z}]));let mc=class V1{constructor(e){this.path=e.path,this.hashFactory=e.hashFactory,this.treeDepth=e.treeDepth}getEncodingSchema(){return V1.encodingSchema}toEncodingData(){return new Map([["pth",this.path],["hsh",this.hashFactory.toEncodingData()],["td",this.treeDepth]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded MerkleArrayProof: ${e}`);return new V1({path:e.get("pth"),hashFactory:$y.fromEncodingData(e.get("hsh")),treeDepth:Number(e.get("td"))})}};mc.encodingSchema=new Ie(Ut([{key:"pth",valueSchema:new rt(new dt)},{key:"hsh",valueSchema:$y.encodingSchema},{key:"td",valueSchema:new Z}]));class kl{constructor(e){this.commitment=e.commitment,this.keyLifetime=e.keyLifetime}getEncodingSchema(){return kl.encodingSchema}toEncodingData(){return new Map([["cmt",this.commitment],["lf",this.keyLifetime]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded MerkleSignatureVerifier: ${e}`);return new kl({commitment:e.get("cmt"),keyLifetime:e.get("lf")})}}kl.encodingSchema=new Ie(Ut([{key:"cmt",valueSchema:new rr(64)},{key:"lf",valueSchema:new Z}]));class Il{constructor(e){this.pk=e.pk,this.weight=e.weight}getEncodingSchema(){return Il.encodingSchema}toEncodingData(){return new Map([["p",this.pk.toEncodingData()],["w",this.weight]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Participant: ${e}`);return new Il({pk:kl.fromEncodingData(e.get("p")),weight:e.get("w")})}}Il.encodingSchema=new Ie(Ut([{key:"p",valueSchema:kl.encodingSchema},{key:"w",valueSchema:new Z}]));class Cl{constructor(e){this.publicKey=e.publicKey}getEncodingSchema(){return Cl.encodingSchema}toEncodingData(){return new Map([["k",this.publicKey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded FalconVerifier: ${e}`);return new Cl({publicKey:e.get("k")})}}Cl.encodingSchema=new Ie(Ut([{key:"k",valueSchema:new rr(1793)}]));class Rl{constructor(e){this.signature=e.signature,this.vectorCommitmentIndex=e.index,this.proof=e.proof,this.verifyingKey=e.verifyingKey}getEncodingSchema(){return Rl.encodingSchema}toEncodingData(){return new Map([["sig",this.signature],["idx",this.vectorCommitmentIndex],["prf",this.proof.toEncodingData()],["vkey",this.verifyingKey.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded FalconSignatureStruct: ${e}`);return new Rl({signature:e.get("sig"),index:e.get("idx"),proof:mc.fromEncodingData(e.get("prf")),verifyingKey:Cl.fromEncodingData(e.get("vkey"))})}}Rl.encodingSchema=new Ie(Ut([{key:"sig",valueSchema:new dt},{key:"idx",valueSchema:new Z},{key:"prf",valueSchema:mc.encodingSchema},{key:"vkey",valueSchema:Cl.encodingSchema}]));class Nl{constructor(e){this.sig=e.sig,this.l=e.l}getEncodingSchema(){return Nl.encodingSchema}toEncodingData(){return new Map([["s",this.sig.toEncodingData()],["l",this.l]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SigslotCommit: ${e}`);return new Nl({sig:Rl.fromEncodingData(e.get("s")),l:e.get("l")})}}Nl.encodingSchema=new Ie(Ut([{key:"s",valueSchema:Rl.encodingSchema},{key:"l",valueSchema:new Z}]));class Dl{constructor(e){this.sigslot=e.sigslot,this.participant=e.participant}getEncodingSchema(){return Dl.encodingSchema}toEncodingData(){return new Map([["s",this.sigslot.toEncodingData()],["p",this.participant.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Reveal: ${e}`);return new Dl({sigslot:Nl.fromEncodingData(e.get("s")),participant:Il.fromEncodingData(e.get("p"))})}}Dl.encodingSchema=new Ie(Ut([{key:"s",valueSchema:Nl.encodingSchema},{key:"p",valueSchema:Il.encodingSchema}]));let Hy=class B1{constructor(e){this.sigCommit=e.sigCommit,this.signedWeight=e.signedWeight,this.sigProofs=e.sigProofs,this.partProofs=e.partProofs,this.merkleSignatureSaltVersion=e.merkleSignatureSaltVersion,this.reveals=e.reveals,this.positionsToReveal=e.positionsToReveal}getEncodingSchema(){return B1.encodingSchema}toEncodingData(){return new Map([["c",this.sigCommit],["w",this.signedWeight],["S",this.sigProofs.toEncodingData()],["P",this.partProofs.toEncodingData()],["v",this.merkleSignatureSaltVersion],["r",Br(this.reveals,(e,t)=>[e,t.toEncodingData()])],["pr",this.positionsToReveal]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProof: ${e}`);return new B1({sigCommit:e.get("c"),signedWeight:e.get("w"),sigProofs:mc.fromEncodingData(e.get("S")),partProofs:mc.fromEncodingData(e.get("P")),merkleSignatureSaltVersion:Number(e.get("v")),reveals:Br(e.get("r"),(t,r)=>[t,Dl.fromEncodingData(r)]),positionsToReveal:e.get("pr")})}};Hy.encodingSchema=new Ie(Ut([{key:"c",valueSchema:new dt},{key:"w",valueSchema:new Z},{key:"S",valueSchema:mc.encodingSchema},{key:"P",valueSchema:mc.encodingSchema},{key:"v",valueSchema:new Z},{key:"r",valueSchema:new qy(Dl.encodingSchema)},{key:"pr",valueSchema:new rt(new Z)}]));let Gy=class w0{constructor(e){this.blockHeadersCommitment=e.blockHeadersCommitment,this.votersCommitment=e.votersCommitment,this.lnProvenWeight=e.lnProvenWeight,this.firstAttestedRound=e.firstAttestedRound,this.lastAttestedRound=e.lastAttestedRound}getEncodingSchema(){return w0.encodingSchema}toEncodingData(){return new Map([["b",this.blockHeadersCommitment],["v",this.votersCommitment],["P",this.lnProvenWeight],["f",this.firstAttestedRound],["l",this.lastAttestedRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofMessage: ${e}`);return new w0({blockHeadersCommitment:e.get("b"),votersCommitment:e.get("v"),lnProvenWeight:e.get("P"),firstAttestedRound:e.get("f"),lastAttestedRound:e.get("l")})}static fromMap(e){return new w0({blockHeadersCommitment:e.get("b"),votersCommitment:e.get("v"),lnProvenWeight:e.get("P"),firstAttestedRound:e.get("f"),lastAttestedRound:e.get("l")})}};Gy.encodingSchema=new Ie(Ut([{key:"b",valueSchema:new dt},{key:"v",valueSchema:new dt},{key:"P",valueSchema:new Z},{key:"f",valueSchema:new Z},{key:"l",valueSchema:new Z}]));class wh{constructor(e){this.sig=e.sig,this.pk=e.pk,this.pk2=e.pk2,this.pk1Sig=e.pk1Sig,this.pk2Sig=e.pk2Sig}getEncodingSchema(){return wh.encodingSchema}toEncodingData(){return new Map([["s",this.sig],["p",this.pk],["p2",this.pk2],["p1s",this.pk1Sig],["p2s",this.pk2Sig]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HeartbeatProof: ${e}`);return new wh({sig:e.get("s"),pk:e.get("p"),pk2:e.get("p2"),pk1Sig:e.get("p1s"),pk2Sig:e.get("p2s")})}}wh.encodingSchema=new Ie(Ut([{key:"s",valueSchema:new rr(64)},{key:"p",valueSchema:new rr(32)},{key:"p2",valueSchema:new rr(32)},{key:"p1s",valueSchema:new rr(64)},{key:"p2s",valueSchema:new rr(64)}]));class ic{constructor(e){this.address=e.address,this.proof=e.proof,this.seed=e.seed,this.voteID=e.voteID,this.keyDilution=e.keyDilution}getEncodingSchema(){return ic.encodingSchema}toEncodingData(){return new Map([["a",this.address],["prf",this.proof.toEncodingData()],["sd",this.seed],["vid",this.voteID],["kd",this.keyDilution]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Heartbeat: ${e}`);return new ic({address:e.get("a"),proof:wh.fromEncodingData(e.get("prf")),seed:e.get("sd"),voteID:e.get("vid"),keyDilution:e.get("kd")})}}ic.encodingSchema=new Ie(Ut([{key:"a",valueSchema:new zn},{key:"prf",valueSchema:wh.encodingSchema},{key:"sd",valueSchema:new dt},{key:"vid",valueSchema:new rr(32)},{key:"kd",valueSchema:new Z}]));const oz=52,cz=32,lz=75,uz=32,hz=32,dz=32,fz=64,mz=32;function YC(n){return n.every(e=>e===0)}function Nx(n,e,t){if(n==null)return;let r;if(n instanceof Uint8Array&&(r=n),r==null||r.byteLength!==t)throw Error(`${e} must be a ${t} byte Uint8Array`);return r}function Ba(n){if(n==null)throw new Error("Address must not be null or undefined");if(typeof n=="string")return Kt.fromString(n);if(n instanceof Kt)return n;throw new Error(`Not an address: ${n}`)}function Uo(n){if(n==null)return;let e;if(n instanceof Kt)e=n;else if(typeof n=="string")e=Kt.fromString(n);else throw new Error(`Not an address: ${n}`);if(YC(e.publicKey))throw new Error("Invalid use of the zero address. To omit this value, pass in undefined");return e}function JC(n){if(!(typeof n>"u")){if(n instanceof Uint8Array)return n;throw new Error(`Not a Uint8Array: ${n}`)}}function sl(n){if(n instanceof Uint8Array)return n;throw new Error(`Not a Uint8Array: ${n}`)}function Dx(n){if(!(typeof n>"u"))return Yn(n)}function Qg(n){if(n===!0||n===!1)return n;throw new Error(`Not a boolean: ${n}`)}function Wu(n){if(Array.isArray(n))return n.slice();throw new Error(`Not an array: ${n}`)}function h6(n,e,t){const r=JC(n);if(!(typeof r>"u")){if(r.byteLength!==e)throw new Error(`${t} must be ${e} bytes long, was ${r.byteLength}`);if(!YC(r))return r}}function QC(n){if(n!=null&&typeof n=="object"){const{appIndex:e,name:t}=n;return{appIndex:Yn(e),name:sl(t)}}throw new Error(`Not a box reference: ${n}`)}function pz(n){if(n!=null&&typeof n=="object"){const{assetIndex:e,address:t}=n;return{assetIndex:Yn(e),address:Ba(t)}}throw new Error(`Not a holding reference: ${n}`)}function gz(n){if(n!=null&&typeof n=="object"){const{appIndex:e,address:t}=n;return{appIndex:Yn(e),address:Ba(t)}}throw new Error(`Not a locals reference: ${n}`)}function yz(n){if(n!=null&&typeof n=="object"){const{address:e,appIndex:t,assetIndex:r,holding:s,locals:o,box:l}=n;if(e!==void 0)return{address:Ba(e)};if(t!==void 0)return{appIndex:Yn(t)};if(r!==void 0)return{assetIndex:Yn(r)};if(s!==void 0)return{holding:pz(s)};if(o!==void 0)return{locals:gz(o)};if(l!==void 0)return{box:QC(l)}}throw new Error(`Not a resource reference: ${n}`)}const d6=new TextEncoder().encode("TX");let hs=class v0{constructor(e){if(!P1(e.type))throw new Error(`Invalid transaction type: ${e.type}`);if(this.type=e.type,this.sender=Ba(e.sender),this.note=sl(e.note??new Uint8Array),this.lease=h6(e.lease,cz,"lease"),this.rekeyTo=Uo(e.rekeyTo),this.group=void 0,this.firstValid=Yn(e.suggestedParams.firstValid),this.lastValid=Yn(e.suggestedParams.lastValid),e.suggestedParams.genesisID){if(typeof e.suggestedParams.genesisID!="string")throw new Error("Genesis ID must be a string if present");this.genesisID=e.suggestedParams.genesisID}this.genesisHash=JC(e.suggestedParams.genesisHash);const t=[];if(e.paymentParams&&t.push(Bn.pay),e.keyregParams&&t.push(Bn.keyreg),e.assetConfigParams&&t.push(Bn.acfg),e.assetTransferParams&&t.push(Bn.axfer),e.assetFreezeParams&&t.push(Bn.afrz),e.appCallParams&&t.push(Bn.appl),e.stateProofParams&&t.push(Bn.stpf),e.heartbeatParams&&t.push(Bn.hb),t.length!==1)throw new Error(`Transaction has wrong number of type fields present (${t.length}): ${t}`);if(this.type!==t[0])throw new Error(`Transaction has type ${this.type} but fields present for ${t[0]}`);if(e.paymentParams&&(this.payment={receiver:Ba(e.paymentParams.receiver),amount:Yn(e.paymentParams.amount),closeRemainderTo:Uo(e.paymentParams.closeRemainderTo)}),e.keyregParams){if(this.keyreg={voteKey:Nx(e.keyregParams.voteKey,"voteKey",hz),selectionKey:Nx(e.keyregParams.selectionKey,"selectionKey",dz),stateProofKey:Nx(e.keyregParams.stateProofKey,"stateProofKey",fz),voteFirst:Dx(e.keyregParams.voteFirst),voteLast:Dx(e.keyregParams.voteLast),voteKeyDilution:Dx(e.keyregParams.voteKeyDilution),nonParticipation:Qg(e.keyregParams.nonParticipation??!1)},this.keyreg.nonParticipation&&(this.keyreg.voteKey||this.keyreg.selectionKey||this.keyreg.stateProofKey||typeof this.keyreg.voteFirst<"u"||typeof this.keyreg.voteLast<"u"||typeof this.keyreg.voteKeyDilution<"u"))throw new Error("nonParticipation is true but participation params are present.");if(!this.keyreg.nonParticipation&&(this.keyreg.voteKey||this.keyreg.selectionKey||this.keyreg.stateProofKey||typeof this.keyreg.voteFirst<"u"||typeof this.keyreg.voteLast<"u"||typeof this.keyreg.voteKeyDilution<"u")&&!(this.keyreg.voteKey&&this.keyreg.selectionKey&&typeof this.keyreg.voteFirst<"u"&&typeof this.keyreg.voteLast<"u"&&typeof this.keyreg.voteKeyDilution<"u"))throw new Error("Online key registration missing at least one of the following fields: voteKey, selectionKey, voteFirst, voteLast, voteKeyDilution")}if(e.assetConfigParams&&(this.assetConfig={assetIndex:Yn(e.assetConfigParams.assetIndex??0),total:Yn(e.assetConfigParams.total??0),decimals:ri(e.assetConfigParams.decimals??0),defaultFrozen:Qg(e.assetConfigParams.defaultFrozen??!1),manager:Uo(e.assetConfigParams.manager),reserve:Uo(e.assetConfigParams.reserve),freeze:Uo(e.assetConfigParams.freeze),clawback:Uo(e.assetConfigParams.clawback),unitName:e.assetConfigParams.unitName,assetName:e.assetConfigParams.assetName,assetURL:e.assetConfigParams.assetURL,assetMetadataHash:h6(e.assetConfigParams.assetMetadataHash,uz,"assetMetadataHash")}),e.assetTransferParams&&(this.assetTransfer={assetIndex:Yn(e.assetTransferParams.assetIndex),amount:Yn(e.assetTransferParams.amount),assetSender:Uo(e.assetTransferParams.assetSender),receiver:Ba(e.assetTransferParams.receiver),closeRemainderTo:Uo(e.assetTransferParams.closeRemainderTo)}),e.assetFreezeParams&&(this.assetFreeze={assetIndex:Yn(e.assetFreezeParams.assetIndex),freezeAccount:Ba(e.assetFreezeParams.freezeTarget),frozen:Qg(e.assetFreezeParams.frozen)}),e.appCallParams){const{onComplete:s}=e.appCallParams;if(!WC(s))throw new Error(`Invalid onCompletion value: ${s}`);this.applicationCall={appIndex:Yn(e.appCallParams.appIndex),onComplete:s,numLocalInts:ri(e.appCallParams.numLocalInts??0),numLocalByteSlices:ri(e.appCallParams.numLocalByteSlices??0),numGlobalInts:ri(e.appCallParams.numGlobalInts??0),numGlobalByteSlices:ri(e.appCallParams.numGlobalByteSlices??0),extraPages:ri(e.appCallParams.extraPages??0),approvalProgram:sl(e.appCallParams.approvalProgram??new Uint8Array),clearProgram:sl(e.appCallParams.clearProgram??new Uint8Array),appArgs:Wu(e.appCallParams.appArgs??[]).map(sl),accounts:Wu(e.appCallParams.accounts??[]).map(Ba),foreignApps:Wu(e.appCallParams.foreignApps??[]).map(Yn),foreignAssets:Wu(e.appCallParams.foreignAssets??[]).map(Yn),boxes:Wu(e.appCallParams.boxes??[]).map(QC),access:Wu(e.appCallParams.access??[]).map(yz),rejectVersion:ri(e.appCallParams.rejectVersion??0)}}if(e.stateProofParams&&(this.stateProof={stateProofType:ri(e.stateProofParams.stateProofType??0),stateProof:e.stateProofParams.stateProof,message:e.stateProofParams.message}),e.heartbeatParams&&(this.heartbeat=new ic({address:e.heartbeatParams.address,proof:e.heartbeatParams.proof,seed:e.heartbeatParams.seed,voteID:e.heartbeatParams.voteID,keyDilution:e.heartbeatParams.keyDilution})),this.fee=Yn(e.suggestedParams.fee),!Qg(e.suggestedParams.flatFee??!1)){const s=Yn(e.suggestedParams.minFee);this.fee*=BigInt(this.estimateSize()),this.fee<s&&(this.fee=s)}}getEncodingSchema(){return v0.encodingSchema}toEncodingData(){const e=new Map([["type",this.type],["fv",this.firstValid],["lv",this.lastValid],["snd",this.sender],["gen",this.genesisID],["gh",this.genesisHash],["fee",this.fee],["note",this.note],["lx",this.lease],["rekey",this.rekeyTo],["grp",this.group]]);if(this.payment)return e.set("amt",this.payment.amount),e.set("rcv",this.payment.receiver),e.set("close",this.payment.closeRemainderTo),e;if(this.keyreg)return e.set("votekey",this.keyreg.voteKey),e.set("selkey",this.keyreg.selectionKey),e.set("sprfkey",this.keyreg.stateProofKey),e.set("votefst",this.keyreg.voteFirst),e.set("votelst",this.keyreg.voteLast),e.set("votekd",this.keyreg.voteKeyDilution),e.set("nonpart",this.keyreg.nonParticipation),e;if(this.assetConfig){e.set("caid",this.assetConfig.assetIndex);const t=new Map([["t",this.assetConfig.total],["dc",this.assetConfig.decimals],["df",this.assetConfig.defaultFrozen],["m",this.assetConfig.manager],["r",this.assetConfig.reserve],["f",this.assetConfig.freeze],["c",this.assetConfig.clawback],["un",this.assetConfig.unitName],["an",this.assetConfig.assetName],["au",this.assetConfig.assetURL],["am",this.assetConfig.assetMetadataHash]]);return e.set("apar",t),e}if(this.assetTransfer)return e.set("xaid",this.assetTransfer.assetIndex),e.set("aamt",this.assetTransfer.amount),e.set("arcv",this.assetTransfer.receiver),e.set("aclose",this.assetTransfer.closeRemainderTo),e.set("asnd",this.assetTransfer.assetSender),e;if(this.assetFreeze)return e.set("faid",this.assetFreeze.assetIndex),e.set("afrz",this.assetFreeze.frozen),e.set("fadd",this.assetFreeze.freezeAccount),e;if(this.applicationCall)return e.set("apid",this.applicationCall.appIndex),e.set("apan",this.applicationCall.onComplete),e.set("apaa",this.applicationCall.appArgs),e.set("apat",this.applicationCall.accounts),e.set("apas",this.applicationCall.foreignAssets),e.set("apfa",this.applicationCall.foreignApps),e.set("apbx",rz(this.applicationCall.boxes,this.applicationCall.foreignApps,this.applicationCall.appIndex)),e.set("al",iz(this.applicationCall.appIndex,this.applicationCall.access)),e.set("apap",this.applicationCall.approvalProgram),e.set("apsu",this.applicationCall.clearProgram),e.set("apls",new Map([["nui",this.applicationCall.numLocalInts],["nbs",this.applicationCall.numLocalByteSlices]])),e.set("apgs",new Map([["nui",this.applicationCall.numGlobalInts],["nbs",this.applicationCall.numGlobalByteSlices]])),e.set("apep",this.applicationCall.extraPages),e.set("aprv",this.applicationCall.rejectVersion),e;if(this.stateProof)return e.set("sptype",this.stateProof.stateProofType),e.set("sp",this.stateProof.stateProof?this.stateProof.stateProof.toEncodingData():void 0),e.set("spmsg",this.stateProof.message?this.stateProof.message.toEncodingData():void 0),e;if(this.heartbeat){const t=new ic({address:this.heartbeat.address,proof:this.heartbeat.proof,seed:this.heartbeat.seed,voteID:this.heartbeat.voteID,keyDilution:this.heartbeat.keyDilution});return e.set("hb",t.toEncodingData()),e}throw new Error(`Unexpected transaction type: ${this.type}`)}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded logic sig account: ${e}`);const t={minFee:BigInt(0),flatFee:!0,fee:e.get("fee")??0,firstValid:e.get("fv")??0,lastValid:e.get("lv")??0,genesisHash:e.get("gh"),genesisID:e.get("gen")},r=e.get("type");if(!P1(r))throw new Error(`Unrecognized transaction type: ${r}`);const s={type:r,sender:e.get("snd")??Kt.zeroAddress(),note:e.get("note"),lease:e.get("lx"),suggestedParams:t};if(e.get("rekey")&&(s.rekeyTo=e.get("rekey")),s.type===Bn.pay){const l={amount:e.get("amt")??0,receiver:e.get("rcv")??Kt.zeroAddress()};e.get("close")&&(l.closeRemainderTo=e.get("close")),s.paymentParams=l}else if(s.type===Bn.keyreg){const l={voteKey:e.get("votekey"),selectionKey:e.get("selkey"),stateProofKey:e.get("sprfkey"),voteFirst:e.get("votefst"),voteLast:e.get("votelst"),voteKeyDilution:e.get("votekd"),nonParticipation:e.get("nonpart")};s.keyregParams=l}else if(s.type===Bn.acfg){const l={assetIndex:e.get("caid")};if(e.get("apar")){const h=e.get("apar");l.total=h.get("t"),l.decimals=h.get("dc"),l.defaultFrozen=h.get("df"),l.unitName=h.get("un"),l.assetName=h.get("an"),l.assetURL=h.get("au"),l.assetMetadataHash=h.get("am"),h.get("m")&&(l.manager=h.get("m")),h.get("r")&&(l.reserve=h.get("r")),h.get("f")&&(l.freeze=h.get("f")),h.get("c")&&(l.clawback=h.get("c"))}s.assetConfigParams=l}else if(s.type===Bn.axfer){const l={assetIndex:e.get("xaid")??0,amount:e.get("aamt")??0,receiver:e.get("arcv")??Kt.zeroAddress()};e.get("aclose")&&(l.closeRemainderTo=e.get("aclose")),e.get("asnd")&&(l.assetSender=e.get("asnd")),s.assetTransferParams=l}else if(s.type===Bn.afrz){const l={assetIndex:e.get("faid")??0,freezeTarget:e.get("fadd")??Kt.zeroAddress(),frozen:e.get("afrz")??!1};s.assetFreezeParams=l}else if(s.type===Bn.appl){const l={appIndex:e.get("apid")??0,onComplete:ri(e.get("apan")??0),appArgs:e.get("apaa"),accounts:e.get("apat"),foreignAssets:e.get("apas"),foreignApps:e.get("apfa"),approvalProgram:e.get("apap"),clearProgram:e.get("apsu"),extraPages:e.get("apep"),rejectVersion:e.get("aprv")??0},h=e.get("apls");h&&(l.numLocalInts=h.get("nui"),l.numLocalByteSlices=h.get("nbs"));const p=e.get("apgs");p&&(l.numGlobalInts=p.get("nui"),l.numGlobalByteSlices=p.get("nbs"));const f=e.get("apbx");f&&(l.boxes=f.map(S=>{const C=ri(S.get("i")??0),R=sl(S.get("n")??new Uint8Array);if(C===0)return{appIndex:0,name:R};if(!l.foreignApps||C>l.foreignApps.length)throw new Error(`Cannot find foreign app index ${C} in ${l.foreignApps}`);return{appIndex:l.foreignApps[C-1],name:R}}));const v=e.get("al");v&&(l.access=sz(v)),s.appCallParams=l}else if(s.type===Bn.stpf){const l={stateProofType:e.get("sptype"),stateProof:e.get("sp")?Hy.fromEncodingData(e.get("sp")):void 0,message:e.get("spmsg")?Gy.fromEncodingData(e.get("spmsg")):void 0};s.stateProofParams=l}else if(s.type===Bn.hb){const l=ic.fromEncodingData(e.get("hb")),h={address:l.address,proof:l.proof,seed:l.seed,voteID:l.voteID,keyDilution:l.keyDilution};s.heartbeatParams=h}else{const l=s.type;throw new Error(`Unexpected transaction type: ${l}`)}const o=new v0(s);if(e.get("grp")){const l=sl(e.get("grp"));if(l.byteLength!==mz)throw new Error(`Invalid group length: ${l.byteLength}`);o.group=l}return o}estimateSize(){return this.toByte().length+lz}bytesToSign(){const e=this.toByte();return Lr(d6,e)}toByte(){return us(this)}rawSignTxn(e){const t=this.bytesToSign();return vm(t,e)}signTxn(e){const t=By(e),r=new Kt(t.publicKey),s=this.rawSignTxn(e);return this.attachSignature(r,s)}attachSignature(e,t){if(!NC(t.length))throw new Error("Invalid signature length");const r=new Map([["sig",t],["txn",this.toEncodingData()]]),s=Ba(e);this.sender.equals(s)||r.set("sgnr",s);const o=new Ie(Ut([{key:"txn",valueSchema:v0.encodingSchema},{key:"sig",valueSchema:new rr(64)},{key:"sgnr",valueSchema:new V(new zn)}]));return Sp(o.prepareMsgpack(r))}rawTxID(){const e=this.toByte(),t=Lr(d6,e);return Uint8Array.from(io(t))}txID(){const e=this.rawTxID();return xm.encode(e).slice(0,oz)}};hs.encodingSchema=new Ie(Ut([{key:"type",valueSchema:new Je},{key:"snd",valueSchema:new zn},{key:"lv",valueSchema:new Z},{key:"gen",valueSchema:new V(new Je)},{key:"gh",valueSchema:new V(new rr(32))},{key:"fee",valueSchema:new Z},{key:"fv",valueSchema:new Z},{key:"note",valueSchema:new dt},{key:"lx",valueSchema:new V(new rr(32))},{key:"rekey",valueSchema:new V(new zn)},{key:"grp",valueSchema:new V(new rr(32))},{key:"amt",valueSchema:new V(new Z)},{key:"rcv",valueSchema:new V(new zn)},{key:"close",valueSchema:new V(new zn)},{key:"votekey",valueSchema:new V(new rr(32))},{key:"selkey",valueSchema:new V(new rr(32))},{key:"sprfkey",valueSchema:new V(new rr(64))},{key:"votefst",valueSchema:new V(new Z)},{key:"votelst",valueSchema:new V(new Z)},{key:"votekd",valueSchema:new V(new Z)},{key:"nonpart",valueSchema:new V(new sn)},{key:"caid",valueSchema:new V(new Z)},{key:"apar",valueSchema:new V(new Ie(Ut([{key:"t",valueSchema:new Z},{key:"dc",valueSchema:new Z},{key:"df",valueSchema:new sn},{key:"m",valueSchema:new V(new zn)},{key:"r",valueSchema:new V(new zn)},{key:"f",valueSchema:new V(new zn)},{key:"c",valueSchema:new V(new zn)},{key:"un",valueSchema:new V(new Je)},{key:"an",valueSchema:new V(new Je)},{key:"au",valueSchema:new V(new Je)},{key:"am",valueSchema:new V(new rr(32))}])))},{key:"xaid",valueSchema:new V(new Z)},{key:"aamt",valueSchema:new V(new Z)},{key:"arcv",valueSchema:new V(new zn)},{key:"aclose",valueSchema:new V(new zn)},{key:"asnd",valueSchema:new V(new zn)},{key:"faid",valueSchema:new V(new Z)},{key:"afrz",valueSchema:new V(new sn)},{key:"fadd",valueSchema:new V(new zn)},{key:"apid",valueSchema:new V(new Z)},{key:"apan",valueSchema:new V(new Z)},{key:"apaa",valueSchema:new V(new rt(new dt))},{key:"apat",valueSchema:new V(new rt(new zn))},{key:"apas",valueSchema:new V(new rt(new Z))},{key:"apfa",valueSchema:new V(new rt(new Z))},{key:"apbx",valueSchema:new V(new rt(new Ie(Ut([{key:"i",valueSchema:new Z},{key:"n",valueSchema:new dt}]))))},{key:"al",valueSchema:new V(new rt(new Ie(Ut([{key:"d",valueSchema:new V(new zn)},{key:"s",valueSchema:new V(new Z)},{key:"p",valueSchema:new V(new Z)},{key:"h",valueSchema:new V(new Ie(Ut([{key:"d",valueSchema:new Z},{key:"s",valueSchema:new Z}])))},{key:"l",valueSchema:new V(new Ie(Ut([{key:"d",valueSchema:new Z},{key:"p",valueSchema:new Z}])))},{key:"b",valueSchema:new V(new Ie(Ut([{key:"i",valueSchema:new Z},{key:"n",valueSchema:new dt}])))}]))))},{key:"apap",valueSchema:new V(new dt)},{key:"apsu",valueSchema:new V(new dt)},{key:"apls",valueSchema:new V(new Ie(Ut([{key:"nui",valueSchema:new Z},{key:"nbs",valueSchema:new Z}])))},{key:"apgs",valueSchema:new V(new Ie(Ut([{key:"nui",valueSchema:new Z},{key:"nbs",valueSchema:new Z}])))},{key:"apep",valueSchema:new V(new Z)},{key:"aprv",valueSchema:new V(new Z)},{key:"sptype",valueSchema:new V(new Z)},{key:"sp",valueSchema:new V(Hy.encodingSchema)},{key:"spmsg",valueSchema:new V(Gy.encodingSchema)},{key:"hb",valueSchema:new V(ic.encodingSchema)}]));function wz(n){return us(n)}function vz(n){return xr(n,hs)}const Lf=new Uint8Array([77,117,108,116,105,115,105,103,65,100,100,114]),xz="invalid multisig version",Sz="bad multisig threshold",Ez="bad multisig public key - wrong length",bz="nacl public key length is not 32 bytes";function Vd(n){return n.map(e=>typeof e=="string"?Kt.fromString(e).publicKey:e.publicKey)}function so({version:n,threshold:e,pks:t}){if(n!==1||n>255||n<0)throw new Error(xz);if(e===0||t.length===0||e>t.length||e>255)throw new Error(Sz);const r=il-sm;if(r!==MC)throw new Error(bz);const s=new Uint8Array(Lf.length+2+r*t.length);s.set(Lf,0),s.set([n],Lf.length),s.set([e],Lf.length+1);for(let o=0;o<t.length;o++){if(t[o].length!==r)throw new Error(Ez);s.set(t[o],Lf.length+2+o*r)}return new Kt(Uint8Array.from(io(s)))}function _z({version:n,threshold:e,addrs:t}){const r=Vd(t);return so({version:n,threshold:e,pks:r})}function U1(n,e,t){const r=e.v,s=e.thr,o=e.subsig,l=o.map(v=>v.pk);if(e.subsig.length<s)return!1;let h;try{h=so({version:r,threshold:s,pks:l}).publicKey}catch{return!1}if(!la(h,t))return!1;let p=0;for(const v of o)v.s!==void 0&&(p+=1);if(p<s)return!1;let f=0;for(const v of o)v.s!==void 0&&Uy(n,v.s,v.pk)&&(f+=1);return!(f<s)}function Az({version:n,threshold:e,addrs:t}){return _z({version:n,threshold:e,addrs:t})}const XC=new Ie(Ut([{key:"pk",valueSchema:new rr(32)},{key:"s",valueSchema:new V(new rr(64))}]));function ZC(n){if(!(n instanceof Map))throw new Error(`Invalid decoded EncodedSubsig: ${n}`);const e={pk:n.get("pk")};return n.get("s")&&(e.s=n.get("s")),e}function eR(n){const e=new Map([["pk",n.pk]]);return n.s&&e.set("s",n.s),e}const G0=new Ie(Ut([{key:"v",valueSchema:new Z},{key:"thr",valueSchema:new Z},{key:"subsig",valueSchema:new rt(XC)}]));function K0(n){if(!(n instanceof Map))throw new Error(`Invalid decoded EncodedMultiSig: ${n}`);return{v:ri(n.get("v")),thr:ri(n.get("thr")),subsig:n.get("subsig").map(ZC)}}function W0(n){return new Map([["v",n.v],["thr",n.thr],["subsig",n.subsig.map(eR)]])}const Tz=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;function f6(n){if(!n||n.length===0)throw new Error("empty program");const e=10,t=32,r=126,s=l=>t<=l&&l<=r;if(n.every(l=>l===e||s(l))){const l=new TextDecoder().decode(n);throw PC(l)?new Error("requesting program bytes, get Algorand address"):Tz.test(l)?new Error("program should not be b64 encoded"):new Error("program bytes are all ASCII printable characters, not looking like Teal byte code")}}const Mx=new TextEncoder().encode("Program"),m6=new TextEncoder().encode("MsigProgram");class Hi{constructor(e,t){if(t&&(!Array.isArray(t)||!t.every(s=>s.constructor===Uint8Array)))throw new TypeError("Invalid arguments");let r=[];t!=null&&(r=t.map(s=>new Uint8Array(s))),f6(e),this.logic=e,this.args=r,this.sig=void 0,this.msig=void 0,this.lmsig=void 0}getEncodingSchema(){return Hi.encodingSchema}toEncodingData(){const e=new Map([["l",this.logic],["arg",this.args],["sig",this.sig]]);return this.msig&&e.set("msig",W0(this.msig)),this.lmsig&&e.set("lmsig",W0(this.lmsig)),e}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded logic sig: ${e}`);const t=new Hi(e.get("l"),e.get("arg"));return t.sig=e.get("sig"),e.get("msig")&&(t.msig=K0(e.get("msig"))),e.get("lmsig")&&(t.lmsig=K0(e.get("lmsig"))),t}verify(e){if([this.sig,this.msig,this.lmsig].filter(Boolean).length>1)return!1;try{f6(this.logic)}catch{return!1}const r=Lr(Mx,this.logic);if(!this.sig&&!this.msig&&!this.lmsig){const s=io(r);return la(s,e)}if(this.sig)return Uy(r,this.sig,e);if(this.lmsig){const s=so({version:this.lmsig.v,threshold:this.lmsig.thr,pks:this.lmsig.subsig.map(l=>l.pk)}),o=Lr(m6,s.publicKey,this.logic);return U1(o,this.lmsig,e)}return this.msig?U1(r,this.msig,e):!1}address(){const e=Lr(Mx,this.logic),t=io(e);return new Kt(Uint8Array.from(t))}sign(e,t){if(t==null)this.sig=this.signProgram(e);else{const r=Vd(t.addrs).map(l=>({pk:l}));this.lmsig={v:t.version,thr:t.threshold,subsig:r};const[s,o]=this.singleSignMultisig(e,this.lmsig);this.lmsig.subsig[o].s=s}}appendToMultisig(e){if(this.lmsig===void 0)throw new Error("no multisig present");const[t,r]=this.singleSignMultisig(e,this.lmsig);this.lmsig.subsig[r].s=t}signProgram(e){const t=Lr(Mx,this.logic);return vm(t,e)}signProgramMultisig(e,t){const r=so({version:t.v,threshold:t.thr,pks:t.subsig.map(l=>l.pk)}),s=Lr(m6,r.publicKey,this.logic);return vm(s,e)}singleSignMultisig(e,t){let r=-1;const s=By(e).publicKey;for(let l=0;l<t.subsig.length;l++){const{pk:h}=t.subsig[l];if(la(h,s)){r=l;break}}if(r===-1)throw new Error("invalid secret key");return[this.signProgramMultisig(e,t),r]}toByte(){return us(this)}static fromByte(e){return xr(e,Hi)}}Hi.encodingSchema=new Ie(Ut([{key:"l",valueSchema:new dt},{key:"arg",valueSchema:new rt(new dt)},{key:"sig",valueSchema:new V(new rr(64))},{key:"msig",valueSchema:new V(G0)},{key:"lmsig",valueSchema:new V(G0)}]));class ml{constructor(e,t){this.lsig=new Hi(e,t),this.sigkey=void 0}getEncodingSchema(){return ml.encodingSchema}toEncodingData(){return new Map([["lsig",this.lsig.toEncodingData()],["sigkey",this.sigkey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded logic sig account: ${e}`);const t=e,r=Hi.fromEncodingData(t.get("lsig")),s=new ml(r.logic,r.args);return s.lsig=r,s.sigkey=t.get("sigkey"),s}toByte(){return us(this)}static fromByte(e){return xr(e,ml)}isDelegated(){return!!(this.lsig.sig||this.lsig.msig||this.lsig.lmsig)}verify(){const e=this.address();return this.lsig.verify(e.publicKey)}address(){if([this.lsig.sig,this.lsig.msig,this.lsig.lmsig].filter(Boolean).length>1)throw new Error("LogicSig has too many signatures. At most one of sig, msig, or lmsig may be present");if(this.lsig.sig){if(!this.sigkey)throw new Error("Signing key for delegated account is missing");return new Kt(this.sigkey)}const t=this.lsig.lmsig||this.lsig.msig;if(t){const r={version:t.v,threshold:t.thr,pks:t.subsig.map(s=>s.pk)};return so(r)}return this.lsig.address()}signMultisig(e,t){this.lsig.sign(t,e)}appendToMultisig(e){this.lsig.appendToMultisig(e)}sign(e){this.lsig.sign(e),this.sigkey=By(e).publicKey}}ml.encodingSchema=new Ie(Ut([{key:"lsig",valueSchema:Hi.encodingSchema},{key:"sigkey",valueSchema:new V(new rr(32))}]));function kz(n){return xr(n,Hi)}const tR=new TextEncoder().encode("ProgData");function nR(n,e,t){const r=typeof t=="string"?Kt.fromString(t):t,s=Lr(r.publicKey,e),o=Lr(tR,s);return vm(o,n)}function Iz(n,e,t,r){const s=typeof e=="string"?Kt.fromString(e):e,o=Lr(s.publicKey,n),l=Lr(tR,o);return Uy(l,t,r)}function Cz(n,e,t){const s=new Hi(t).address();return nR(n,e,s)}class Jn{constructor({txn:e,sig:t,msig:r,lsig:s,sgnr:o}){this.txn=e,this.sig=t,this.msig=r,this.lsig=s,this.sgnr=o;let l=0;if(t&&(l+=1),r&&(l+=1),s&&(l+=1),l>1)throw new Error(`SignedTransaction must not have more than 1 signature. Got ${l}`)}getEncodingSchema(){return Jn.encodingSchema}toEncodingData(){return new Map([["txn",this.txn.toEncodingData()],["sig",this.sig],["msig",this.msig?W0(this.msig):void 0],["lsig",this.lsig?this.lsig.toEncodingData():void 0],["sgnr",this.sgnr]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SignedTransaction: ${e}`);return new Jn({txn:hs.fromEncodingData(e.get("txn")),sig:e.get("sig"),msig:e.get("msig")?K0(e.get("msig")):void 0,lsig:e.get("lsig")?Hi.fromEncodingData(e.get("lsig")):void 0,sgnr:e.get("sgnr")})}}Jn.encodingSchema=new Ie(Ut([{key:"txn",valueSchema:hs.encodingSchema},{key:"sig",valueSchema:new V(new rr(64))},{key:"msig",valueSchema:new V(G0)},{key:"lsig",valueSchema:new V(Hi.encodingSchema)},{key:"sgnr",valueSchema:new V(new zn)}]));function Rz(n){return xr(n,Jn)}function rR(n){const e=new Jn({txn:n});return us(e)}class Ml{constructor(e){this.stateProofVotersCommitment=e.stateProofVotersCommitment,this.stateProofOnlineTotalWeight=e.stateProofOnlineTotalWeight,this.stateProofNextRound=e.stateProofNextRound}getEncodingSchema(){return Ml.encodingSchema}toEncodingData(){return new Map([["v",this.stateProofVotersCommitment],["t",this.stateProofOnlineTotalWeight],["n",this.stateProofNextRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofTrackingData: ${e}`);return new Ml({stateProofVotersCommitment:e.get("v"),stateProofOnlineTotalWeight:e.get("t"),stateProofNextRound:e.get("n")})}}Ml.encodingSchema=new Ie(Ut([{key:"v",valueSchema:new dt},{key:"t",valueSchema:new Z},{key:"n",valueSchema:new Z}]));class Fl{constructor(e){this.nativeSha512_256Commitment=e.nativeSha512_256Commitment,this.sha256Commitment=e.sha256Commitment}getEncodingSchema(){return Fl.encodingSchema}toEncodingData(){return new Map([["txn",this.nativeSha512_256Commitment],["txn256",this.sha256Commitment]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TxnCommitments: ${e}`);return new Fl({nativeSha512_256Commitment:e.get("txn"),sha256Commitment:e.get("txn256")})}}Fl.encodingSchema=new Ie(Ut([{key:"txn",valueSchema:new rr(32)},{key:"txn256",valueSchema:new rr(32)}]));class Ol{constructor(e){this.feeSink=e.feeSink,this.rewardsPool=e.rewardsPool,this.rewardsLevel=e.rewardsLevel,this.rewardsRate=e.rewardsRate,this.rewardsResidue=e.rewardsResidue,this.rewardsRecalculationRound=e.rewardsRecalculationRound}getEncodingSchema(){return Ol.encodingSchema}toEncodingData(){return new Map([["fees",this.feeSink],["rwd",this.rewardsPool],["earn",this.rewardsLevel],["rate",this.rewardsRate],["frac",this.rewardsResidue],["rwcalr",this.rewardsRecalculationRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded RewardState: ${e}`);return new Ol({feeSink:e.get("fees"),rewardsPool:e.get("rwd"),rewardsLevel:e.get("earn"),rewardsRate:e.get("rate"),rewardsResidue:e.get("frac"),rewardsRecalculationRound:e.get("rwcalr")})}}Ol.encodingSchema=new Ie(Ut([{key:"fees",valueSchema:new zn},{key:"rwd",valueSchema:new zn},{key:"earn",valueSchema:new Z},{key:"rate",valueSchema:new Z},{key:"frac",valueSchema:new Z},{key:"rwcalr",valueSchema:new Z}]));class Pl{constructor(e){this.currentProtocol=e.currentProtocol,this.nextProtocol=e.nextProtocol,this.nextProtocolApprovals=e.nextProtocolApprovals,this.nextProtocolVoteBefore=e.nextProtocolVoteBefore,this.nextProtocolSwitchOn=e.nextProtocolSwitchOn}getEncodingSchema(){return Pl.encodingSchema}toEncodingData(){return new Map([["proto",this.currentProtocol],["nextproto",this.nextProtocol],["nextyes",this.nextProtocolApprovals],["nextbefore",this.nextProtocolVoteBefore],["nextswitch",this.nextProtocolSwitchOn]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded UpgradeState: ${e}`);return new Pl({currentProtocol:e.get("proto"),nextProtocol:e.get("nextproto"),nextProtocolApprovals:e.get("nextyes"),nextProtocolVoteBefore:e.get("nextbefore"),nextProtocolSwitchOn:e.get("nextswitch")})}}Pl.encodingSchema=new Ie(Ut([{key:"proto",valueSchema:new Je},{key:"nextproto",valueSchema:new Je},{key:"nextyes",valueSchema:new Z},{key:"nextbefore",valueSchema:new Z},{key:"nextswitch",valueSchema:new Z}]));class jl{constructor(e){this.upgradePropose=e.upgradePropose,this.upgradeDelay=e.upgradeDelay,this.upgradeApprove=e.upgradeApprove}getEncodingSchema(){return jl.encodingSchema}toEncodingData(){return new Map([["upgradeprop",this.upgradePropose],["upgradedelay",this.upgradeDelay],["upgradeyes",this.upgradeApprove]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded UpgradeVote: ${e}`);return new jl({upgradePropose:e.get("upgradeprop"),upgradeDelay:e.get("upgradedelay"),upgradeApprove:e.get("upgradeyes")})}}jl.encodingSchema=new Ie(Ut([{key:"upgradeprop",valueSchema:new Je},{key:"upgradedelay",valueSchema:new Z},{key:"upgradeyes",valueSchema:new sn}]));let Ky=class L1{constructor(e){this.expiredParticipationAccounts=e.expiredParticipationAccounts,this.absentParticipationAccounts=e.absentParticipationAccounts}getEncodingSchema(){return L1.encodingSchema}toEncodingData(){return new Map([["partupdrmv",this.expiredParticipationAccounts],["partupdabs",this.absentParticipationAccounts]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ParticipationUpdates: ${e}`);return new L1({expiredParticipationAccounts:e.get("partupdrmv"),absentParticipationAccounts:e.get("partupdabs")})}};Ky.encodingSchema=new Ie(Ut([{key:"partupdrmv",valueSchema:new rt(new zn)},{key:"partupdabs",valueSchema:new rt(new zn)}]));class ao{constructor(e){this.round=e.round,this.branch=e.branch,this.seed=e.seed,this.txnCommitments=e.txnCommitments,this.timestamp=e.timestamp,this.genesisID=e.genesisID,this.genesisHash=e.genesisHash,this.proposer=e.proposer,this.feesCollected=e.feesCollected,this.bonus=e.bonus,this.proposerPayout=e.proposerPayout,this.rewardState=e.rewardState,this.upgradeState=e.upgradeState,this.upgradeVote=e.upgradeVote,this.txnCounter=e.txnCounter,this.stateproofTracking=e.stateproofTracking,this.participationUpdates=e.participationUpdates}getEncodingSchema(){return ao.encodingSchema}toEncodingData(){const e=new Map([["rnd",this.round],["prev",this.branch],["seed",this.seed],["ts",this.timestamp],["gen",this.genesisID],["gh",this.genesisHash],["prp",this.proposer],["fc",this.feesCollected],["bi",this.bonus],["pp",this.proposerPayout],["tc",this.txnCounter],["spt",Br(this.stateproofTracking,(t,r)=>[t,r.toEncodingData()])]]);return jd(e,this.txnCommitments.toEncodingData(),this.rewardState.toEncodingData(),this.upgradeState.toEncodingData(),this.upgradeVote.toEncodingData(),this.participationUpdates.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockHeader: ${e}`);return new ao({round:e.get("rnd"),branch:e.get("prev"),seed:e.get("seed"),txnCommitments:Fl.fromEncodingData(e),timestamp:e.get("ts"),genesisID:e.get("gen"),genesisHash:e.get("gh"),proposer:e.get("prp"),feesCollected:e.get("fc"),bonus:e.get("bi"),proposerPayout:e.get("pp"),rewardState:Ol.fromEncodingData(e),upgradeState:Pl.fromEncodingData(e),upgradeVote:jl.fromEncodingData(e),txnCounter:e.get("tc"),stateproofTracking:Br(e.get("spt"),(t,r)=>[Number(t),Ml.fromEncodingData(r)]),participationUpdates:Ky.fromEncodingData(e)})}}ao.encodingSchema=new Ie(Ut([{key:"rnd",valueSchema:new Z},{key:"prev",valueSchema:new ez},{key:"seed",valueSchema:new dt},{key:"",valueSchema:Fl.encodingSchema,embedded:!0},{key:"ts",valueSchema:new Z},{key:"gen",valueSchema:new Je},{key:"gh",valueSchema:new rr(32)},{key:"prp",valueSchema:new zn},{key:"fc",valueSchema:new Z},{key:"bi",valueSchema:new Z},{key:"pp",valueSchema:new Z},{key:"",valueSchema:Ol.encodingSchema,embedded:!0},{key:"",valueSchema:Pl.encodingSchema,embedded:!0},{key:"",valueSchema:jl.encodingSchema,embedded:!0},{key:"tc",valueSchema:new Z},{key:"spt",valueSchema:new qy(Ml.encodingSchema)},{key:"",valueSchema:Ky.encodingSchema,embedded:!0}]));class qa{constructor(e){this.action=e.action,this.bytes=e.bytes,this.uint=e.uint}getEncodingSchema(){return qa.encodingSchema}toEncodingData(){return new Map([["at",this.action],["bs",this.bytes],["ui",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ValueDelta: ${e}`);return new qa({action:Number(e.get("at")),bytes:e.get("bs"),uint:e.get("ui")})}}qa.encodingSchema=new Ie(Ut([{key:"at",valueSchema:new Z},{key:"bs",valueSchema:new ah},{key:"ui",valueSchema:new Z}]));let z1=class q1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries(...Ut([{key:"gd",valueSchema:new V(new Sm(qa.encodingSchema))},{key:"ld",valueSchema:new V(new qy(new Sm(qa.encodingSchema)))},{key:"sa",valueSchema:new V(new rt(new zn))},{key:"lg",valueSchema:new V(new rt(new ah))},{key:"itx",valueSchema:new V(new rt(pc.encodingSchema))}]))),this.encodingSchemaValue}constructor(e){this.globalDelta=e.globalDelta??new Map,this.localDeltas=e.localDeltas??new Map,this.sharedAccts=e.sharedAccts??[],this.logs=e.logs??[],this.innerTxns=e.innerTxns??[]}getEncodingSchema(){return q1.encodingSchema}toEncodingData(){return new Map([["gd",Br(this.globalDelta,(e,t)=>[e,t.toEncodingData()])],["ld",Br(this.localDeltas,(e,t)=>[e,Br(t,(r,s)=>[r,s.toEncodingData()])])],["sa",this.sharedAccts],["lg",this.logs],["itx",this.innerTxns.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded EvalDelta: ${e}`);return new q1({globalDelta:e.get("gd")?Br(e.get("gd"),(t,r)=>[t,qa.fromEncodingData(r)]):void 0,localDeltas:e.get("ld")?Br(e.get("ld"),(t,r)=>[Number(t),Br(r,(s,o)=>[s,qa.fromEncodingData(o)])]):void 0,sharedAccts:e.get("sa"),logs:e.get("lg"),innerTxns:(e.get("itx")??[]).map(pc.fromEncodingData)})}};class vh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries(...Ut([{key:"ca",valueSchema:new V(new Z)},{key:"aca",valueSchema:new V(new Z)},{key:"rs",valueSchema:new V(new Z)},{key:"rr",valueSchema:new V(new Z)},{key:"rc",valueSchema:new V(new Z)},{key:"dt",valueSchema:new V(z1.encodingSchema)},{key:"caid",valueSchema:new V(new Z)},{key:"apid",valueSchema:new V(new Z)}]))),this.encodingSchemaValue}constructor(e){this.closingAmount=e.closingAmount,this.assetClosingAmount=e.assetClosingAmount,this.senderRewards=e.senderRewards,this.receiverRewards=e.receiverRewards,this.closeRewards=e.closeRewards,this.evalDelta=e.evalDelta,this.configAsset=e.configAsset,this.applicationID=e.applicationID}getEncodingSchema(){return vh.encodingSchema}toEncodingData(){return new Map([["ca",this.closingAmount],["aca",this.assetClosingAmount],["rs",this.senderRewards],["rr",this.receiverRewards],["rc",this.closeRewards],["dt",this.evalDelta?this.evalDelta.toEncodingData():void 0],["caid",this.configAsset],["apid",this.applicationID]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplyData: ${e}`);return new vh({closingAmount:e.get("ca"),assetClosingAmount:e.get("aca"),senderRewards:e.get("rs"),receiverRewards:e.get("rr"),closeRewards:e.get("rc"),evalDelta:e.get("dt")?z1.fromEncodingData(e.get("dt")):void 0,configAsset:e.get("caid"),applicationID:e.get("apid")})}}class pc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries(...Ut([{key:"",valueSchema:Jn.encodingSchema,embedded:!0},{key:"",valueSchema:vh.encodingSchema,embedded:!0}]))),this.encodingSchemaValue}constructor(e){this.signedTxn=e.signedTxn,this.applyData=e.applyData}getEncodingSchema(){return pc.encodingSchema}toEncodingData(){return jd(this.signedTxn.toEncodingData(),this.applyData.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SignedTxnWithAD: ${e}`);return new pc({signedTxn:Jn.fromEncodingData(e),applyData:vh.fromEncodingData(e)})}}class Vl{constructor(e){this.signedTxn=e.signedTxn,this.hasGenesisID=e.hasGenesisID,this.hasGenesisHash=e.hasGenesisHash}getEncodingSchema(){return Vl.encodingSchema}toEncodingData(){const e=new Map([["hgi",this.hasGenesisID],["hgh",this.hasGenesisHash]]);return jd(e,this.signedTxn.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SignedTxnInBlock: ${e}`);return new Vl({signedTxn:pc.fromEncodingData(e),hasGenesisID:e.get("hgi"),hasGenesisHash:e.get("hgh")})}}Vl.encodingSchema=new Ie(Ut([{key:"",valueSchema:pc.encodingSchema,embedded:!0},{key:"hgi",valueSchema:new sn},{key:"hgh",valueSchema:new sn}]));let Y0=class $1{constructor(e){this.header=e.header,this.payset=e.payset}getEncodingSchema(){return $1.encodingSchema}toEncodingData(){const e=new Map([["txns",this.payset.map(t=>t.toEncodingData())]]);return jd(e,this.header.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockHeader: ${e}`);return new $1({header:ao.fromEncodingData(e),payset:e.get("txns").map(Vl.fromEncodingData)})}};Y0.encodingSchema=new Ie(Ut([{key:"",valueSchema:ao.encodingSchema,embedded:!0},{key:"txns",valueSchema:new rt(Vl.encodingSchema)}]));class Qr{constructor(e){this.data=e}getEncodingSchema(){return Qr.encodingSchema}toEncodingData(){return this.data}static fromEncodingData(e){return new Qr(e)}}Qr.encodingSchema=new KC;let Bd=class H1{constructor(e){this.type=e.type,this.bytes=e.bytes,this.uint=e.uint}getEncodingSchema(){return H1.encodingSchema}toEncodingData(){return new Map([["tt",this.type],["tb",this.bytes],["ui",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TealValue: ${e}`);return new H1({type:Number(e.get("tt")),bytes:e.get("tb"),uint:e.get("ui")})}};Bd.encodingSchema=new Ie(Ut([{key:"tt",valueSchema:new Z},{key:"tb",valueSchema:new V(new ah)},{key:"ui",valueSchema:new V(new Z)}]));let ha=class G1{constructor(e){this.numUints=e.numUints,this.numByteSlices=e.numByteSlices}getEncodingSchema(){return G1.encodingSchema}toEncodingData(){return new Map([["nui",this.numUints],["nbs",this.numByteSlices]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateSchema: ${e}`);return new G1({numUints:Number(e.get("nui")),numByteSlices:Number(e.get("nbs"))})}};ha.encodingSchema=new Ie(Ut([{key:"nui",valueSchema:new Z},{key:"nbs",valueSchema:new Z}]));class Bl{constructor(e){this.approvalProgram=e.approvalProgram,this.clearStateProgram=e.clearStateProgram,this.globalState=e.globalState,this.localStateSchema=e.localStateSchema,this.globalStateSchema=e.globalStateSchema,this.extraProgramPages=e.extraProgramPages}getEncodingSchema(){return Bl.encodingSchema}toEncodingData(){return new Map([["approv",this.approvalProgram],["clearp",this.clearStateProgram],["gs",Br(this.globalState,(e,t)=>[e,t.toEncodingData()])],["lsch",this.localStateSchema.toEncodingData()],["gsch",this.globalStateSchema.toEncodingData()],["epp",this.extraProgramPages]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppParams: ${e}`);return new Bl({approvalProgram:e.get("approv"),clearStateProgram:e.get("clearp"),globalState:Br(e.get("gs"),(t,r)=>[t,Bd.fromEncodingData(r)]),localStateSchema:ha.fromEncodingData(e.get("lsch")),globalStateSchema:ha.fromEncodingData(e.get("gsch")),extraProgramPages:Number(e.get("epp"))})}}Bl.encodingSchema=new Ie(Ut([{key:"approv",valueSchema:new dt},{key:"clearp",valueSchema:new dt},{key:"gs",valueSchema:new Sm(Bd.encodingSchema)},{key:"lsch",valueSchema:ha.encodingSchema},{key:"gsch",valueSchema:ha.encodingSchema},{key:"epp",valueSchema:new Z}]));class Ul{constructor(e){this.schema=e.schema,this.keyValue=e.keyValue}getEncodingSchema(){return Ul.encodingSchema}toEncodingData(){return new Map([["hsch",this.schema.toEncodingData()],["tkv",Br(this.keyValue,(e,t)=>[e,t.toEncodingData()])]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppLocalState: ${e}`);return new Ul({schema:ha.fromEncodingData(e.get("hsch")),keyValue:Br(e.get("tkv"),(t,r)=>[t,Bd.fromEncodingData(r)])})}}Ul.encodingSchema=new Ie(Ut([{key:"hsch",valueSchema:ha.encodingSchema},{key:"tkv",valueSchema:new Sm(Bd.encodingSchema)}]));class Ll{constructor(e){this.localState=e.localState,this.deleted=e.deleted}getEncodingSchema(){return Ll.encodingSchema}toEncodingData(){return new Map([["LocalState",this.localState?this.localState.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppLocalStateDelta: ${e}`);return new Ll({localState:e.get("LocalState")?Ul.fromEncodingData(e.get("LocalState")):void 0,deleted:e.get("Deleted")})}}Ll.encodingSchema=new Ie(Ut([{key:"LocalState",valueSchema:new V(Ul.encodingSchema)},{key:"Deleted",valueSchema:new sn}]));class zl{constructor(e){this.params=e.params,this.deleted=e.deleted}getEncodingSchema(){return zl.encodingSchema}toEncodingData(){return new Map([["Params",this.params?this.params.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppParamsDelta: ${e}`);return new zl({params:e.get("Params")?Bl.fromEncodingData(e.get("Params")):void 0,deleted:e.get("Deleted")})}}zl.encodingSchema=new Ie(Ut([{key:"Params",valueSchema:new V(Bl.encodingSchema)},{key:"Deleted",valueSchema:new sn}]));class ql{constructor(e){this.id=e.id,this.address=e.address,this.params=e.params,this.state=e.state}getEncodingSchema(){return ql.encodingSchema}toEncodingData(){return new Map([["Aidx",this.id],["Addr",this.address],["Params",this.params.toEncodingData()],["State",this.state.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppResourceRecord: ${e}`);return new ql({id:e.get("Aidx"),address:e.get("Addr"),params:zl.fromEncodingData(e.get("Params")),state:Ll.fromEncodingData(e.get("State"))})}}ql.encodingSchema=new Ie(Ut([{key:"Aidx",valueSchema:new Z},{key:"Addr",valueSchema:new zn},{key:"Params",valueSchema:zl.encodingSchema},{key:"State",valueSchema:Ll.encodingSchema}]));let Wy=class K1{constructor(e){this.amount=e.amount,this.frozen=e.frozen}getEncodingSchema(){return K1.encodingSchema}toEncodingData(){return new Map([["a",this.amount],["f",this.frozen]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHolding: ${e}`);return new K1({amount:e.get("a"),frozen:e.get("f")})}};Wy.encodingSchema=new Ie(Ut([{key:"a",valueSchema:new Z},{key:"f",valueSchema:new sn}]));class $l{constructor(e){this.holding=e.holding,this.deleted=e.deleted}getEncodingSchema(){return $l.encodingSchema}toEncodingData(){return new Map([["Holding",this.holding?this.holding.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHoldingDelta: ${e}`);return new $l({holding:e.get("Holding")?Wy.fromEncodingData(e.get("Holding")):void 0,deleted:e.get("Deleted")})}}$l.encodingSchema=new Ie(Ut([{key:"Holding",valueSchema:new V(Wy.encodingSchema)},{key:"Deleted",valueSchema:new sn}]));let Yy=class W1{constructor(e){this.total=e.total,this.decimals=e.decimals,this.defaultFrozen=e.defaultFrozen,this.unitName=e.unitName,this.assetName=e.assetName,this.url=e.url,this.metadataHash=e.metadataHash,this.manager=e.manager,this.reserve=e.reserve,this.freeze=e.freeze,this.clawback=e.clawback}getEncodingSchema(){return W1.encodingSchema}toEncodingData(){return new Map([["t",this.total],["dc",this.decimals],["df",this.defaultFrozen],["un",this.unitName],["an",this.assetName],["au",this.url],["am",this.metadataHash],["m",this.manager],["r",this.reserve],["f",this.freeze],["c",this.clawback]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetParams: ${e}`);return new W1({total:e.get("t"),decimals:e.get("dc"),defaultFrozen:e.get("df"),unitName:e.get("un"),assetName:e.get("an"),url:e.get("au"),metadataHash:e.get("am"),manager:e.get("m"),reserve:e.get("r"),freeze:e.get("f"),clawback:e.get("c")})}};Yy.encodingSchema=new Ie(Ut([{key:"t",valueSchema:new Z},{key:"dc",valueSchema:new Z},{key:"df",valueSchema:new sn},{key:"un",valueSchema:new V(new ah)},{key:"an",valueSchema:new V(new ah)},{key:"au",valueSchema:new V(new ah)},{key:"am",valueSchema:new rr(32)},{key:"m",valueSchema:new V(new zn)},{key:"r",valueSchema:new V(new zn)},{key:"f",valueSchema:new V(new zn)},{key:"c",valueSchema:new V(new zn)}]));class Hl{constructor(e){this.params=e.params,this.deleted=e.deleted}getEncodingSchema(){return Hl.encodingSchema}toEncodingData(){return new Map([["Params",this.params?this.params.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetParamsDelta: ${e}`);return new Hl({params:e.get("Params")?Yy.fromEncodingData(e.get("Params")):void 0,deleted:e.get("Deleted")})}}Hl.encodingSchema=new Ie(Ut([{key:"Params",valueSchema:new V(Yy.encodingSchema)},{key:"Deleted",valueSchema:new sn}]));class Gl{constructor(e){this.id=e.id,this.address=e.address,this.params=e.params,this.holding=e.holding}getEncodingSchema(){return Gl.encodingSchema}toEncodingData(){return new Map([["Aidx",this.id],["Addr",this.address],["Params",this.params.toEncodingData()],["Holding",this.holding.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetResourceRecord: ${e}`);return new Gl({id:e.get("Aidx"),address:e.get("Addr"),params:Hl.fromEncodingData(e.get("Params")),holding:$l.fromEncodingData(e.get("Holding"))})}}Gl.encodingSchema=new Ie(Ut([{key:"Aidx",valueSchema:new Z},{key:"Addr",valueSchema:new zn},{key:"Params",valueSchema:Hl.encodingSchema},{key:"Holding",valueSchema:$l.encodingSchema}]));class Kl{constructor(e){this.voteID=e.voteID,this.selectionID=e.selectionID,this.stateProofID=e.stateProofID,this.voteFirstValid=e.voteFirstValid,this.voteLastValid=e.voteLastValid,this.voteKeyDilution=e.voteKeyDilution}getEncodingSchema(){return Kl.encodingSchema}toEncodingData(){return new Map([["VoteID",this.voteID],["SelectionID",this.selectionID],["StateProofID",this.stateProofID],["VoteFirstValid",this.voteFirstValid],["VoteLastValid",this.voteLastValid],["VoteKeyDilution",this.voteKeyDilution]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded VotingData: ${e}`);return new Kl({voteID:e.get("VoteID"),selectionID:e.get("SelectionID"),stateProofID:e.get("StateProofID"),voteFirstValid:e.get("VoteFirstValid"),voteLastValid:e.get("VoteLastValid"),voteKeyDilution:e.get("VoteKeyDilution")})}}Kl.encodingSchema=new Ie(Ut([{key:"VoteID",valueSchema:new rr(32)},{key:"SelectionID",valueSchema:new rr(32)},{key:"StateProofID",valueSchema:new rr(64)},{key:"VoteFirstValid",valueSchema:new Z},{key:"VoteLastValid",valueSchema:new Z},{key:"VoteKeyDilution",valueSchema:new Z}]));class Wl{constructor(e){this.status=e.status,this.microAlgos=e.microAlgos,this.rewardsBase=e.rewardsBase,this.rewardedMicroAlgos=e.rewardedMicroAlgos,this.authAddr=e.authAddr,this.incentiveEligible=e.incentiveEligible,this.totalAppSchema=e.totalAppSchema,this.totalExtraAppPages=e.totalExtraAppPages,this.totalAppParams=e.totalAppParams,this.totalAppLocalStates=e.totalAppLocalStates,this.totalAssetParams=e.totalAssetParams,this.totalAssets=e.totalAssets,this.totalBoxes=e.totalBoxes,this.totalBoxBytes=e.totalBoxBytes,this.lastProposed=e.lastProposed,this.lastHeartbeat=e.lastHeartbeat}getEncodingSchema(){return Wl.encodingSchema}toEncodingData(){return new Map([["Status",this.status],["MicroAlgos",this.microAlgos],["RewardsBase",this.rewardsBase],["RewardedMicroAlgos",this.rewardedMicroAlgos],["AuthAddr",this.authAddr],["IncentiveEligible",this.incentiveEligible],["TotalAppSchema",this.totalAppSchema.toEncodingData()],["TotalExtraAppPages",this.totalExtraAppPages],["TotalAppParams",this.totalAppParams],["TotalAppLocalStates",this.totalAppLocalStates],["TotalAssetParams",this.totalAssetParams],["TotalAssets",this.totalAssets],["TotalBoxes",this.totalBoxes],["TotalBoxBytes",this.totalBoxBytes],["LastProposed",this.lastProposed],["LastHeartbeat",this.lastHeartbeat]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountBaseData: ${e}`);return new Wl({status:Number(e.get("Status")),microAlgos:e.get("MicroAlgos"),rewardsBase:e.get("RewardsBase"),rewardedMicroAlgos:e.get("RewardedMicroAlgos"),authAddr:e.get("AuthAddr"),incentiveEligible:e.get("IncentiveEligible"),totalAppSchema:ha.fromEncodingData(e.get("TotalAppSchema")),totalExtraAppPages:Number(e.get("TotalExtraAppPages")),totalAppParams:e.get("TotalAppParams"),totalAppLocalStates:e.get("TotalAppLocalStates"),totalAssetParams:e.get("TotalAssetParams"),totalAssets:e.get("TotalAssets"),totalBoxes:e.get("TotalBoxes"),totalBoxBytes:e.get("TotalBoxBytes"),lastProposed:e.get("LastProposed"),lastHeartbeat:e.get("LastHeartbeat")})}}Wl.encodingSchema=new Ie(Ut([{key:"Status",valueSchema:new Z},{key:"MicroAlgos",valueSchema:new Z},{key:"RewardsBase",valueSchema:new Z},{key:"RewardedMicroAlgos",valueSchema:new Z},{key:"AuthAddr",valueSchema:new zn},{key:"IncentiveEligible",valueSchema:new sn},{key:"TotalAppSchema",valueSchema:ha.encodingSchema},{key:"TotalExtraAppPages",valueSchema:new Z},{key:"TotalAppParams",valueSchema:new Z},{key:"TotalAppLocalStates",valueSchema:new Z},{key:"TotalAssetParams",valueSchema:new Z},{key:"TotalAssets",valueSchema:new Z},{key:"TotalBoxes",valueSchema:new Z},{key:"TotalBoxBytes",valueSchema:new Z},{key:"LastProposed",valueSchema:new Z},{key:"LastHeartbeat",valueSchema:new Z}]));class Yl{constructor(e){this.accountBaseData=e.accountBaseData,this.votingData=e.votingData}getEncodingSchema(){return Yl.encodingSchema}toEncodingData(){return jd(this.accountBaseData.toEncodingData(),this.votingData.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountData: ${e}`);return new Yl({accountBaseData:Wl.fromEncodingData(e),votingData:Kl.fromEncodingData(e)})}}Yl.encodingSchema=new Ie(Ut([{key:"",valueSchema:Wl.encodingSchema,embedded:!0},{key:"",valueSchema:Kl.encodingSchema,embedded:!0}]));class Jl{constructor(e){this.addr=e.addr,this.accountData=e.accountData}getEncodingSchema(){return Jl.encodingSchema}toEncodingData(){return jd(new Map([["Addr",this.addr]]),this.accountData.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BalanceRecord: ${e}`);return new Jl({addr:e.get("Addr"),accountData:Yl.fromEncodingData(e)})}}Jl.encodingSchema=new Ie(Ut([{key:"Addr",valueSchema:new zn},{key:"",valueSchema:Yl.encodingSchema,embedded:!0}]));class Ql{constructor(e){this.accounts=e.accounts,this.appResources=e.appResources,this.assetResources=e.assetResources}getEncodingSchema(){return Ql.encodingSchema}toEncodingData(){return new Map([["Accts",this.accounts.map(e=>e.toEncodingData())],["AppResources",this.appResources.length===0?void 0:this.appResources.map(e=>e.toEncodingData())],["AssetResources",this.assetResources.length===0?void 0:this.assetResources.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountDeltas: ${e}`);return new Ql({accounts:(e.get("Accts")??[]).map(Jl.fromEncodingData),appResources:(e.get("AppResources")??[]).map(ql.fromEncodingData),assetResources:(e.get("AssetResources")??[]).map(Gl.fromEncodingData)})}}Ql.encodingSchema=new Ie(Ut([{key:"Accts",valueSchema:new rt(Jl.encodingSchema)},{key:"AppResources",valueSchema:new V(new rt(ql.encodingSchema))},{key:"AssetResources",valueSchema:new V(new rt(Gl.encodingSchema))}]));class Xl{constructor(e){this.data=e.data,this.oldData=e.oldData}getEncodingSchema(){return Xl.encodingSchema}toEncodingData(){return new Map([["Data",this.data],["OldData",this.oldData]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded KvValueDelta: ${e}`);return new Xl({data:e.get("Data"),oldData:e.get("OldData")})}}Xl.encodingSchema=new Ie(Ut([{key:"Data",valueSchema:new V(new dt)},{key:"OldData",valueSchema:new V(new dt)}]));class Zl{constructor(e){this.lastValid=e.lastValid,this.intra=e.intra}getEncodingSchema(){return Zl.encodingSchema}toEncodingData(){return new Map([["LastValid",this.lastValid],["Intra",this.intra]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded IncludedTransactions: ${e}`);return new Zl({lastValid:e.get("LastValid"),intra:Number(e.get("Intra"))})}}Zl.encodingSchema=new Ie(Ut([{key:"LastValid",valueSchema:new Z},{key:"Intra",valueSchema:new Z}]));class eu{constructor(e){this.creatableType=e.creatableType,this.created=e.created,this.creator=e.creator,this.ndeltas=e.ndeltas}getEncodingSchema(){return eu.encodingSchema}toEncodingData(){return new Map([["Ctype",this.creatableType],["Created",this.created],["Creator",this.creator],["Ndeltas",this.ndeltas]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ModifiedCreatable: ${e}`);return new eu({creatableType:Number(e.get("Ctype")),created:e.get("Created"),creator:e.get("Creator"),ndeltas:Number(e.get("Ndeltas"))})}}eu.encodingSchema=new Ie(Ut([{key:"Ctype",valueSchema:new Z},{key:"Created",valueSchema:new sn},{key:"Creator",valueSchema:new zn},{key:"Ndeltas",valueSchema:new Z}]));class ks{constructor(e){this.money=e.money,this.rewardUnits=e.rewardUnits}getEncodingSchema(){return ks.encodingSchema}toEncodingData(){return new Map([["mon",this.money],["rwd",this.rewardUnits]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AlgoCount: ${e}`);return new ks({money:e.get("mon"),rewardUnits:e.get("rwd")})}}ks.encodingSchema=new Ie(Ut([{key:"mon",valueSchema:new Z},{key:"rwd",valueSchema:new Z}]));class tu{constructor(e){this.online=e.online,this.offline=e.offline,this.notParticipating=e.notParticipating,this.rewardsLevel=e.rewardsLevel}getEncodingSchema(){return tu.encodingSchema}toEncodingData(){return new Map([["online",this.online.toEncodingData()],["offline",this.offline.toEncodingData()],["notpart",this.notParticipating.toEncodingData()],["rwdlvl",this.rewardsLevel]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountTotals: ${e}`);return new tu({online:ks.fromEncodingData(e.get("online")),offline:ks.fromEncodingData(e.get("offline")),notParticipating:ks.fromEncodingData(e.get("notpart")),rewardsLevel:e.get("rwdlvl")})}}tu.encodingSchema=new Ie(Ut([{key:"online",valueSchema:ks.encodingSchema},{key:"offline",valueSchema:ks.encodingSchema},{key:"notpart",valueSchema:ks.encodingSchema},{key:"rwdlvl",valueSchema:new Z}]));class oo{constructor(e){this.accounts=e.accounts,this.kvMods=e.kvMods,this.txids=e.txids,this.txleases=e.txleases,this.creatables=e.creatables,this.blockHeader=e.blockHeader,this.stateProofNext=e.stateProofNext,this.prevTimestamp=e.prevTimestamp,this.totals=e.totals}getEncodingSchema(){return oo.encodingSchema}toEncodingData(){return new Map([["Accts",this.accounts.toEncodingData()],["KvMods",this.kvMods.size===0?void 0:Br(this.kvMods,(e,t)=>[e,t.toEncodingData()])],["Txids",Br(this.txids,(e,t)=>[e,t.toEncodingData()])],["Txleases",this.txleases.toEncodingData()],["Creatables",this.creatables.size===0?void 0:Br(this.creatables,(e,t)=>[e,t.toEncodingData()])],["Hdr",this.blockHeader.toEncodingData()],["StateProofNext",this.stateProofNext],["PrevTimestamp",this.prevTimestamp],["Totals",this.totals.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded LedgerStateDelta: ${e}`);return new oo({accounts:Ql.fromEncodingData(e.get("Accts")),kvMods:Br(e.get("KvMods")??new Map,(t,r)=>[t,Xl.fromEncodingData(r)]),txids:Br(e.get("Txids"),(t,r)=>[t,Zl.fromEncodingData(r)]),txleases:Qr.fromEncodingData(e.get("Txleases")),creatables:Br(e.get("Creatables")??new Map,(t,r)=>[t,eu.fromEncodingData(r)]),blockHeader:ao.fromEncodingData(e.get("Hdr")),stateProofNext:e.get("StateProofNext"),prevTimestamp:e.get("PrevTimestamp"),totals:tu.fromEncodingData(e.get("Totals"))})}}oo.encodingSchema=new Ie(Ut([{key:"Accts",valueSchema:Ql.encodingSchema},{key:"KvMods",valueSchema:new V(new Sm(Xl.encodingSchema))},{key:"Txids",valueSchema:new tz(Zl.encodingSchema)},{key:"Txleases",valueSchema:new V(new KC)},{key:"Creatables",valueSchema:new V(new qy(eu.encodingSchema))},{key:"Hdr",valueSchema:ao.encodingSchema},{key:"StateProofNext",valueSchema:new Z},{key:"PrevTimestamp",valueSchema:new Z},{key:"Totals",valueSchema:tu.encodingSchema}]));let J0=class Y1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new Je,omitEmpty:!0},{key:"amount",valueSchema:new Z,omitEmpty:!0},{key:"amount-without-pending-rewards",valueSchema:new Z,omitEmpty:!0},{key:"min-balance",valueSchema:new Z,omitEmpty:!0},{key:"pending-rewards",valueSchema:new Z,omitEmpty:!0},{key:"rewards",valueSchema:new Z,omitEmpty:!0},{key:"round",valueSchema:new Z,omitEmpty:!0},{key:"status",valueSchema:new Je,omitEmpty:!0},{key:"total-apps-opted-in",valueSchema:new Z,omitEmpty:!0},{key:"total-assets-opted-in",valueSchema:new Z,omitEmpty:!0},{key:"total-created-apps",valueSchema:new Z,omitEmpty:!0},{key:"total-created-assets",valueSchema:new Z,omitEmpty:!0},{key:"apps-local-state",valueSchema:new V(new rt(Am.encodingSchema)),omitEmpty:!0},{key:"apps-total-extra-pages",valueSchema:new V(new Z),omitEmpty:!0},{key:"apps-total-schema",valueSchema:new V(bs.encodingSchema),omitEmpty:!0},{key:"assets",valueSchema:new V(new rt(ru.encodingSchema)),omitEmpty:!0},{key:"auth-addr",valueSchema:new V(new Je),omitEmpty:!0},{key:"created-apps",valueSchema:new V(new rt(nu.encodingSchema)),omitEmpty:!0},{key:"created-assets",valueSchema:new V(new rt(X0.encodingSchema)),omitEmpty:!0},{key:"incentive-eligible",valueSchema:new V(new sn),omitEmpty:!0},{key:"last-heartbeat",valueSchema:new V(new Z),omitEmpty:!0},{key:"last-proposed",valueSchema:new V(new Z),omitEmpty:!0},{key:"participation",valueSchema:new V(J1.encodingSchema),omitEmpty:!0},{key:"reward-base",valueSchema:new V(new Z),omitEmpty:!0},{key:"sig-type",valueSchema:new V(new Je),omitEmpty:!0},{key:"total-box-bytes",valueSchema:new V(new Z),omitEmpty:!0},{key:"total-boxes",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,amount:t,amountWithoutPendingRewards:r,minBalance:s,pendingRewards:o,rewards:l,round:h,status:p,totalAppsOptedIn:f,totalAssetsOptedIn:v,totalCreatedApps:S,totalCreatedAssets:C,appsLocalState:R,appsTotalExtraPages:B,appsTotalSchema:re,assets:N,authAddr:U,createdApps:q,createdAssets:G,incentiveEligible:he,lastHeartbeat:pe,lastProposed:K,participation:P,rewardBase:M,sigType:H,totalBoxBytes:A,totalBoxes:y}){this.address=e,this.amount=He(t),this.amountWithoutPendingRewards=He(r),this.minBalance=He(s),this.pendingRewards=He(o),this.rewards=He(l),this.round=He(h),this.status=p,this.totalAppsOptedIn=ft(f),this.totalAssetsOptedIn=ft(v),this.totalCreatedApps=ft(S),this.totalCreatedAssets=ft(C),this.appsLocalState=R,this.appsTotalExtraPages=typeof B>"u"?void 0:ft(B),this.appsTotalSchema=re,this.assets=N,this.authAddr=typeof U=="string"?Kt.fromString(U):U,this.createdApps=q,this.createdAssets=G,this.incentiveEligible=he,this.lastHeartbeat=typeof pe>"u"?void 0:ft(pe),this.lastProposed=typeof K>"u"?void 0:ft(K),this.participation=P,this.rewardBase=typeof M>"u"?void 0:He(M),this.sigType=H,this.totalBoxBytes=typeof A>"u"?void 0:ft(A),this.totalBoxes=typeof y>"u"?void 0:ft(y)}getEncodingSchema(){return Y1.encodingSchema}toEncodingData(){return new Map([["address",this.address],["amount",this.amount],["amount-without-pending-rewards",this.amountWithoutPendingRewards],["min-balance",this.minBalance],["pending-rewards",this.pendingRewards],["rewards",this.rewards],["round",this.round],["status",this.status],["total-apps-opted-in",this.totalAppsOptedIn],["total-assets-opted-in",this.totalAssetsOptedIn],["total-created-apps",this.totalCreatedApps],["total-created-assets",this.totalCreatedAssets],["apps-local-state",typeof this.appsLocalState<"u"?this.appsLocalState.map(e=>e.toEncodingData()):void 0],["apps-total-extra-pages",this.appsTotalExtraPages],["apps-total-schema",typeof this.appsTotalSchema<"u"?this.appsTotalSchema.toEncodingData():void 0],["assets",typeof this.assets<"u"?this.assets.map(e=>e.toEncodingData()):void 0],["auth-addr",typeof this.authAddr<"u"?this.authAddr.toString():void 0],["created-apps",typeof this.createdApps<"u"?this.createdApps.map(e=>e.toEncodingData()):void 0],["created-assets",typeof this.createdAssets<"u"?this.createdAssets.map(e=>e.toEncodingData()):void 0],["incentive-eligible",this.incentiveEligible],["last-heartbeat",this.lastHeartbeat],["last-proposed",this.lastProposed],["participation",typeof this.participation<"u"?this.participation.toEncodingData():void 0],["reward-base",this.rewardBase],["sig-type",this.sigType],["total-box-bytes",this.totalBoxBytes],["total-boxes",this.totalBoxes]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Account: ${e}`);return new Y1({address:e.get("address"),amount:e.get("amount"),amountWithoutPendingRewards:e.get("amount-without-pending-rewards"),minBalance:e.get("min-balance"),pendingRewards:e.get("pending-rewards"),rewards:e.get("rewards"),round:e.get("round"),status:e.get("status"),totalAppsOptedIn:e.get("total-apps-opted-in"),totalAssetsOptedIn:e.get("total-assets-opted-in"),totalCreatedApps:e.get("total-created-apps"),totalCreatedAssets:e.get("total-created-assets"),appsLocalState:typeof e.get("apps-local-state")<"u"?e.get("apps-local-state").map(t=>Am.fromEncodingData(t)):void 0,appsTotalExtraPages:e.get("apps-total-extra-pages"),appsTotalSchema:typeof e.get("apps-total-schema")<"u"?bs.fromEncodingData(e.get("apps-total-schema")):void 0,assets:typeof e.get("assets")<"u"?e.get("assets").map(t=>ru.fromEncodingData(t)):void 0,authAddr:e.get("auth-addr"),createdApps:typeof e.get("created-apps")<"u"?e.get("created-apps").map(t=>nu.fromEncodingData(t)):void 0,createdAssets:typeof e.get("created-assets")<"u"?e.get("created-assets").map(t=>X0.fromEncodingData(t)):void 0,incentiveEligible:e.get("incentive-eligible"),lastHeartbeat:e.get("last-heartbeat"),lastProposed:e.get("last-proposed"),participation:typeof e.get("participation")<"u"?J1.fromEncodingData(e.get("participation")):void 0,rewardBase:e.get("reward-base"),sigType:e.get("sig-type"),totalBoxBytes:e.get("total-box-bytes"),totalBoxes:e.get("total-boxes")})}};class Em{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new Z,omitEmpty:!0},{key:"app-local-state",valueSchema:new V(Am.encodingSchema),omitEmpty:!0},{key:"created-app",valueSchema:new V(_h.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({round:e,appLocalState:t,createdApp:r}){this.round=He(e),this.appLocalState=t,this.createdApp=r}getEncodingSchema(){return Em.encodingSchema}toEncodingData(){return new Map([["round",this.round],["app-local-state",typeof this.appLocalState<"u"?this.appLocalState.toEncodingData():void 0],["created-app",typeof this.createdApp<"u"?this.createdApp.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountApplicationResponse: ${e}`);return new Em({round:e.get("round"),appLocalState:typeof e.get("app-local-state")<"u"?Am.fromEncodingData(e.get("app-local-state")):void 0,createdApp:typeof e.get("created-app")<"u"?_h.fromEncodingData(e.get("created-app")):void 0})}}class xh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"asset-holding",valueSchema:ru.encodingSchema,omitEmpty:!0},{key:"asset-params",valueSchema:new V(iu.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({assetHolding:e,assetParams:t}){this.assetHolding=e,this.assetParams=t}getEncodingSchema(){return xh.encodingSchema}toEncodingData(){return new Map([["asset-holding",this.assetHolding.toEncodingData()],["asset-params",typeof this.assetParams<"u"?this.assetParams.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountAssetHolding: ${e}`);return new xh({assetHolding:ru.fromEncodingData(e.get("asset-holding")??new Map),assetParams:typeof e.get("asset-params")<"u"?iu.fromEncodingData(e.get("asset-params")):void 0})}}class bm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new Z,omitEmpty:!0},{key:"asset-holding",valueSchema:new V(ru.encodingSchema),omitEmpty:!0},{key:"created-asset",valueSchema:new V(iu.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({round:e,assetHolding:t,createdAsset:r}){this.round=He(e),this.assetHolding=t,this.createdAsset=r}getEncodingSchema(){return bm.encodingSchema}toEncodingData(){return new Map([["round",this.round],["asset-holding",typeof this.assetHolding<"u"?this.assetHolding.toEncodingData():void 0],["created-asset",typeof this.createdAsset<"u"?this.createdAsset.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountAssetResponse: ${e}`);return new bm({round:e.get("round"),assetHolding:typeof e.get("asset-holding")<"u"?ru.fromEncodingData(e.get("asset-holding")):void 0,createdAsset:typeof e.get("created-asset")<"u"?iu.fromEncodingData(e.get("created-asset")):void 0})}}class Q0{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new Z,omitEmpty:!0},{key:"asset-holdings",valueSchema:new V(new rt(xh.encodingSchema)),omitEmpty:!0},{key:"next-token",valueSchema:new V(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({round:e,assetHoldings:t,nextToken:r}){this.round=ft(e),this.assetHoldings=t,this.nextToken=r}getEncodingSchema(){return Q0.encodingSchema}toEncodingData(){return new Map([["round",this.round],["asset-holdings",typeof this.assetHoldings<"u"?this.assetHoldings.map(e=>e.toEncodingData()):void 0],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountAssetsInformationResponse: ${e}`);return new Q0({round:e.get("round"),assetHoldings:typeof e.get("asset-holdings")<"u"?e.get("asset-holdings").map(t=>xh.fromEncodingData(t)):void 0,nextToken:e.get("next-token")})}}let J1=class Q1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"selection-participation-key",valueSchema:new dt,omitEmpty:!0},{key:"vote-first-valid",valueSchema:new Z,omitEmpty:!0},{key:"vote-key-dilution",valueSchema:new Z,omitEmpty:!0},{key:"vote-last-valid",valueSchema:new Z,omitEmpty:!0},{key:"vote-participation-key",valueSchema:new dt,omitEmpty:!0},{key:"state-proof-key",valueSchema:new V(new dt),omitEmpty:!0})),this.encodingSchemaValue}constructor({selectionParticipationKey:e,voteFirstValid:t,voteKeyDilution:r,voteLastValid:s,voteParticipationKey:o,stateProofKey:l}){this.selectionParticipationKey=typeof e=="string"?yt(e):e,this.voteFirstValid=He(t),this.voteKeyDilution=He(r),this.voteLastValid=He(s),this.voteParticipationKey=typeof o=="string"?yt(o):o,this.stateProofKey=typeof l=="string"?yt(l):l}getEncodingSchema(){return Q1.encodingSchema}toEncodingData(){return new Map([["selection-participation-key",this.selectionParticipationKey],["vote-first-valid",this.voteFirstValid],["vote-key-dilution",this.voteKeyDilution],["vote-last-valid",this.voteLastValid],["vote-participation-key",this.voteParticipationKey],["state-proof-key",this.stateProofKey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountParticipation: ${e}`);return new Q1({selectionParticipationKey:e.get("selection-participation-key"),voteFirstValid:e.get("vote-first-valid"),voteKeyDilution:e.get("vote-key-dilution"),voteLastValid:e.get("vote-last-valid"),voteParticipationKey:e.get("vote-participation-key"),stateProofKey:e.get("state-proof-key")})}},_m=class X1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new Je,omitEmpty:!0},{key:"delta",valueSchema:new rt(su.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,delta:t}){this.address=e,this.delta=t}getEncodingSchema(){return X1.encodingSchema}toEncodingData(){return new Map([["address",this.address],["delta",this.delta.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountStateDelta: ${e}`);return new X1({address:e.get("address"),delta:(e.get("delta")??[]).map(t=>su.fromEncodingData(t))})}};class Sh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"application-index",valueSchema:new Z,omitEmpty:!0},{key:"logs",valueSchema:new rt(new dt),omitEmpty:!0},{key:"txId",valueSchema:new Je,omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationIndex:e,logs:t,txid:r}){this.applicationIndex=ft(e),this.logs=t,this.txid=r}getEncodingSchema(){return Sh.encodingSchema}toEncodingData(){return new Map([["application-index",this.applicationIndex],["logs",this.logs],["txId",this.txid]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppCallLogs: ${e}`);return new Sh({applicationIndex:e.get("application-index"),logs:e.get("logs"),txid:e.get("txId")})}}let nu=class Z1{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new Z,omitEmpty:!0},{key:"params",valueSchema:_h.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({id:e,params:t}){this.id=He(e),this.params=t}getEncodingSchema(){return Z1.encodingSchema}toEncodingData(){return new Map([["id",this.id],["params",this.params.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Application: ${e}`);return new Z1({id:e.get("id"),params:_h.fromEncodingData(e.get("params")??new Map)})}};class Eh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new Z,omitEmpty:!0},{key:"app-boxes",valueSchema:new V($s.encodingSchema),omitEmpty:!0},{key:"app-globals",valueSchema:new V($s.encodingSchema),omitEmpty:!0},{key:"app-locals",valueSchema:new V(new rt($s.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:e,appBoxes:t,appGlobals:r,appLocals:s}){this.id=He(e),this.appBoxes=t,this.appGlobals=r,this.appLocals=s}getEncodingSchema(){return Eh.encodingSchema}toEncodingData(){return new Map([["id",this.id],["app-boxes",typeof this.appBoxes<"u"?this.appBoxes.toEncodingData():void 0],["app-globals",typeof this.appGlobals<"u"?this.appGlobals.toEncodingData():void 0],["app-locals",typeof this.appLocals<"u"?this.appLocals.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationInitialStates: ${e}`);return new Eh({id:e.get("id"),appBoxes:typeof e.get("app-boxes")<"u"?$s.fromEncodingData(e.get("app-boxes")):void 0,appGlobals:typeof e.get("app-globals")<"u"?$s.fromEncodingData(e.get("app-globals")):void 0,appLocals:typeof e.get("app-locals")<"u"?e.get("app-locals").map(t=>$s.fromEncodingData(t)):void 0})}}class $s{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"kvs",valueSchema:new rt(kh.encodingSchema),omitEmpty:!0},{key:"account",valueSchema:new V(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({kvs:e,account:t}){this.kvs=e,this.account=typeof t=="string"?Kt.fromString(t):t}getEncodingSchema(){return $s.encodingSchema}toEncodingData(){return new Map([["kvs",this.kvs.map(e=>e.toEncodingData())],["account",typeof this.account<"u"?this.account.toString():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationKVStorage: ${e}`);return new $s({kvs:(e.get("kvs")??[]).map(t=>kh.fromEncodingData(t)),account:e.get("account")})}}class bh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"account",valueSchema:new Je,omitEmpty:!0},{key:"app",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({account:e,app:t}){this.account=typeof e=="string"?Kt.fromString(e):e,this.app=He(t)}getEncodingSchema(){return bh.encodingSchema}toEncodingData(){return new Map([["account",this.account.toString()],["app",this.app]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLocalReference: ${e}`);return new bh({account:e.get("account"),app:e.get("app")})}}let Am=class eS{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new Z,omitEmpty:!0},{key:"schema",valueSchema:bs.encodingSchema,omitEmpty:!0},{key:"key-value",valueSchema:new V(new rt(Vm.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:e,schema:t,keyValue:r}){this.id=He(e),this.schema=t,this.keyValue=r}getEncodingSchema(){return eS.encodingSchema}toEncodingData(){return new Map([["id",this.id],["schema",this.schema.toEncodingData()],["key-value",typeof this.keyValue<"u"?this.keyValue.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLocalState: ${e}`);return new eS({id:e.get("id"),schema:bs.fromEncodingData(e.get("schema")??new Map),keyValue:typeof e.get("key-value")<"u"?e.get("key-value").map(t=>Vm.fromEncodingData(t)):void 0})}},_h=class tS{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"approval-program",valueSchema:new dt,omitEmpty:!0},{key:"clear-state-program",valueSchema:new dt,omitEmpty:!0},{key:"creator",valueSchema:new Je,omitEmpty:!0},{key:"extra-program-pages",valueSchema:new V(new Z),omitEmpty:!0},{key:"global-state",valueSchema:new V(new rt(Vm.encodingSchema)),omitEmpty:!0},{key:"global-state-schema",valueSchema:new V(bs.encodingSchema),omitEmpty:!0},{key:"local-state-schema",valueSchema:new V(bs.encodingSchema),omitEmpty:!0},{key:"version",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({approvalProgram:e,clearStateProgram:t,creator:r,extraProgramPages:s,globalState:o,globalStateSchema:l,localStateSchema:h,version:p}){this.approvalProgram=typeof e=="string"?yt(e):e,this.clearStateProgram=typeof t=="string"?yt(t):t,this.creator=typeof r=="string"?Kt.fromString(r):r,this.extraProgramPages=typeof s>"u"?void 0:ft(s),this.globalState=o,this.globalStateSchema=l,this.localStateSchema=h,this.version=typeof p>"u"?void 0:ft(p)}getEncodingSchema(){return tS.encodingSchema}toEncodingData(){return new Map([["approval-program",this.approvalProgram],["clear-state-program",this.clearStateProgram],["creator",this.creator.toString()],["extra-program-pages",this.extraProgramPages],["global-state",typeof this.globalState<"u"?this.globalState.map(e=>e.toEncodingData()):void 0],["global-state-schema",typeof this.globalStateSchema<"u"?this.globalStateSchema.toEncodingData():void 0],["local-state-schema",typeof this.localStateSchema<"u"?this.localStateSchema.toEncodingData():void 0],["version",this.version]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationParams: ${e}`);return new tS({approvalProgram:e.get("approval-program"),clearStateProgram:e.get("clear-state-program"),creator:e.get("creator"),extraProgramPages:e.get("extra-program-pages"),globalState:typeof e.get("global-state")<"u"?e.get("global-state").map(t=>Vm.fromEncodingData(t)):void 0,globalStateSchema:typeof e.get("global-state-schema")<"u"?bs.fromEncodingData(e.get("global-state-schema")):void 0,localStateSchema:typeof e.get("local-state-schema")<"u"?bs.fromEncodingData(e.get("local-state-schema")):void 0,version:e.get("version")})}};class Ah{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"app-state-type",valueSchema:new Je,omitEmpty:!0},{key:"key",valueSchema:new dt,omitEmpty:!0},{key:"operation",valueSchema:new Je,omitEmpty:!0},{key:"account",valueSchema:new V(new Je),omitEmpty:!0},{key:"new-value",valueSchema:new V(ls.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({appStateType:e,key:t,operation:r,account:s,newValue:o}){this.appStateType=e,this.key=typeof t=="string"?yt(t):t,this.operation=r,this.account=typeof s=="string"?Kt.fromString(s):s,this.newValue=o}getEncodingSchema(){return Ah.encodingSchema}toEncodingData(){return new Map([["app-state-type",this.appStateType],["key",this.key],["operation",this.operation],["account",typeof this.account<"u"?this.account.toString():void 0],["new-value",typeof this.newValue<"u"?this.newValue.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationStateOperation: ${e}`);return new Ah({appStateType:e.get("app-state-type"),key:e.get("key"),operation:e.get("operation"),account:e.get("account"),newValue:typeof e.get("new-value")<"u"?ls.fromEncodingData(e.get("new-value")):void 0})}}let bs=class nS{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"num-byte-slice",valueSchema:new Z,omitEmpty:!0},{key:"num-uint",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({numByteSlice:e,numUint:t}){this.numByteSlice=ft(e),this.numUint=ft(t)}getEncodingSchema(){return nS.encodingSchema}toEncodingData(){return new Map([["num-byte-slice",this.numByteSlice],["num-uint",this.numUint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationStateSchema: ${e}`);return new nS({numByteSlice:e.get("num-byte-slice"),numUint:e.get("num-uint")})}},X0=class rS{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"index",valueSchema:new Z,omitEmpty:!0},{key:"params",valueSchema:iu.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({index:e,params:t}){this.index=He(e),this.params=t}getEncodingSchema(){return rS.encodingSchema}toEncodingData(){return new Map([["index",this.index],["params",this.params.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Asset: ${e}`);return new rS({index:e.get("index"),params:iu.fromEncodingData(e.get("params")??new Map)})}},ru=class iS{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new Z,omitEmpty:!0},{key:"asset-id",valueSchema:new Z,omitEmpty:!0},{key:"is-frozen",valueSchema:new sn,omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:e,assetId:t,isFrozen:r}){this.amount=He(e),this.assetId=He(t),this.isFrozen=r}getEncodingSchema(){return iS.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["asset-id",this.assetId],["is-frozen",this.isFrozen]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHolding: ${e}`);return new iS({amount:e.get("amount"),assetId:e.get("asset-id"),isFrozen:e.get("is-frozen")})}};class Th{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"account",valueSchema:new Je,omitEmpty:!0},{key:"asset",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({account:e,asset:t}){this.account=typeof e=="string"?Kt.fromString(e):e,this.asset=He(t)}getEncodingSchema(){return Th.encodingSchema}toEncodingData(){return new Map([["account",this.account.toString()],["asset",this.asset]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHoldingReference: ${e}`);return new Th({account:e.get("account"),asset:e.get("asset")})}}let iu=class sS{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"creator",valueSchema:new Je,omitEmpty:!0},{key:"decimals",valueSchema:new Z,omitEmpty:!0},{key:"total",valueSchema:new Z,omitEmpty:!0},{key:"clawback",valueSchema:new V(new Je),omitEmpty:!0},{key:"default-frozen",valueSchema:new V(new sn),omitEmpty:!0},{key:"freeze",valueSchema:new V(new Je),omitEmpty:!0},{key:"manager",valueSchema:new V(new Je),omitEmpty:!0},{key:"metadata-hash",valueSchema:new V(new dt),omitEmpty:!0},{key:"name",valueSchema:new V(new Je),omitEmpty:!0},{key:"name-b64",valueSchema:new V(new dt),omitEmpty:!0},{key:"reserve",valueSchema:new V(new Je),omitEmpty:!0},{key:"unit-name",valueSchema:new V(new Je),omitEmpty:!0},{key:"unit-name-b64",valueSchema:new V(new dt),omitEmpty:!0},{key:"url",valueSchema:new V(new Je),omitEmpty:!0},{key:"url-b64",valueSchema:new V(new dt),omitEmpty:!0})),this.encodingSchemaValue}constructor({creator:e,decimals:t,total:r,clawback:s,defaultFrozen:o,freeze:l,manager:h,metadataHash:p,name:f,nameB64:v,reserve:S,unitName:C,unitNameB64:R,url:B,urlB64:re}){this.creator=e,this.decimals=ft(t),this.total=He(r),this.clawback=s,this.defaultFrozen=o,this.freeze=l,this.manager=h,this.metadataHash=typeof p=="string"?yt(p):p,this.name=f,this.nameB64=typeof v=="string"?yt(v):v,this.reserve=S,this.unitName=C,this.unitNameB64=typeof R=="string"?yt(R):R,this.url=B,this.urlB64=typeof re=="string"?yt(re):re}getEncodingSchema(){return sS.encodingSchema}toEncodingData(){return new Map([["creator",this.creator],["decimals",this.decimals],["total",this.total],["clawback",this.clawback],["default-frozen",this.defaultFrozen],["freeze",this.freeze],["manager",this.manager],["metadata-hash",this.metadataHash],["name",this.name],["name-b64",this.nameB64],["reserve",this.reserve],["unit-name",this.unitName],["unit-name-b64",this.unitNameB64],["url",this.url],["url-b64",this.urlB64]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetParams: ${e}`);return new sS({creator:e.get("creator"),decimals:e.get("decimals"),total:e.get("total"),clawback:e.get("clawback"),defaultFrozen:e.get("default-frozen"),freeze:e.get("freeze"),manager:e.get("manager"),metadataHash:e.get("metadata-hash"),name:e.get("name"),nameB64:e.get("name-b64"),reserve:e.get("reserve"),unitName:e.get("unit-name"),unitNameB64:e.get("unit-name-b64"),url:e.get("url"),urlB64:e.get("url-b64")})}};class kh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new dt,omitEmpty:!0},{key:"value",valueSchema:ls.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:e,value:t}){this.key=typeof e=="string"?yt(e):e,this.value=t}getEncodingSchema(){return kh.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AvmKeyValue: ${e}`);return new kh({key:e.get("key"),value:ls.fromEncodingData(e.get("value")??new Map)})}}class ls{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"type",valueSchema:new Z,omitEmpty:!0},{key:"bytes",valueSchema:new V(new dt),omitEmpty:!0},{key:"uint",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({type:e,bytes:t,uint:r}){this.type=ft(e),this.bytes=typeof t=="string"?yt(t):t,this.uint=typeof r>"u"?void 0:He(r)}getEncodingSchema(){return ls.encodingSchema}toEncodingData(){return new Map([["type",this.type],["bytes",this.bytes],["uint",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AvmValue: ${e}`);return new ls({type:e.get("type"),bytes:e.get("bytes"),uint:e.get("uint")})}}class Tm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"blockHash",valueSchema:new Je,omitEmpty:!0})),this.encodingSchemaValue}constructor({blockhash:e}){this.blockhash=e}getEncodingSchema(){return Tm.encodingSchema}toEncodingData(){return new Map([["blockHash",this.blockhash]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockHashResponse: ${e}`);return new Tm({blockhash:e.get("blockHash")})}}class Z0{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"logs",valueSchema:new rt(Sh.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({logs:e}){this.logs=e}getEncodingSchema(){return Z0.encodingSchema}toEncodingData(){return new Map([["logs",this.logs.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockLogsResponse: ${e}`);return new Z0({logs:(e.get("logs")??[]).map(t=>Sh.fromEncodingData(t))})}}class km{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"block",valueSchema:Y0.encodingSchema,omitEmpty:!0},{key:"cert",valueSchema:new V(Qr.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({block:e,cert:t}){this.block=e,this.cert=t}getEncodingSchema(){return km.encodingSchema}toEncodingData(){return new Map([["block",this.block.toEncodingData()],["cert",typeof this.cert<"u"?this.cert.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockResponse: ${e}`);return new km({block:Y0.fromEncodingData(e.get("block")??new Map),cert:typeof e.get("cert")<"u"?Qr.fromEncodingData(e.get("cert")):void 0})}}class Im{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"blockTxids",valueSchema:new rt(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({blocktxids:e}){this.blocktxids=e}getEncodingSchema(){return Im.encodingSchema}toEncodingData(){return new Map([["blockTxids",this.blocktxids]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockTxidsResponse: ${e}`);return new Im({blocktxids:e.get("blockTxids")})}}let iR=class aS{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new dt,omitEmpty:!0},{key:"round",valueSchema:new Z,omitEmpty:!0},{key:"value",valueSchema:new dt,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:e,round:t,value:r}){this.name=typeof e=="string"?yt(e):e,this.round=He(t),this.value=typeof r=="string"?yt(r):r}getEncodingSchema(){return aS.encodingSchema}toEncodingData(){return new Map([["name",this.name],["round",this.round],["value",this.value]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Box: ${e}`);return new aS({name:e.get("name"),round:e.get("round"),value:e.get("value")})}},oS=class cS{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new dt,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:e}){this.name=typeof e=="string"?yt(e):e}getEncodingSchema(){return cS.encodingSchema}toEncodingData(){return new Map([["name",this.name]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxDescriptor: ${e}`);return new cS({name:e.get("name")})}},lS=class uS{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"app",valueSchema:new Z,omitEmpty:!0},{key:"name",valueSchema:new dt,omitEmpty:!0})),this.encodingSchemaValue}constructor({app:e,name:t}){this.app=He(e),this.name=typeof t=="string"?yt(t):t}getEncodingSchema(){return uS.encodingSchema}toEncodingData(){return new Map([["app",this.app],["name",this.name]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxReference: ${e}`);return new uS({app:e.get("app"),name:e.get("name")})}},sR=class hS{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"boxes",valueSchema:new rt(oS.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({boxes:e}){this.boxes=e}getEncodingSchema(){return hS.encodingSchema}toEncodingData(){return new Map([["boxes",this.boxes.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxesResponse: ${e}`);return new hS({boxes:(e.get("boxes")??[]).map(t=>oS.fromEncodingData(t))})}};class Ih{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"branch",valueSchema:new Je,omitEmpty:!0},{key:"build_number",valueSchema:new Z,omitEmpty:!0},{key:"channel",valueSchema:new Je,omitEmpty:!0},{key:"commit_hash",valueSchema:new Je,omitEmpty:!0},{key:"major",valueSchema:new Z,omitEmpty:!0},{key:"minor",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({branch:e,buildNumber:t,channel:r,commitHash:s,major:o,minor:l}){this.branch=e,this.buildNumber=ft(t),this.channel=r,this.commitHash=s,this.major=ft(o),this.minor=ft(l)}getEncodingSchema(){return Ih.encodingSchema}toEncodingData(){return new Map([["branch",this.branch],["build_number",this.buildNumber],["channel",this.channel],["commit_hash",this.commitHash],["major",this.major],["minor",this.minor]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BuildVersion: ${e}`);return new Ih({branch:e.get("branch"),buildNumber:e.get("build_number"),channel:e.get("channel"),commitHash:e.get("commit_hash"),major:e.get("major"),minor:e.get("minor")})}}class Cm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"hash",valueSchema:new Je,omitEmpty:!0},{key:"result",valueSchema:new Je,omitEmpty:!0},{key:"sourcemap",valueSchema:new V(Qr.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({hash:e,result:t,sourcemap:r}){this.hash=e,this.result=t,this.sourcemap=r}getEncodingSchema(){return Cm.encodingSchema}toEncodingData(){return new Map([["hash",this.hash],["result",this.result],["sourcemap",typeof this.sourcemap<"u"?this.sourcemap.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded CompileResponse: ${e}`);return new Cm({hash:e.get("hash"),result:e.get("result"),sourcemap:typeof e.get("sourcemap")<"u"?Qr.fromEncodingData(e.get("sourcemap")):void 0})}}class Rm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"result",valueSchema:new Je,omitEmpty:!0})),this.encodingSchemaValue}constructor({result:e}){this.result=e}getEncodingSchema(){return Rm.encodingSchema}toEncodingData(){return new Map([["result",this.result]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DisassembleResponse: ${e}`);return new Rm({result:e.get("result")})}}class Nm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"accounts",valueSchema:new rt(J0.encodingSchema),omitEmpty:!0},{key:"apps",valueSchema:new rt(nu.encodingSchema),omitEmpty:!0},{key:"latest-timestamp",valueSchema:new Z,omitEmpty:!0},{key:"protocol-version",valueSchema:new Je,omitEmpty:!0},{key:"round",valueSchema:new Z,omitEmpty:!0},{key:"sources",valueSchema:new rt(Ch.encodingSchema),omitEmpty:!0},{key:"txns",valueSchema:new rt(Jn.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({accounts:e,apps:t,latestTimestamp:r,protocolVersion:s,round:o,sources:l,txns:h}){this.accounts=e,this.apps=t,this.latestTimestamp=ft(r),this.protocolVersion=s,this.round=He(o),this.sources=l,this.txns=h}getEncodingSchema(){return Nm.encodingSchema}toEncodingData(){return new Map([["accounts",this.accounts.map(e=>e.toEncodingData())],["apps",this.apps.map(e=>e.toEncodingData())],["latest-timestamp",this.latestTimestamp],["protocol-version",this.protocolVersion],["round",this.round],["sources",this.sources.map(e=>e.toEncodingData())],["txns",this.txns.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DryrunRequest: ${e}`);return new Nm({accounts:(e.get("accounts")??[]).map(t=>J0.fromEncodingData(t)),apps:(e.get("apps")??[]).map(t=>nu.fromEncodingData(t)),latestTimestamp:e.get("latest-timestamp"),protocolVersion:e.get("protocol-version"),round:e.get("round"),sources:(e.get("sources")??[]).map(t=>Ch.fromEncodingData(t)),txns:(e.get("txns")??[]).map(t=>Jn.fromEncodingData(t))})}}class Dm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"error",valueSchema:new Je,omitEmpty:!0},{key:"protocol-version",valueSchema:new Je,omitEmpty:!0},{key:"txns",valueSchema:new rt(Rh.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({error:e,protocolVersion:t,txns:r}){this.error=e,this.protocolVersion=t,this.txns=r}getEncodingSchema(){return Dm.encodingSchema}toEncodingData(){return new Map([["error",this.error],["protocol-version",this.protocolVersion],["txns",this.txns.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DryrunResponse: ${e}`);return new Dm({error:e.get("error"),protocolVersion:e.get("protocol-version"),txns:(e.get("txns")??[]).map(t=>Rh.fromEncodingData(t))})}}class Ch{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"app-index",valueSchema:new Z,omitEmpty:!0},{key:"field-name",valueSchema:new Je,omitEmpty:!0},{key:"source",valueSchema:new Je,omitEmpty:!0},{key:"txn-index",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({appIndex:e,fieldName:t,source:r,txnIndex:s}){this.appIndex=He(e),this.fieldName=t,this.source=r,this.txnIndex=ft(s)}getEncodingSchema(){return Ch.encodingSchema}toEncodingData(){return new Map([["app-index",this.appIndex],["field-name",this.fieldName],["source",this.source],["txn-index",this.txnIndex]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DryrunSource: ${e}`);return new Ch({appIndex:e.get("app-index"),fieldName:e.get("field-name"),source:e.get("source"),txnIndex:e.get("txn-index")})}}class Jo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"line",valueSchema:new Z,omitEmpty:!0},{key:"pc",valueSchema:new Z,omitEmpty:!0},{key:"stack",valueSchema:new rt(ll.encodingSchema),omitEmpty:!0},{key:"error",valueSchema:new V(new Je),omitEmpty:!0},{key:"scratch",valueSchema:new V(new rt(ll.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({line:e,pc:t,stack:r,error:s,scratch:o}){this.line=ft(e),this.pc=ft(t),this.stack=r,this.error=s,this.scratch=o}getEncodingSchema(){return Jo.encodingSchema}toEncodingData(){return new Map([["line",this.line],["pc",this.pc],["stack",this.stack.map(e=>e.toEncodingData())],["error",this.error],["scratch",typeof this.scratch<"u"?this.scratch.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DryrunState: ${e}`);return new Jo({line:e.get("line"),pc:e.get("pc"),stack:(e.get("stack")??[]).map(t=>ll.fromEncodingData(t)),error:e.get("error"),scratch:typeof e.get("scratch")<"u"?e.get("scratch").map(t=>ll.fromEncodingData(t)):void 0})}}class Rh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"disassembly",valueSchema:new rt(new Je),omitEmpty:!0},{key:"app-call-messages",valueSchema:new V(new rt(new Je)),omitEmpty:!0},{key:"app-call-trace",valueSchema:new V(new rt(Jo.encodingSchema)),omitEmpty:!0},{key:"budget-added",valueSchema:new V(new Z),omitEmpty:!0},{key:"budget-consumed",valueSchema:new V(new Z),omitEmpty:!0},{key:"global-delta",valueSchema:new V(new rt(su.encodingSchema)),omitEmpty:!0},{key:"local-deltas",valueSchema:new V(new rt(_m.encodingSchema)),omitEmpty:!0},{key:"logic-sig-disassembly",valueSchema:new V(new rt(new Je)),omitEmpty:!0},{key:"logic-sig-messages",valueSchema:new V(new rt(new Je)),omitEmpty:!0},{key:"logic-sig-trace",valueSchema:new V(new rt(Jo.encodingSchema)),omitEmpty:!0},{key:"logs",valueSchema:new V(new rt(new dt)),omitEmpty:!0})),this.encodingSchemaValue}constructor({disassembly:e,appCallMessages:t,appCallTrace:r,budgetAdded:s,budgetConsumed:o,globalDelta:l,localDeltas:h,logicSigDisassembly:p,logicSigMessages:f,logicSigTrace:v,logs:S}){this.disassembly=e,this.appCallMessages=t,this.appCallTrace=r,this.budgetAdded=typeof s>"u"?void 0:ft(s),this.budgetConsumed=typeof o>"u"?void 0:ft(o),this.globalDelta=l,this.localDeltas=h,this.logicSigDisassembly=p,this.logicSigMessages=f,this.logicSigTrace=v,this.logs=S}getEncodingSchema(){return Rh.encodingSchema}toEncodingData(){return new Map([["disassembly",this.disassembly],["app-call-messages",this.appCallMessages],["app-call-trace",typeof this.appCallTrace<"u"?this.appCallTrace.map(e=>e.toEncodingData()):void 0],["budget-added",this.budgetAdded],["budget-consumed",this.budgetConsumed],["global-delta",typeof this.globalDelta<"u"?this.globalDelta.map(e=>e.toEncodingData()):void 0],["local-deltas",typeof this.localDeltas<"u"?this.localDeltas.map(e=>e.toEncodingData()):void 0],["logic-sig-disassembly",this.logicSigDisassembly],["logic-sig-messages",this.logicSigMessages],["logic-sig-trace",typeof this.logicSigTrace<"u"?this.logicSigTrace.map(e=>e.toEncodingData()):void 0],["logs",this.logs]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DryrunTxnResult: ${e}`);return new Rh({disassembly:e.get("disassembly"),appCallMessages:e.get("app-call-messages"),appCallTrace:typeof e.get("app-call-trace")<"u"?e.get("app-call-trace").map(t=>Jo.fromEncodingData(t)):void 0,budgetAdded:e.get("budget-added"),budgetConsumed:e.get("budget-consumed"),globalDelta:typeof e.get("global-delta")<"u"?e.get("global-delta").map(t=>su.fromEncodingData(t)):void 0,localDeltas:typeof e.get("local-deltas")<"u"?e.get("local-deltas").map(t=>_m.fromEncodingData(t)):void 0,logicSigDisassembly:e.get("logic-sig-disassembly"),logicSigMessages:e.get("logic-sig-messages"),logicSigTrace:typeof e.get("logic-sig-trace")<"u"?e.get("logic-sig-trace").map(t=>Jo.fromEncodingData(t)):void 0,logs:e.get("logs")})}}let Nz=class dS{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"message",valueSchema:new Je,omitEmpty:!0},{key:"data",valueSchema:new V(Qr.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({message:e,data:t}){this.message=e,this.data=t}getEncodingSchema(){return dS.encodingSchema}toEncodingData(){return new Map([["message",this.message],["data",typeof this.data<"u"?this.data.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ErrorResponse: ${e}`);return new dS({message:e.get("message"),data:typeof e.get("data")<"u"?Qr.fromEncodingData(e.get("data")):void 0})}},fS=class mS{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"action",valueSchema:new Z,omitEmpty:!0},{key:"bytes",valueSchema:new V(new Je),omitEmpty:!0},{key:"uint",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({action:e,bytes:t,uint:r}){this.action=ft(e),this.bytes=t,this.uint=typeof r>"u"?void 0:He(r)}getEncodingSchema(){return mS.encodingSchema}toEncodingData(){return new Map([["action",this.action],["bytes",this.bytes],["uint",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded EvalDelta: ${e}`);return new mS({action:e.get("action"),bytes:e.get("bytes"),uint:e.get("uint")})}},su=class pS{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new Je,omitEmpty:!0},{key:"value",valueSchema:fS.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:e,value:t}){this.key=e,this.value=t}getEncodingSchema(){return pS.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded EvalDeltaKeyValue: ${e}`);return new pS({key:e.get("key"),value:fS.fromEncodingData(e.get("value")??new Map)})}},Dz=class gS{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"alloc",valueSchema:new rt(Nh.encodingSchema),omitEmpty:!0},{key:"fees",valueSchema:new Je,omitEmpty:!0},{key:"id",valueSchema:new Je,omitEmpty:!0},{key:"network",valueSchema:new Je,omitEmpty:!0},{key:"proto",valueSchema:new Je,omitEmpty:!0},{key:"rwd",valueSchema:new Je,omitEmpty:!0},{key:"timestamp",valueSchema:new Z,omitEmpty:!0},{key:"comment",valueSchema:new V(new Je),omitEmpty:!0},{key:"devmode",valueSchema:new V(new sn),omitEmpty:!0})),this.encodingSchemaValue}constructor({alloc:e,fees:t,id:r,network:s,proto:o,rwd:l,timestamp:h,comment:p,devmode:f}){this.alloc=e,this.fees=t,this.id=r,this.network=s,this.proto=o,this.rwd=l,this.timestamp=ft(h),this.comment=p,this.devmode=f}getEncodingSchema(){return gS.encodingSchema}toEncodingData(){return new Map([["alloc",this.alloc.map(e=>e.toEncodingData())],["fees",this.fees],["id",this.id],["network",this.network],["proto",this.proto],["rwd",this.rwd],["timestamp",this.timestamp],["comment",this.comment],["devmode",this.devmode]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Genesis: ${e}`);return new gS({alloc:(e.get("alloc")??[]).map(t=>Nh.fromEncodingData(t)),fees:e.get("fees"),id:e.get("id"),network:e.get("network"),proto:e.get("proto"),rwd:e.get("rwd"),timestamp:e.get("timestamp"),comment:e.get("comment"),devmode:e.get("devmode")})}};class Nh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"addr",valueSchema:new Je,omitEmpty:!0},{key:"comment",valueSchema:new Je,omitEmpty:!0},{key:"state",valueSchema:Qr.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({addr:e,comment:t,state:r}){this.addr=e,this.comment=t,this.state=r}getEncodingSchema(){return Nh.encodingSchema}toEncodingData(){return new Map([["addr",this.addr],["comment",this.comment],["state",this.state.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded GenesisAllocation: ${e}`);return new Nh({addr:e.get("addr"),comment:e.get("comment"),state:Qr.fromEncodingData(e.get("state")??new Map)})}}class Mm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"offset",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({offset:e}){this.offset=ft(e)}getEncodingSchema(){return Mm.encodingSchema}toEncodingData(){return new Map([["offset",this.offset]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded GetBlockTimeStampOffsetResponse: ${e}`);return new Mm({offset:e.get("offset")})}}class Fm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({round:e}){this.round=He(e)}getEncodingSchema(){return Fm.encodingSchema}toEncodingData(){return new Map([["round",this.round]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded GetSyncRoundResponse: ${e}`);return new Fm({round:e.get("round")})}}class Dh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"Delta",valueSchema:oo.encodingSchema,omitEmpty:!0},{key:"Ids",valueSchema:new rt(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({delta:e,ids:t}){this.delta=e,this.ids=t}getEncodingSchema(){return Dh.encodingSchema}toEncodingData(){return new Map([["Delta",this.delta.toEncodingData()],["Ids",this.ids]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded LedgerStateDeltaForTransactionGroup: ${e}`);return new Dh({delta:oo.fromEncodingData(e.get("Delta")??new Map),ids:e.get("Ids")})}}let aR=class yS{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"index",valueSchema:new Z,omitEmpty:!0},{key:"proof",valueSchema:new dt,omitEmpty:!0},{key:"treedepth",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({index:e,proof:t,treedepth:r}){this.index=ft(e),this.proof=typeof t=="string"?yt(t):t,this.treedepth=ft(r)}getEncodingSchema(){return yS.encodingSchema}toEncodingData(){return new Map([["index",this.index],["proof",this.proof],["treedepth",this.treedepth]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded LightBlockHeaderProof: ${e}`);return new yS({index:e.get("index"),proof:e.get("proof"),treedepth:e.get("treedepth")})}};class Mh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"catchup-time",valueSchema:new Z,omitEmpty:!0},{key:"last-round",valueSchema:new Z,omitEmpty:!0},{key:"last-version",valueSchema:new Je,omitEmpty:!0},{key:"next-version",valueSchema:new Je,omitEmpty:!0},{key:"next-version-round",valueSchema:new Z,omitEmpty:!0},{key:"next-version-supported",valueSchema:new sn,omitEmpty:!0},{key:"stopped-at-unsupported-round",valueSchema:new sn,omitEmpty:!0},{key:"time-since-last-round",valueSchema:new Z,omitEmpty:!0},{key:"catchpoint",valueSchema:new V(new Je),omitEmpty:!0},{key:"catchpoint-acquired-blocks",valueSchema:new V(new Z),omitEmpty:!0},{key:"catchpoint-processed-accounts",valueSchema:new V(new Z),omitEmpty:!0},{key:"catchpoint-processed-kvs",valueSchema:new V(new Z),omitEmpty:!0},{key:"catchpoint-total-accounts",valueSchema:new V(new Z),omitEmpty:!0},{key:"catchpoint-total-blocks",valueSchema:new V(new Z),omitEmpty:!0},{key:"catchpoint-total-kvs",valueSchema:new V(new Z),omitEmpty:!0},{key:"catchpoint-verified-accounts",valueSchema:new V(new Z),omitEmpty:!0},{key:"catchpoint-verified-kvs",valueSchema:new V(new Z),omitEmpty:!0},{key:"last-catchpoint",valueSchema:new V(new Je),omitEmpty:!0},{key:"upgrade-delay",valueSchema:new V(new Z),omitEmpty:!0},{key:"upgrade-next-protocol-vote-before",valueSchema:new V(new Z),omitEmpty:!0},{key:"upgrade-no-votes",valueSchema:new V(new Z),omitEmpty:!0},{key:"upgrade-node-vote",valueSchema:new V(new sn),omitEmpty:!0},{key:"upgrade-vote-rounds",valueSchema:new V(new Z),omitEmpty:!0},{key:"upgrade-votes",valueSchema:new V(new Z),omitEmpty:!0},{key:"upgrade-votes-required",valueSchema:new V(new Z),omitEmpty:!0},{key:"upgrade-yes-votes",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({catchupTime:e,lastRound:t,lastVersion:r,nextVersion:s,nextVersionRound:o,nextVersionSupported:l,stoppedAtUnsupportedRound:h,timeSinceLastRound:p,catchpoint:f,catchpointAcquiredBlocks:v,catchpointProcessedAccounts:S,catchpointProcessedKvs:C,catchpointTotalAccounts:R,catchpointTotalBlocks:B,catchpointTotalKvs:re,catchpointVerifiedAccounts:N,catchpointVerifiedKvs:U,lastCatchpoint:q,upgradeDelay:G,upgradeNextProtocolVoteBefore:he,upgradeNoVotes:pe,upgradeNodeVote:K,upgradeVoteRounds:P,upgradeVotes:M,upgradeVotesRequired:H,upgradeYesVotes:A}){this.catchupTime=He(e),this.lastRound=He(t),this.lastVersion=r,this.nextVersion=s,this.nextVersionRound=He(o),this.nextVersionSupported=l,this.stoppedAtUnsupportedRound=h,this.timeSinceLastRound=He(p),this.catchpoint=f,this.catchpointAcquiredBlocks=typeof v>"u"?void 0:ft(v),this.catchpointProcessedAccounts=typeof S>"u"?void 0:ft(S),this.catchpointProcessedKvs=typeof C>"u"?void 0:ft(C),this.catchpointTotalAccounts=typeof R>"u"?void 0:ft(R),this.catchpointTotalBlocks=typeof B>"u"?void 0:ft(B),this.catchpointTotalKvs=typeof re>"u"?void 0:ft(re),this.catchpointVerifiedAccounts=typeof N>"u"?void 0:ft(N),this.catchpointVerifiedKvs=typeof U>"u"?void 0:ft(U),this.lastCatchpoint=q,this.upgradeDelay=typeof G>"u"?void 0:He(G),this.upgradeNextProtocolVoteBefore=typeof he>"u"?void 0:He(he),this.upgradeNoVotes=typeof pe>"u"?void 0:ft(pe),this.upgradeNodeVote=K,this.upgradeVoteRounds=typeof P>"u"?void 0:ft(P),this.upgradeVotes=typeof M>"u"?void 0:ft(M),this.upgradeVotesRequired=typeof H>"u"?void 0:ft(H),this.upgradeYesVotes=typeof A>"u"?void 0:ft(A)}getEncodingSchema(){return Mh.encodingSchema}toEncodingData(){return new Map([["catchup-time",this.catchupTime],["last-round",this.lastRound],["last-version",this.lastVersion],["next-version",this.nextVersion],["next-version-round",this.nextVersionRound],["next-version-supported",this.nextVersionSupported],["stopped-at-unsupported-round",this.stoppedAtUnsupportedRound],["time-since-last-round",this.timeSinceLastRound],["catchpoint",this.catchpoint],["catchpoint-acquired-blocks",this.catchpointAcquiredBlocks],["catchpoint-processed-accounts",this.catchpointProcessedAccounts],["catchpoint-processed-kvs",this.catchpointProcessedKvs],["catchpoint-total-accounts",this.catchpointTotalAccounts],["catchpoint-total-blocks",this.catchpointTotalBlocks],["catchpoint-total-kvs",this.catchpointTotalKvs],["catchpoint-verified-accounts",this.catchpointVerifiedAccounts],["catchpoint-verified-kvs",this.catchpointVerifiedKvs],["last-catchpoint",this.lastCatchpoint],["upgrade-delay",this.upgradeDelay],["upgrade-next-protocol-vote-before",this.upgradeNextProtocolVoteBefore],["upgrade-no-votes",this.upgradeNoVotes],["upgrade-node-vote",this.upgradeNodeVote],["upgrade-vote-rounds",this.upgradeVoteRounds],["upgrade-votes",this.upgradeVotes],["upgrade-votes-required",this.upgradeVotesRequired],["upgrade-yes-votes",this.upgradeYesVotes]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded NodeStatusResponse: ${e}`);return new Mh({catchupTime:e.get("catchup-time"),lastRound:e.get("last-round"),lastVersion:e.get("last-version"),nextVersion:e.get("next-version"),nextVersionRound:e.get("next-version-round"),nextVersionSupported:e.get("next-version-supported"),stoppedAtUnsupportedRound:e.get("stopped-at-unsupported-round"),timeSinceLastRound:e.get("time-since-last-round"),catchpoint:e.get("catchpoint"),catchpointAcquiredBlocks:e.get("catchpoint-acquired-blocks"),catchpointProcessedAccounts:e.get("catchpoint-processed-accounts"),catchpointProcessedKvs:e.get("catchpoint-processed-kvs"),catchpointTotalAccounts:e.get("catchpoint-total-accounts"),catchpointTotalBlocks:e.get("catchpoint-total-blocks"),catchpointTotalKvs:e.get("catchpoint-total-kvs"),catchpointVerifiedAccounts:e.get("catchpoint-verified-accounts"),catchpointVerifiedKvs:e.get("catchpoint-verified-kvs"),lastCatchpoint:e.get("last-catchpoint"),upgradeDelay:e.get("upgrade-delay"),upgradeNextProtocolVoteBefore:e.get("upgrade-next-protocol-vote-before"),upgradeNoVotes:e.get("upgrade-no-votes"),upgradeNodeVote:e.get("upgrade-node-vote"),upgradeVoteRounds:e.get("upgrade-vote-rounds"),upgradeVotes:e.get("upgrade-votes"),upgradeVotesRequired:e.get("upgrade-votes-required"),upgradeYesVotes:e.get("upgrade-yes-votes")})}}class $a{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"pool-error",valueSchema:new Je,omitEmpty:!0},{key:"txn",valueSchema:Jn.encodingSchema,omitEmpty:!0},{key:"application-index",valueSchema:new V(new Z),omitEmpty:!0},{key:"asset-closing-amount",valueSchema:new V(new Z),omitEmpty:!0},{key:"asset-index",valueSchema:new V(new Z),omitEmpty:!0},{key:"close-rewards",valueSchema:new V(new Z),omitEmpty:!0},{key:"closing-amount",valueSchema:new V(new Z),omitEmpty:!0},{key:"confirmed-round",valueSchema:new V(new Z),omitEmpty:!0},{key:"global-state-delta",valueSchema:new V(new rt(su.encodingSchema)),omitEmpty:!0},{key:"inner-txns",valueSchema:new V(new rt($a.encodingSchema)),omitEmpty:!0},{key:"local-state-delta",valueSchema:new V(new rt(_m.encodingSchema)),omitEmpty:!0},{key:"logs",valueSchema:new V(new rt(new dt)),omitEmpty:!0},{key:"receiver-rewards",valueSchema:new V(new Z),omitEmpty:!0},{key:"sender-rewards",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({poolError:e,txn:t,applicationIndex:r,assetClosingAmount:s,assetIndex:o,closeRewards:l,closingAmount:h,confirmedRound:p,globalStateDelta:f,innerTxns:v,localStateDelta:S,logs:C,receiverRewards:R,senderRewards:B}){this.poolError=e,this.txn=t,this.applicationIndex=typeof r>"u"?void 0:He(r),this.assetClosingAmount=typeof s>"u"?void 0:He(s),this.assetIndex=typeof o>"u"?void 0:He(o),this.closeRewards=typeof l>"u"?void 0:He(l),this.closingAmount=typeof h>"u"?void 0:He(h),this.confirmedRound=typeof p>"u"?void 0:He(p),this.globalStateDelta=f,this.innerTxns=v,this.localStateDelta=S,this.logs=C,this.receiverRewards=typeof R>"u"?void 0:He(R),this.senderRewards=typeof B>"u"?void 0:He(B)}getEncodingSchema(){return $a.encodingSchema}toEncodingData(){return new Map([["pool-error",this.poolError],["txn",this.txn.toEncodingData()],["application-index",this.applicationIndex],["asset-closing-amount",this.assetClosingAmount],["asset-index",this.assetIndex],["close-rewards",this.closeRewards],["closing-amount",this.closingAmount],["confirmed-round",this.confirmedRound],["global-state-delta",typeof this.globalStateDelta<"u"?this.globalStateDelta.map(e=>e.toEncodingData()):void 0],["inner-txns",typeof this.innerTxns<"u"?this.innerTxns.map(e=>e.toEncodingData()):void 0],["local-state-delta",typeof this.localStateDelta<"u"?this.localStateDelta.map(e=>e.toEncodingData()):void 0],["logs",this.logs],["receiver-rewards",this.receiverRewards],["sender-rewards",this.senderRewards]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded PendingTransactionResponse: ${e}`);return new $a({poolError:e.get("pool-error"),txn:Jn.fromEncodingData(e.get("txn")??new Map),applicationIndex:e.get("application-index"),assetClosingAmount:e.get("asset-closing-amount"),assetIndex:e.get("asset-index"),closeRewards:e.get("close-rewards"),closingAmount:e.get("closing-amount"),confirmedRound:e.get("confirmed-round"),globalStateDelta:typeof e.get("global-state-delta")<"u"?e.get("global-state-delta").map(t=>su.fromEncodingData(t)):void 0,innerTxns:typeof e.get("inner-txns")<"u"?e.get("inner-txns").map(t=>$a.fromEncodingData(t)):void 0,localStateDelta:typeof e.get("local-state-delta")<"u"?e.get("local-state-delta").map(t=>_m.fromEncodingData(t)):void 0,logs:e.get("logs"),receiverRewards:e.get("receiver-rewards"),senderRewards:e.get("sender-rewards")})}}class Fh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"top-transactions",valueSchema:new rt(Jn.encodingSchema),omitEmpty:!0},{key:"total-transactions",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({topTransactions:e,totalTransactions:t}){this.topTransactions=e,this.totalTransactions=ft(t)}getEncodingSchema(){return Fh.encodingSchema}toEncodingData(){return new Map([["top-transactions",this.topTransactions.map(e=>e.toEncodingData())],["total-transactions",this.totalTransactions]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded PendingTransactionsResponse: ${e}`);return new Fh({topTransactions:(e.get("top-transactions")??[]).map(t=>Jn.fromEncodingData(t)),totalTransactions:e.get("total-transactions")})}}class Om{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"txId",valueSchema:new Je,omitEmpty:!0})),this.encodingSchemaValue}constructor({txid:e}){this.txid=e}getEncodingSchema(){return Om.encodingSchema}toEncodingData(){return new Map([["txId",this.txid]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded PostTransactionsResponse: ${e}`);return new Om({txid:e.get("txId")})}}class Oh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"new-value",valueSchema:ls.encodingSchema,omitEmpty:!0},{key:"slot",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({newValue:e,slot:t}){this.newValue=e,this.slot=ft(t)}getEncodingSchema(){return Oh.encodingSchema}toEncodingData(){return new Map([["new-value",this.newValue.toEncodingData()],["slot",this.slot]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ScratchChange: ${e}`);return new Oh({newValue:ls.fromEncodingData(e.get("new-value")??new Map),slot:e.get("slot")})}}class Ph{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"app-initial-states",valueSchema:new V(new rt(Eh.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({appInitialStates:e}){this.appInitialStates=e}getEncodingSchema(){return Ph.encodingSchema}toEncodingData(){return new Map([["app-initial-states",typeof this.appInitialStates<"u"?this.appInitialStates.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateInitialStates: ${e}`);return new Ph({appInitialStates:typeof e.get("app-initial-states")<"u"?e.get("app-initial-states").map(t=>Eh.fromEncodingData(t)):void 0})}}class jh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"txn-groups",valueSchema:new rt(gc.encodingSchema),omitEmpty:!0},{key:"allow-empty-signatures",valueSchema:new V(new sn),omitEmpty:!0},{key:"allow-more-logging",valueSchema:new V(new sn),omitEmpty:!0},{key:"allow-unnamed-resources",valueSchema:new V(new sn),omitEmpty:!0},{key:"exec-trace-config",valueSchema:new V(yc.encodingSchema),omitEmpty:!0},{key:"extra-opcode-budget",valueSchema:new V(new Z),omitEmpty:!0},{key:"fix-signers",valueSchema:new V(new sn),omitEmpty:!0},{key:"round",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({txnGroups:e,allowEmptySignatures:t,allowMoreLogging:r,allowUnnamedResources:s,execTraceConfig:o,extraOpcodeBudget:l,fixSigners:h,round:p}){this.txnGroups=e,this.allowEmptySignatures=t,this.allowMoreLogging=r,this.allowUnnamedResources=s,this.execTraceConfig=o,this.extraOpcodeBudget=typeof l>"u"?void 0:ft(l),this.fixSigners=h,this.round=typeof p>"u"?void 0:He(p)}getEncodingSchema(){return jh.encodingSchema}toEncodingData(){return new Map([["txn-groups",this.txnGroups.map(e=>e.toEncodingData())],["allow-empty-signatures",this.allowEmptySignatures],["allow-more-logging",this.allowMoreLogging],["allow-unnamed-resources",this.allowUnnamedResources],["exec-trace-config",typeof this.execTraceConfig<"u"?this.execTraceConfig.toEncodingData():void 0],["extra-opcode-budget",this.extraOpcodeBudget],["fix-signers",this.fixSigners],["round",this.round]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateRequest: ${e}`);return new jh({txnGroups:(e.get("txn-groups")??[]).map(t=>gc.fromEncodingData(t)),allowEmptySignatures:e.get("allow-empty-signatures"),allowMoreLogging:e.get("allow-more-logging"),allowUnnamedResources:e.get("allow-unnamed-resources"),execTraceConfig:typeof e.get("exec-trace-config")<"u"?yc.fromEncodingData(e.get("exec-trace-config")):void 0,extraOpcodeBudget:e.get("extra-opcode-budget"),fixSigners:e.get("fix-signers"),round:e.get("round")})}}class gc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"txns",valueSchema:new rt(Jn.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({txns:e}){this.txns=e}getEncodingSchema(){return gc.encodingSchema}toEncodingData(){return new Map([["txns",this.txns.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateRequestTransactionGroup: ${e}`);return new gc({txns:(e.get("txns")??[]).map(t=>Jn.fromEncodingData(t))})}}class Pm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"last-round",valueSchema:new Z,omitEmpty:!0},{key:"txn-groups",valueSchema:new rt(Vh.encodingSchema),omitEmpty:!0},{key:"version",valueSchema:new Z,omitEmpty:!0},{key:"eval-overrides",valueSchema:new V(Uh.encodingSchema),omitEmpty:!0},{key:"exec-trace-config",valueSchema:new V(yc.encodingSchema),omitEmpty:!0},{key:"initial-states",valueSchema:new V(Ph.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({lastRound:e,txnGroups:t,version:r,evalOverrides:s,execTraceConfig:o,initialStates:l}){this.lastRound=He(e),this.txnGroups=t,this.version=ft(r),this.evalOverrides=s,this.execTraceConfig=o,this.initialStates=l}getEncodingSchema(){return Pm.encodingSchema}toEncodingData(){return new Map([["last-round",this.lastRound],["txn-groups",this.txnGroups.map(e=>e.toEncodingData())],["version",this.version],["eval-overrides",typeof this.evalOverrides<"u"?this.evalOverrides.toEncodingData():void 0],["exec-trace-config",typeof this.execTraceConfig<"u"?this.execTraceConfig.toEncodingData():void 0],["initial-states",typeof this.initialStates<"u"?this.initialStates.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateResponse: ${e}`);return new Pm({lastRound:e.get("last-round"),txnGroups:(e.get("txn-groups")??[]).map(t=>Vh.fromEncodingData(t)),version:e.get("version"),evalOverrides:typeof e.get("eval-overrides")<"u"?Uh.fromEncodingData(e.get("eval-overrides")):void 0,execTraceConfig:typeof e.get("exec-trace-config")<"u"?yc.fromEncodingData(e.get("exec-trace-config")):void 0,initialStates:typeof e.get("initial-states")<"u"?Ph.fromEncodingData(e.get("initial-states")):void 0})}}class yc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"enable",valueSchema:new V(new sn),omitEmpty:!0},{key:"scratch-change",valueSchema:new V(new sn),omitEmpty:!0},{key:"stack-change",valueSchema:new V(new sn),omitEmpty:!0},{key:"state-change",valueSchema:new V(new sn),omitEmpty:!0})),this.encodingSchemaValue}constructor({enable:e,scratchChange:t,stackChange:r,stateChange:s}){this.enable=e,this.scratchChange=t,this.stackChange=r,this.stateChange=s}getEncodingSchema(){return yc.encodingSchema}toEncodingData(){return new Map([["enable",this.enable],["scratch-change",this.scratchChange],["stack-change",this.stackChange],["state-change",this.stateChange]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateTraceConfig: ${e}`);return new yc({enable:e.get("enable"),scratchChange:e.get("scratch-change"),stackChange:e.get("stack-change"),stateChange:e.get("state-change")})}}class Vh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"txn-results",valueSchema:new rt(Bh.encodingSchema),omitEmpty:!0},{key:"app-budget-added",valueSchema:new V(new Z),omitEmpty:!0},{key:"app-budget-consumed",valueSchema:new V(new Z),omitEmpty:!0},{key:"failed-at",valueSchema:new V(new rt(new Z)),omitEmpty:!0},{key:"failure-message",valueSchema:new V(new Je),omitEmpty:!0},{key:"unnamed-resources-accessed",valueSchema:new V(wc.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({txnResults:e,appBudgetAdded:t,appBudgetConsumed:r,failedAt:s,failureMessage:o,unnamedResourcesAccessed:l}){this.txnResults=e,this.appBudgetAdded=typeof t>"u"?void 0:ft(t),this.appBudgetConsumed=typeof r>"u"?void 0:ft(r),this.failedAt=typeof s>"u"?void 0:s.map(ft),this.failureMessage=o,this.unnamedResourcesAccessed=l}getEncodingSchema(){return Vh.encodingSchema}toEncodingData(){return new Map([["txn-results",this.txnResults.map(e=>e.toEncodingData())],["app-budget-added",this.appBudgetAdded],["app-budget-consumed",this.appBudgetConsumed],["failed-at",this.failedAt],["failure-message",this.failureMessage],["unnamed-resources-accessed",typeof this.unnamedResourcesAccessed<"u"?this.unnamedResourcesAccessed.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateTransactionGroupResult: ${e}`);return new Vh({txnResults:(e.get("txn-results")??[]).map(t=>Bh.fromEncodingData(t)),appBudgetAdded:e.get("app-budget-added"),appBudgetConsumed:e.get("app-budget-consumed"),failedAt:e.get("failed-at"),failureMessage:e.get("failure-message"),unnamedResourcesAccessed:typeof e.get("unnamed-resources-accessed")<"u"?wc.fromEncodingData(e.get("unnamed-resources-accessed")):void 0})}}class Bh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"txn-result",valueSchema:$a.encodingSchema,omitEmpty:!0},{key:"app-budget-consumed",valueSchema:new V(new Z),omitEmpty:!0},{key:"exec-trace",valueSchema:new V(Qo.encodingSchema),omitEmpty:!0},{key:"fixed-signer",valueSchema:new V(new Je),omitEmpty:!0},{key:"logic-sig-budget-consumed",valueSchema:new V(new Z),omitEmpty:!0},{key:"unnamed-resources-accessed",valueSchema:new V(wc.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({txnResult:e,appBudgetConsumed:t,execTrace:r,fixedSigner:s,logicSigBudgetConsumed:o,unnamedResourcesAccessed:l}){this.txnResult=e,this.appBudgetConsumed=typeof t>"u"?void 0:ft(t),this.execTrace=r,this.fixedSigner=typeof s=="string"?Kt.fromString(s):s,this.logicSigBudgetConsumed=typeof o>"u"?void 0:ft(o),this.unnamedResourcesAccessed=l}getEncodingSchema(){return Bh.encodingSchema}toEncodingData(){return new Map([["txn-result",this.txnResult.toEncodingData()],["app-budget-consumed",this.appBudgetConsumed],["exec-trace",typeof this.execTrace<"u"?this.execTrace.toEncodingData():void 0],["fixed-signer",typeof this.fixedSigner<"u"?this.fixedSigner.toString():void 0],["logic-sig-budget-consumed",this.logicSigBudgetConsumed],["unnamed-resources-accessed",typeof this.unnamedResourcesAccessed<"u"?this.unnamedResourcesAccessed.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateTransactionResult: ${e}`);return new Bh({txnResult:$a.fromEncodingData(e.get("txn-result")??new Map),appBudgetConsumed:e.get("app-budget-consumed"),execTrace:typeof e.get("exec-trace")<"u"?Qo.fromEncodingData(e.get("exec-trace")):void 0,fixedSigner:e.get("fixed-signer"),logicSigBudgetConsumed:e.get("logic-sig-budget-consumed"),unnamedResourcesAccessed:typeof e.get("unnamed-resources-accessed")<"u"?wc.fromEncodingData(e.get("unnamed-resources-accessed")):void 0})}}class wc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"accounts",valueSchema:new V(new rt(new Je)),omitEmpty:!0},{key:"app-locals",valueSchema:new V(new rt(bh.encodingSchema)),omitEmpty:!0},{key:"apps",valueSchema:new V(new rt(new Z)),omitEmpty:!0},{key:"asset-holdings",valueSchema:new V(new rt(Th.encodingSchema)),omitEmpty:!0},{key:"assets",valueSchema:new V(new rt(new Z)),omitEmpty:!0},{key:"boxes",valueSchema:new V(new rt(lS.encodingSchema)),omitEmpty:!0},{key:"extra-box-refs",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({accounts:e,appLocals:t,apps:r,assetHoldings:s,assets:o,boxes:l,extraBoxRefs:h}){this.accounts=typeof e<"u"?e.map(p=>typeof p=="string"?Kt.fromString(p):p):void 0,this.appLocals=t,this.apps=typeof r>"u"?void 0:r.map(He),this.assetHoldings=s,this.assets=typeof o>"u"?void 0:o.map(He),this.boxes=l,this.extraBoxRefs=typeof h>"u"?void 0:ft(h)}getEncodingSchema(){return wc.encodingSchema}toEncodingData(){return new Map([["accounts",typeof this.accounts<"u"?this.accounts.map(e=>e.toString()):void 0],["app-locals",typeof this.appLocals<"u"?this.appLocals.map(e=>e.toEncodingData()):void 0],["apps",this.apps],["asset-holdings",typeof this.assetHoldings<"u"?this.assetHoldings.map(e=>e.toEncodingData()):void 0],["assets",this.assets],["boxes",typeof this.boxes<"u"?this.boxes.map(e=>e.toEncodingData()):void 0],["extra-box-refs",this.extraBoxRefs]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateUnnamedResourcesAccessed: ${e}`);return new wc({accounts:e.get("accounts"),appLocals:typeof e.get("app-locals")<"u"?e.get("app-locals").map(t=>bh.fromEncodingData(t)):void 0,apps:e.get("apps"),assetHoldings:typeof e.get("asset-holdings")<"u"?e.get("asset-holdings").map(t=>Th.fromEncodingData(t)):void 0,assets:e.get("assets"),boxes:typeof e.get("boxes")<"u"?e.get("boxes").map(t=>lS.fromEncodingData(t)):void 0,extraBoxRefs:e.get("extra-box-refs")})}}class Uh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"allow-empty-signatures",valueSchema:new V(new sn),omitEmpty:!0},{key:"allow-unnamed-resources",valueSchema:new V(new sn),omitEmpty:!0},{key:"extra-opcode-budget",valueSchema:new V(new Z),omitEmpty:!0},{key:"fix-signers",valueSchema:new V(new sn),omitEmpty:!0},{key:"max-log-calls",valueSchema:new V(new Z),omitEmpty:!0},{key:"max-log-size",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({allowEmptySignatures:e,allowUnnamedResources:t,extraOpcodeBudget:r,fixSigners:s,maxLogCalls:o,maxLogSize:l}){this.allowEmptySignatures=e,this.allowUnnamedResources=t,this.extraOpcodeBudget=typeof r>"u"?void 0:ft(r),this.fixSigners=s,this.maxLogCalls=typeof o>"u"?void 0:ft(o),this.maxLogSize=typeof l>"u"?void 0:ft(l)}getEncodingSchema(){return Uh.encodingSchema}toEncodingData(){return new Map([["allow-empty-signatures",this.allowEmptySignatures],["allow-unnamed-resources",this.allowUnnamedResources],["extra-opcode-budget",this.extraOpcodeBudget],["fix-signers",this.fixSigners],["max-log-calls",this.maxLogCalls],["max-log-size",this.maxLogSize]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulationEvalOverrides: ${e}`);return new Uh({allowEmptySignatures:e.get("allow-empty-signatures"),allowUnnamedResources:e.get("allow-unnamed-resources"),extraOpcodeBudget:e.get("extra-opcode-budget"),fixSigners:e.get("fix-signers"),maxLogCalls:e.get("max-log-calls"),maxLogSize:e.get("max-log-size")})}}class Hs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"pc",valueSchema:new Z,omitEmpty:!0},{key:"scratch-changes",valueSchema:new V(new rt(Oh.encodingSchema)),omitEmpty:!0},{key:"spawned-inners",valueSchema:new V(new rt(new Z)),omitEmpty:!0},{key:"stack-additions",valueSchema:new V(new rt(ls.encodingSchema)),omitEmpty:!0},{key:"stack-pop-count",valueSchema:new V(new Z),omitEmpty:!0},{key:"state-changes",valueSchema:new V(new rt(Ah.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({pc:e,scratchChanges:t,spawnedInners:r,stackAdditions:s,stackPopCount:o,stateChanges:l}){this.pc=ft(e),this.scratchChanges=t,this.spawnedInners=typeof r>"u"?void 0:r.map(ft),this.stackAdditions=s,this.stackPopCount=typeof o>"u"?void 0:ft(o),this.stateChanges=l}getEncodingSchema(){return Hs.encodingSchema}toEncodingData(){return new Map([["pc",this.pc],["scratch-changes",typeof this.scratchChanges<"u"?this.scratchChanges.map(e=>e.toEncodingData()):void 0],["spawned-inners",this.spawnedInners],["stack-additions",typeof this.stackAdditions<"u"?this.stackAdditions.map(e=>e.toEncodingData()):void 0],["stack-pop-count",this.stackPopCount],["state-changes",typeof this.stateChanges<"u"?this.stateChanges.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulationOpcodeTraceUnit: ${e}`);return new Hs({pc:e.get("pc"),scratchChanges:typeof e.get("scratch-changes")<"u"?e.get("scratch-changes").map(t=>Oh.fromEncodingData(t)):void 0,spawnedInners:e.get("spawned-inners"),stackAdditions:typeof e.get("stack-additions")<"u"?e.get("stack-additions").map(t=>ls.fromEncodingData(t)):void 0,stackPopCount:e.get("stack-pop-count"),stateChanges:typeof e.get("state-changes")<"u"?e.get("state-changes").map(t=>Ah.fromEncodingData(t)):void 0})}}class Qo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"approval-program-hash",valueSchema:new V(new dt),omitEmpty:!0},{key:"approval-program-trace",valueSchema:new V(new rt(Hs.encodingSchema)),omitEmpty:!0},{key:"clear-state-program-hash",valueSchema:new V(new dt),omitEmpty:!0},{key:"clear-state-program-trace",valueSchema:new V(new rt(Hs.encodingSchema)),omitEmpty:!0},{key:"clear-state-rollback",valueSchema:new V(new sn),omitEmpty:!0},{key:"clear-state-rollback-error",valueSchema:new V(new Je),omitEmpty:!0},{key:"inner-trace",valueSchema:new V(new rt(Qo.encodingSchema)),omitEmpty:!0},{key:"logic-sig-hash",valueSchema:new V(new dt),omitEmpty:!0},{key:"logic-sig-trace",valueSchema:new V(new rt(Hs.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({approvalProgramHash:e,approvalProgramTrace:t,clearStateProgramHash:r,clearStateProgramTrace:s,clearStateRollback:o,clearStateRollbackError:l,innerTrace:h,logicSigHash:p,logicSigTrace:f}){this.approvalProgramHash=typeof e=="string"?yt(e):e,this.approvalProgramTrace=t,this.clearStateProgramHash=typeof r=="string"?yt(r):r,this.clearStateProgramTrace=s,this.clearStateRollback=o,this.clearStateRollbackError=l,this.innerTrace=h,this.logicSigHash=typeof p=="string"?yt(p):p,this.logicSigTrace=f}getEncodingSchema(){return Qo.encodingSchema}toEncodingData(){return new Map([["approval-program-hash",this.approvalProgramHash],["approval-program-trace",typeof this.approvalProgramTrace<"u"?this.approvalProgramTrace.map(e=>e.toEncodingData()):void 0],["clear-state-program-hash",this.clearStateProgramHash],["clear-state-program-trace",typeof this.clearStateProgramTrace<"u"?this.clearStateProgramTrace.map(e=>e.toEncodingData()):void 0],["clear-state-rollback",this.clearStateRollback],["clear-state-rollback-error",this.clearStateRollbackError],["inner-trace",typeof this.innerTrace<"u"?this.innerTrace.map(e=>e.toEncodingData()):void 0],["logic-sig-hash",this.logicSigHash],["logic-sig-trace",typeof this.logicSigTrace<"u"?this.logicSigTrace.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulationTransactionExecTrace: ${e}`);return new Qo({approvalProgramHash:e.get("approval-program-hash"),approvalProgramTrace:typeof e.get("approval-program-trace")<"u"?e.get("approval-program-trace").map(t=>Hs.fromEncodingData(t)):void 0,clearStateProgramHash:e.get("clear-state-program-hash"),clearStateProgramTrace:typeof e.get("clear-state-program-trace")<"u"?e.get("clear-state-program-trace").map(t=>Hs.fromEncodingData(t)):void 0,clearStateRollback:e.get("clear-state-rollback"),clearStateRollbackError:e.get("clear-state-rollback-error"),innerTrace:typeof e.get("inner-trace")<"u"?e.get("inner-trace").map(t=>Qo.fromEncodingData(t)):void 0,logicSigHash:e.get("logic-sig-hash"),logicSigTrace:typeof e.get("logic-sig-trace")<"u"?e.get("logic-sig-trace").map(t=>Hs.fromEncodingData(t)):void 0})}}let oR=class wS{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"Message",valueSchema:Lh.encodingSchema,omitEmpty:!0},{key:"StateProof",valueSchema:new dt,omitEmpty:!0})),this.encodingSchemaValue}constructor({message:e,stateproof:t}){this.message=e,this.stateproof=typeof t=="string"?yt(t):t}getEncodingSchema(){return wS.encodingSchema}toEncodingData(){return new Map([["Message",this.message.toEncodingData()],["StateProof",this.stateproof]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProof: ${e}`);return new wS({message:Lh.fromEncodingData(e.get("Message")??new Map),stateproof:e.get("StateProof")})}};class Lh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"BlockHeadersCommitment",valueSchema:new dt,omitEmpty:!0},{key:"FirstAttestedRound",valueSchema:new Z,omitEmpty:!0},{key:"LastAttestedRound",valueSchema:new Z,omitEmpty:!0},{key:"LnProvenWeight",valueSchema:new Z,omitEmpty:!0},{key:"VotersCommitment",valueSchema:new dt,omitEmpty:!0})),this.encodingSchemaValue}constructor({blockheaderscommitment:e,firstattestedround:t,lastattestedround:r,lnprovenweight:s,voterscommitment:o}){this.blockheaderscommitment=typeof e=="string"?yt(e):e,this.firstattestedround=He(t),this.lastattestedround=He(r),this.lnprovenweight=He(s),this.voterscommitment=typeof o=="string"?yt(o):o}getEncodingSchema(){return Lh.encodingSchema}toEncodingData(){return new Map([["BlockHeadersCommitment",this.blockheaderscommitment],["FirstAttestedRound",this.firstattestedround],["LastAttestedRound",this.lastattestedround],["LnProvenWeight",this.lnprovenweight],["VotersCommitment",this.voterscommitment]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofMessage: ${e}`);return new Lh({blockheaderscommitment:e.get("BlockHeadersCommitment"),firstattestedround:e.get("FirstAttestedRound"),lastattestedround:e.get("LastAttestedRound"),lnprovenweight:e.get("LnProvenWeight"),voterscommitment:e.get("VotersCommitment")})}}class jm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"current_round",valueSchema:new Z,omitEmpty:!0},{key:"online-money",valueSchema:new Z,omitEmpty:!0},{key:"total-money",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:e,onlineMoney:t,totalMoney:r}){this.currentRound=He(e),this.onlineMoney=He(t),this.totalMoney=He(r)}getEncodingSchema(){return jm.encodingSchema}toEncodingData(){return new Map([["current_round",this.currentRound],["online-money",this.onlineMoney],["total-money",this.totalMoney]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SupplyResponse: ${e}`);return new jm({currentRound:e.get("current_round"),onlineMoney:e.get("online-money"),totalMoney:e.get("total-money")})}}let Vm=class vS{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new dt,omitEmpty:!0},{key:"value",valueSchema:ll.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:e,value:t}){this.key=typeof e=="string"?yt(e):e,this.value=t}getEncodingSchema(){return vS.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TealKeyValue: ${e}`);return new vS({key:e.get("key"),value:ll.fromEncodingData(e.get("value")??new Map)})}},ll=class xS{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"bytes",valueSchema:new dt,omitEmpty:!0},{key:"type",valueSchema:new Z,omitEmpty:!0},{key:"uint",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({bytes:e,type:t,uint:r}){this.bytes=typeof e=="string"?yt(e):e,this.type=ft(t),this.uint=He(r)}getEncodingSchema(){return xS.encodingSchema}toEncodingData(){return new Map([["bytes",this.bytes],["type",this.type],["uint",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TealValue: ${e}`);return new xS({bytes:e.get("bytes"),type:e.get("type"),uint:e.get("uint")})}};class Bm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"Deltas",valueSchema:new rt(Dh.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({deltas:e}){this.deltas=e}getEncodingSchema(){return Bm.encodingSchema}toEncodingData(){return new Map([["Deltas",this.deltas.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionGroupLedgerStateDeltasForRoundResponse: ${e}`);return new Bm({deltas:(e.get("Deltas")??[]).map(t=>Dh.fromEncodingData(t))})}}class Um{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"consensus-version",valueSchema:new Je,omitEmpty:!0},{key:"fee",valueSchema:new Z,omitEmpty:!0},{key:"genesis-hash",valueSchema:new dt,omitEmpty:!0},{key:"genesis-id",valueSchema:new Je,omitEmpty:!0},{key:"last-round",valueSchema:new Z,omitEmpty:!0},{key:"min-fee",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({consensusVersion:e,fee:t,genesisHash:r,genesisId:s,lastRound:o,minFee:l}){this.consensusVersion=e,this.fee=He(t),this.genesisHash=typeof r=="string"?yt(r):r,this.genesisId=s,this.lastRound=He(o),this.minFee=He(l)}getEncodingSchema(){return Um.encodingSchema}toEncodingData(){return new Map([["consensus-version",this.consensusVersion],["fee",this.fee],["genesis-hash",this.genesisHash],["genesis-id",this.genesisId],["last-round",this.lastRound],["min-fee",this.minFee]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionParametersResponse: ${e}`);return new Um({consensusVersion:e.get("consensus-version"),fee:e.get("fee"),genesisHash:e.get("genesis-hash"),genesisId:e.get("genesis-id"),lastRound:e.get("last-round"),minFee:e.get("min-fee")})}}class Lm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"idx",valueSchema:new Z,omitEmpty:!0},{key:"proof",valueSchema:new dt,omitEmpty:!0},{key:"stibhash",valueSchema:new dt,omitEmpty:!0},{key:"treedepth",valueSchema:new Z,omitEmpty:!0},{key:"hashtype",valueSchema:new V(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({idx:e,proof:t,stibhash:r,treedepth:s,hashtype:o}){this.idx=ft(e),this.proof=typeof t=="string"?yt(t):t,this.stibhash=typeof r=="string"?yt(r):r,this.treedepth=ft(s),this.hashtype=o}getEncodingSchema(){return Lm.encodingSchema}toEncodingData(){return new Map([["idx",this.idx],["proof",this.proof],["stibhash",this.stibhash],["treedepth",this.treedepth],["hashtype",this.hashtype]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionProof: ${e}`);return new Lm({idx:e.get("idx"),proof:e.get("proof"),stibhash:e.get("stibhash"),treedepth:e.get("treedepth"),hashtype:e.get("hashtype")})}}class zm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"build",valueSchema:Ih.encodingSchema,omitEmpty:!0},{key:"genesis_hash_b64",valueSchema:new dt,omitEmpty:!0},{key:"genesis_id",valueSchema:new Je,omitEmpty:!0},{key:"versions",valueSchema:new rt(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({build:e,genesisHashB64:t,genesisId:r,versions:s}){this.build=e,this.genesisHashB64=typeof t=="string"?yt(t):t,this.genesisId=r,this.versions=s}getEncodingSchema(){return zm.encodingSchema}toEncodingData(){return new Map([["build",this.build.toEncodingData()],["genesis_hash_b64",this.genesisHashB64],["genesis_id",this.genesisId],["versions",this.versions]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Version: ${e}`);return new zm({build:Ih.fromEncodingData(e.get("build")??new Map),genesisHashB64:e.get("genesis_hash_b64"),genesisId:e.get("genesis_id"),versions:e.get("versions")})}}const Mz=Object.freeze(Object.defineProperty({__proto__:null,Account:J0,AccountApplicationResponse:Em,AccountAssetHolding:xh,AccountAssetResponse:bm,AccountAssetsInformationResponse:Q0,AccountParticipation:J1,AccountStateDelta:_m,AppCallLogs:Sh,Application:nu,ApplicationInitialStates:Eh,ApplicationKVStorage:$s,ApplicationLocalReference:bh,ApplicationLocalState:Am,ApplicationParams:_h,ApplicationStateOperation:Ah,ApplicationStateSchema:bs,Asset:X0,AssetHolding:ru,AssetHoldingReference:Th,AssetParams:iu,AvmKeyValue:kh,AvmValue:ls,BlockHashResponse:Tm,BlockLogsResponse:Z0,BlockResponse:km,BlockTxidsResponse:Im,Box:iR,BoxDescriptor:oS,BoxReference:lS,BoxesResponse:sR,BuildVersion:Ih,CompileResponse:Cm,DisassembleResponse:Rm,DryrunRequest:Nm,DryrunResponse:Dm,DryrunSource:Ch,DryrunState:Jo,DryrunTxnResult:Rh,ErrorResponse:Nz,EvalDelta:fS,EvalDeltaKeyValue:su,Genesis:Dz,GenesisAllocation:Nh,GetBlockTimeStampOffsetResponse:Mm,GetSyncRoundResponse:Fm,LedgerStateDeltaForTransactionGroup:Dh,LightBlockHeaderProof:aR,NodeStatusResponse:Mh,PendingTransactionResponse:$a,PendingTransactionsResponse:Fh,PostTransactionsResponse:Om,ScratchChange:Oh,SimulateInitialStates:Ph,SimulateRequest:jh,SimulateRequestTransactionGroup:gc,SimulateResponse:Pm,SimulateTraceConfig:yc,SimulateTransactionGroupResult:Vh,SimulateTransactionResult:Bh,SimulateUnnamedResourcesAccessed:wc,SimulationEvalOverrides:Uh,SimulationOpcodeTraceUnit:Hs,SimulationTransactionExecTrace:Qo,StateProof:oR,StateProofMessage:Lh,SupplyResponse:jm,TealKeyValue:Vm,TealValue:ll,TransactionGroupLedgerStateDeltasForRoundResponse:Bm,TransactionParametersResponse:Um,TransactionProof:Lm,Version:zm},Symbol.toStringTag,{value:"Module"}));class Wt{constructor(e){this.c=e,this.query={}}executeRequest(e,t){return this.c.get({relativePath:this.path(),query:this.query,requestHeaders:e,customOptions:t})}async do(e,t){const r=await this.executeRequest(e,t);return this.prepare(r)}async doRaw(e,t){return(await this.executeRequest(e,t)).body}}class Fz extends Wt{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}`}exclude(e){return this.query.exclude=e,this}prepare(e){return pn(e.getJSONText(),J0)}}class Oz extends Wt{constructor(e,t,r){super(e),this.account=t.toString(),this.assetID=BigInt(r)}path(){return`/v2/accounts/${this.account}/assets/${this.assetID}`}prepare(e){return pn(e.getJSONText(),bm)}}class Pz extends Wt{constructor(e,t,r){super(e),this.account=t.toString(),this.applicationID=BigInt(r)}path(){return`/v2/accounts/${this.account}/applications/${this.applicationID}`}prepare(e){return pn(e.getJSONText(),Em)}}let jz=class extends Wt{constructor(e,t){super(e),this.round=BigInt(t),this.query={format:"msgpack"}}path(){return`/v2/blocks/${this.round}`}headerOnly(e){return this.query["header-only"]=e,this}prepare(e){return xr(e.body,km)}};function cR(n={}){let e=n;return Object.keys(e).every(t=>t.toLowerCase()!=="content-type")&&(e={...n},e["Content-Type"]="text/plain"),e}class Vz extends Wt{constructor(e,t){super(e),this.source=t}path(){return"/v2/teal/compile"}sourcemap(e=!0){return this.query.sourcemap=e,this}executeRequest(e,t){const r=cR(e);return this.c.post({relativePath:this.path(),data:ua(this.source),query:this.query,requestHeaders:r,customOptions:t})}prepare(e){return pn(e.getJSONText(),Cm)}}class Bz extends Wt{constructor(e,t){super(e),this.blob=us(t)}path(){return"/v2/teal/dryrun"}executeRequest(e,t){const r=cR(e);return this.c.post({relativePath:this.path(),data:this.blob,requestHeaders:r,customOptions:t})}prepare(e){return pn(e.getJSONText(),Dm)}}class Uz extends Wt{path(){return"/genesis"}prepare(e){return e.getJSONText()}}class Lz extends Wt{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/assets/${this.index}`}prepare(e){return pn(e.getJSONText(),X0)}}class zz extends Wt{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/applications/${this.index}`}prepare(e){return pn(e.getJSONText(),nu)}}class qz extends Wt{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/blocks/${this.round}/hash`}prepare(e){return pn(e.getJSONText(),Tm)}}class $z extends Wt{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/blocks/${this.round}/txids`}prepare(e){return pn(e.getJSONText(),Im)}}class Hz extends Wt{constructor(e,t,r){super(e),this.index=BigInt(t);const s=si(r);this.query.name=encodeURI(`b64:${s}`)}path(){return`/v2/applications/${this.index}/box`}prepare(e){return pn(e.getJSONText(),iR)}}class Gz extends Wt{constructor(e,t){super(e),this.index=BigInt(t),this.query.max=0}path(){return`/v2/applications/${this.index}/boxes`}max(e){return this.query.max=e,this}prepare(e){return pn(e.getJSONText(),sR)}}let Kz=class extends Wt{path(){return"/health"}prepare(e){}};class Wz extends Wt{constructor(e,t){super(e),this.txid=t,this.query.format="msgpack"}prepare(e){return xr(e.body,$a)}path(){return`/v2/transactions/pending/${this.txid}`}max(e){return this.query.max=e,this}}class Yz extends Wt{constructor(e){super(e),this.query.format="msgpack"}path(){return"/v2/transactions/pending"}prepare(e){return xr(e.body,Fh)}max(e){return this.query.max=e,this}}class Jz extends Wt{constructor(e,t){super(e),this.address=t.toString(),this.query.format="msgpack"}prepare(e){return xr(e.body,Fh)}path(){return`/v2/accounts/${this.address}/transactions/pending`}max(e){return this.query.max=e,this}}class Qz extends Wt{constructor(e,t,r){super(e),this.txID=r,this.round=BigInt(t)}path(){return`/v2/blocks/${this.round}/transactions/${this.txID}/proof`}hashType(e){return this.query.hashtype=e,this}prepare(e){return pn(e.getJSONText(),Lm)}}function Xz(n={}){let e=n;return Object.keys(e).every(t=>t.toLowerCase()!=="content-type")&&(e={...n},e["Content-Type"]="application/x-binary"),e}function p6(n){return n&&n.byteLength!==void 0}class Zz extends Wt{constructor(e,t){super(e);let r=t;if(Array.isArray(t)){if(!t.every(p6))throw new TypeError("Array elements must be byte arrays");r=Lr(...t)}else if(!p6(r))throw new TypeError("Argument must be byte array");this.txnBytesToPost=r}path(){return"/v2/transactions"}executeRequest(e,t){const r=Xz(e);return this.c.post({relativePath:this.path(),data:this.txnBytesToPost,requestHeaders:r,customOptions:t})}prepare(e){return pn(e.getJSONText(),Om)}}class eq extends Wt{path(){return"/v2/status"}prepare(e){return pn(e.getJSONText(),Mh)}}class tq extends Wt{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/status/wait-for-block-after/${this.round}`}prepare(e){return pn(e.getJSONText(),Mh)}}class nq extends Wt{path(){return"/v2/transactions/params"}prepare(e){const t=pn(e.getJSONText(),Um);return{flatFee:!1,fee:t.fee,firstValid:t.lastRound,lastValid:t.lastRound+BigInt(1e3),genesisID:t.genesisId,genesisHash:t.genesisHash,minFee:t.minFee,consensusVersion:t.consensusVersion}}}class rq extends Wt{path(){return"/v2/ledger/supply"}prepare(e){return pn(e.getJSONText(),jm)}}class iq extends Wt{path(){return"/versions"}prepare(e){return pn(e.getJSONText(),zm)}}class sq extends Wt{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/blocks/${this.round}/lightheader/proof`}prepare(e){return pn(e.getJSONText(),aR)}}class aq extends Wt{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/stateproofs/${this.round}`}prepare(e){return pn(e.getJSONText(),oR)}}class oq extends Wt{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/ledger/sync/${this.round}`}executeRequest(e,t){return this.c.post({relativePath:this.path(),data:null,requestHeaders:e,customOptions:t})}prepare(e){}}class cq extends Wt{path(){return"/v2/ledger/sync"}prepare(e){return pn(e.getJSONText(),Fm)}}class lq extends Wt{constructor(e,t){super(e),this.offset=BigInt(t)}path(){return`/v2/devmode/blocks/offset/${this.offset}`}executeRequest(e,t){return this.c.post({relativePath:this.path(),data:null,requestHeaders:e,customOptions:t})}prepare(e){}}class uq extends Wt{path(){return"/v2/devmode/blocks/offset"}prepare(e){return pn(e.getJSONText(),Mm)}}function hq(n={}){let e=n;return Object.keys(e).every(t=>t.toLowerCase()!=="content-type")&&(e={...n},e["Content-Type"]="text/plain"),e}class dq extends Wt{constructor(e,t){super(e),this.source=t}path(){return"/v2/teal/disassemble"}executeRequest(e,t){const r=hq(e);return this.c.post({relativePath:this.path(),data:ua(this.source),query:this.query,requestHeaders:r,customOptions:t})}prepare(e){return pn(e.getJSONText(),Rm)}}function fq(n={}){let e=n;return Object.keys(e).every(t=>t.toLowerCase()!=="content-type")&&(e={...n},e["Content-Type"]="application/msgpack"),e}class mq extends Wt{constructor(e,t){super(e),this.query.format="msgpack",this.requestBytes=us(t)}path(){return"/v2/transactions/simulate"}executeRequest(e,t){const r=fq(e);return this.c.post({relativePath:this.path(),data:this.requestBytes,query:this.query,requestHeaders:r,customOptions:t})}prepare(e){return xr(e.body,Pm)}}class pq extends Wt{path(){return"/ready"}prepare(e){}}class gq extends Wt{path(){return"/v2/ledger/sync"}executeRequest(e,t){return this.c.delete({relativePath:this.path(),data:void 0,requestHeaders:e,customOptions:t})}prepare(e){}}class yq extends Wt{constructor(e,t){super(e),this.id=t,this.query={format:"msgpack"}}path(){return`/v2/deltas/txn/group/${this.id}`}prepare(e){return xr(e.body,oo)}}class wq extends Wt{constructor(e,t){super(e),this.round=BigInt(t),this.query={format:"msgpack"}}path(){return`/v2/deltas/${this.round}`}prepare(e){return xr(e.body,oo)}}class vq extends Wt{constructor(e,t){super(e),this.round=BigInt(t),this.query={format:"msgpack"}}path(){return`/v2/deltas/${this.round}/txn/group`}prepare(e){return xr(e.body,Bm)}}class xq extends ZE{constructor(e,t,r,s={}){super("X-Algo-API-Token",e,t,r,s)}healthCheck(){return new Kz(this.c)}versionsCheck(){return new iq(this.c)}sendRawTransaction(e){return new Zz(this.c,e)}accountInformation(e){return new Fz(this.c,e)}accountAssetInformation(e,t){return new Oz(this.c,e,t)}accountApplicationInformation(e,t){return new Pz(this.c,e,t)}block(e){return new jz(this.c,e)}getBlockHash(e){return new qz(this.c,e)}getBlockTxids(e){return new $z(this.c,e)}pendingTransactionInformation(e){return new Wz(this.c,e)}pendingTransactionsInformation(){return new Yz(this.c)}pendingTransactionByAddress(e){return new Jz(this.c,e)}status(){return new eq(this.c)}statusAfterBlock(e){return new tq(this.c,e)}getTransactionParams(){return new nq(this.c)}supply(){return new rq(this.c)}compile(e){return new Vz(this.c,e)}disassemble(e){return new dq(this.c,e)}dryrun(e){return new Bz(this.c,e)}getAssetByID(e){return new Lz(this.c,e)}getApplicationByID(e){return new zz(this.c,e)}getApplicationBoxByName(e,t){return new Hz(this.c,e,t)}getApplicationBoxes(e){return new Gz(this.c,e)}genesis(){return new Uz(this.c)}getTransactionProof(e,t){return new Qz(this.c,e,t)}getLightBlockHeaderProof(e){return new sq(this.c,e)}getStateProof(e){return new aq(this.c,e)}simulateRawTransactions(e){const t=[];if(Array.isArray(e))for(const s of e)t.push(xr(s,Jn));else t.push(xr(e,Jn));const r=new jh({txnGroups:[new gc({txns:t})]});return this.simulateTransactions(r)}simulateTransactions(e){return new mq(this.c,e)}setBlockOffsetTimestamp(e){return new lq(this.c,e)}getBlockOffsetTimestamp(){return new uq(this.c)}setSyncRound(e){return new oq(this.c,e)}unsetSyncRound(){return new gq(this.c)}getSyncRound(){return new cq(this.c)}ready(){return new pq(this.c)}getLedgerStateDeltaForTransactionGroup(e){return new yq(this.c,e)}getLedgerStateDelta(e){return new wq(this.c,e)}getTransactionGroupLedgerStateDeltasForRound(e){return new vq(this.c,e)}}class Sq extends ZE{constructor(e,t="http://127.0.0.1",r=7833,s={}){super("X-KMD-API-Token",e,t,r,s)}async get(e){return(await this.c.get({relativePath:e})).parseBodyAsJSON({intDecoding:Jr.SAFE})}async delete(e,t){return(await this.c.delete({relativePath:e,data:t})).parseBodyAsJSON({intDecoding:Jr.SAFE})}async post(e,t){return(await this.c.post({relativePath:e,data:t})).parseBodyAsJSON({intDecoding:Jr.SAFE})}async versions(){return this.get("/versions")}async listWallets(){return this.get("/v1/wallets")}async createWallet(e,t,r=new Uint8Array,s="sqlite"){const o={wallet_name:e,wallet_driver_name:s,wallet_password:t,master_derivation_key:si(r)};return this.post("/v1/wallet",o)}async initWalletHandle(e,t){const r={wallet_id:e,wallet_password:t};return this.post("/v1/wallet/init",r)}async releaseWalletHandle(e){const t={wallet_handle_token:e};return this.post("/v1/wallet/release",t)}async renewWalletHandle(e){const t={wallet_handle_token:e};return this.post("/v1/wallet/renew",t)}async renameWallet(e,t,r){const s={wallet_id:e,wallet_password:t,wallet_name:r};return this.post("/v1/wallet/rename",s)}async getWallet(e){const t={wallet_handle_token:e};return this.post("/v1/wallet/info",t)}async exportMasterDerivationKey(e,t){const r={wallet_handle_token:e,wallet_password:t},s=await this.post("/v1/master-key/export",r);return{master_derivation_key:yt(s.master_derivation_key)}}async importKey(e,t){const r={wallet_handle_token:e,private_key:si(t)};return this.post("/v1/key/import",r)}async exportKey(e,t,r){const s={wallet_handle_token:e,address:r,wallet_password:t},o=await this.post("/v1/key/export",s);return{private_key:yt(o.private_key)}}async generateKey(e){const t={wallet_handle_token:e,display_mnemonic:!1};return this.post("/v1/key",t)}async deleteKey(e,t,r){const s={wallet_handle_token:e,address:r,wallet_password:t};return this.delete("/v1/key",s)}async listKeys(e){const t={wallet_handle_token:e};return this.post("/v1/key/list",t)}async signTransaction(e,t,r){const s={wallet_handle_token:e,wallet_password:t,transaction:si(r.toByte())},o=await this.post("/v1/transaction/sign",s);return yt(o.signed_transaction)}async signTransactionWithSpecificPublicKey(e,t,r,s){const o=ua(s),l={wallet_handle_token:e,wallet_password:t,transaction:si(r.toByte()),public_key:si(o)},h=await this.post("/v1/transaction/sign",l);return yt(h.signed_transaction)}async listMultisig(e){const t={wallet_handle_token:e};return this.post("/v1/multisig/list",t)}async importMultisig(e,t,r,s){const o={wallet_handle_token:e,multisig_version:t,threshold:r,pks:s};return this.post("/v1/multisig/import",o)}async exportMultisig(e,t){const r={wallet_handle_token:e,address:t};return this.post("/v1/multisig/export",r)}async signMultisigTransaction(e,t,r,s,o){const l=ua(s),h={wallet_handle_token:e,transaction:si(r.toByte()),public_key:si(l),partial_multisig:o,wallet_password:t};return this.post("/v1/multisig/sign",h)}async deleteMultisig(e,t,r){const s={wallet_handle_token:e,address:r,wallet_password:t};return this.delete("/v1/multisig",s)}}class vc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new Je,omitEmpty:!0},{key:"amount",valueSchema:new Z,omitEmpty:!0},{key:"amount-without-pending-rewards",valueSchema:new Z,omitEmpty:!0},{key:"min-balance",valueSchema:new Z,omitEmpty:!0},{key:"pending-rewards",valueSchema:new Z,omitEmpty:!0},{key:"rewards",valueSchema:new Z,omitEmpty:!0},{key:"round",valueSchema:new Z,omitEmpty:!0},{key:"status",valueSchema:new Je,omitEmpty:!0},{key:"total-apps-opted-in",valueSchema:new Z,omitEmpty:!0},{key:"total-assets-opted-in",valueSchema:new Z,omitEmpty:!0},{key:"total-box-bytes",valueSchema:new Z,omitEmpty:!0},{key:"total-boxes",valueSchema:new Z,omitEmpty:!0},{key:"total-created-apps",valueSchema:new Z,omitEmpty:!0},{key:"total-created-assets",valueSchema:new Z,omitEmpty:!0},{key:"apps-local-state",valueSchema:new V(new rt(xc.encodingSchema)),omitEmpty:!0},{key:"apps-total-extra-pages",valueSchema:new V(new Z),omitEmpty:!0},{key:"apps-total-schema",valueSchema:new V(os.encodingSchema),omitEmpty:!0},{key:"assets",valueSchema:new V(new rt(Sc.encodingSchema)),omitEmpty:!0},{key:"auth-addr",valueSchema:new V(new Je),omitEmpty:!0},{key:"closed-at-round",valueSchema:new V(new Z),omitEmpty:!0},{key:"created-apps",valueSchema:new V(new rt(da.encodingSchema)),omitEmpty:!0},{key:"created-assets",valueSchema:new V(new rt(fa.encodingSchema)),omitEmpty:!0},{key:"created-at-round",valueSchema:new V(new Z),omitEmpty:!0},{key:"deleted",valueSchema:new V(new sn),omitEmpty:!0},{key:"incentive-eligible",valueSchema:new V(new sn),omitEmpty:!0},{key:"last-heartbeat",valueSchema:new V(new Z),omitEmpty:!0},{key:"last-proposed",valueSchema:new V(new Z),omitEmpty:!0},{key:"participation",valueSchema:new V(zh.encodingSchema),omitEmpty:!0},{key:"reward-base",valueSchema:new V(new Z),omitEmpty:!0},{key:"sig-type",valueSchema:new V(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,amount:t,amountWithoutPendingRewards:r,minBalance:s,pendingRewards:o,rewards:l,round:h,status:p,totalAppsOptedIn:f,totalAssetsOptedIn:v,totalBoxBytes:S,totalBoxes:C,totalCreatedApps:R,totalCreatedAssets:B,appsLocalState:re,appsTotalExtraPages:N,appsTotalSchema:U,assets:q,authAddr:G,closedAtRound:he,createdApps:pe,createdAssets:K,createdAtRound:P,deleted:M,incentiveEligible:H,lastHeartbeat:A,lastProposed:y,participation:x,rewardBase:E,sigType:$}){this.address=e,this.amount=He(t),this.amountWithoutPendingRewards=He(r),this.minBalance=ft(s),this.pendingRewards=He(o),this.rewards=He(l),this.round=He(h),this.status=p,this.totalAppsOptedIn=ft(f),this.totalAssetsOptedIn=ft(v),this.totalBoxBytes=ft(S),this.totalBoxes=ft(C),this.totalCreatedApps=ft(R),this.totalCreatedAssets=ft(B),this.appsLocalState=re,this.appsTotalExtraPages=typeof N>"u"?void 0:ft(N),this.appsTotalSchema=U,this.assets=q,this.authAddr=typeof G=="string"?Kt.fromString(G):G,this.closedAtRound=typeof he>"u"?void 0:He(he),this.createdApps=pe,this.createdAssets=K,this.createdAtRound=typeof P>"u"?void 0:He(P),this.deleted=M,this.incentiveEligible=H,this.lastHeartbeat=typeof A>"u"?void 0:ft(A),this.lastProposed=typeof y>"u"?void 0:ft(y),this.participation=x,this.rewardBase=typeof E>"u"?void 0:He(E),this.sigType=$}getEncodingSchema(){return vc.encodingSchema}toEncodingData(){return new Map([["address",this.address],["amount",this.amount],["amount-without-pending-rewards",this.amountWithoutPendingRewards],["min-balance",this.minBalance],["pending-rewards",this.pendingRewards],["rewards",this.rewards],["round",this.round],["status",this.status],["total-apps-opted-in",this.totalAppsOptedIn],["total-assets-opted-in",this.totalAssetsOptedIn],["total-box-bytes",this.totalBoxBytes],["total-boxes",this.totalBoxes],["total-created-apps",this.totalCreatedApps],["total-created-assets",this.totalCreatedAssets],["apps-local-state",typeof this.appsLocalState<"u"?this.appsLocalState.map(e=>e.toEncodingData()):void 0],["apps-total-extra-pages",this.appsTotalExtraPages],["apps-total-schema",typeof this.appsTotalSchema<"u"?this.appsTotalSchema.toEncodingData():void 0],["assets",typeof this.assets<"u"?this.assets.map(e=>e.toEncodingData()):void 0],["auth-addr",typeof this.authAddr<"u"?this.authAddr.toString():void 0],["closed-at-round",this.closedAtRound],["created-apps",typeof this.createdApps<"u"?this.createdApps.map(e=>e.toEncodingData()):void 0],["created-assets",typeof this.createdAssets<"u"?this.createdAssets.map(e=>e.toEncodingData()):void 0],["created-at-round",this.createdAtRound],["deleted",this.deleted],["incentive-eligible",this.incentiveEligible],["last-heartbeat",this.lastHeartbeat],["last-proposed",this.lastProposed],["participation",typeof this.participation<"u"?this.participation.toEncodingData():void 0],["reward-base",this.rewardBase],["sig-type",this.sigType]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Account: ${e}`);return new vc({address:e.get("address"),amount:e.get("amount"),amountWithoutPendingRewards:e.get("amount-without-pending-rewards"),minBalance:e.get("min-balance"),pendingRewards:e.get("pending-rewards"),rewards:e.get("rewards"),round:e.get("round"),status:e.get("status"),totalAppsOptedIn:e.get("total-apps-opted-in"),totalAssetsOptedIn:e.get("total-assets-opted-in"),totalBoxBytes:e.get("total-box-bytes"),totalBoxes:e.get("total-boxes"),totalCreatedApps:e.get("total-created-apps"),totalCreatedAssets:e.get("total-created-assets"),appsLocalState:typeof e.get("apps-local-state")<"u"?e.get("apps-local-state").map(t=>xc.fromEncodingData(t)):void 0,appsTotalExtraPages:e.get("apps-total-extra-pages"),appsTotalSchema:typeof e.get("apps-total-schema")<"u"?os.fromEncodingData(e.get("apps-total-schema")):void 0,assets:typeof e.get("assets")<"u"?e.get("assets").map(t=>Sc.fromEncodingData(t)):void 0,authAddr:e.get("auth-addr"),closedAtRound:e.get("closed-at-round"),createdApps:typeof e.get("created-apps")<"u"?e.get("created-apps").map(t=>da.fromEncodingData(t)):void 0,createdAssets:typeof e.get("created-assets")<"u"?e.get("created-assets").map(t=>fa.fromEncodingData(t)):void 0,createdAtRound:e.get("created-at-round"),deleted:e.get("deleted"),incentiveEligible:e.get("incentive-eligible"),lastHeartbeat:e.get("last-heartbeat"),lastProposed:e.get("last-proposed"),participation:typeof e.get("participation")<"u"?zh.fromEncodingData(e.get("participation")):void 0,rewardBase:e.get("reward-base"),sigType:e.get("sig-type")})}}class zh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"selection-participation-key",valueSchema:new dt,omitEmpty:!0},{key:"vote-first-valid",valueSchema:new Z,omitEmpty:!0},{key:"vote-key-dilution",valueSchema:new Z,omitEmpty:!0},{key:"vote-last-valid",valueSchema:new Z,omitEmpty:!0},{key:"vote-participation-key",valueSchema:new dt,omitEmpty:!0},{key:"state-proof-key",valueSchema:new V(new dt),omitEmpty:!0})),this.encodingSchemaValue}constructor({selectionParticipationKey:e,voteFirstValid:t,voteKeyDilution:r,voteLastValid:s,voteParticipationKey:o,stateProofKey:l}){this.selectionParticipationKey=typeof e=="string"?yt(e):e,this.voteFirstValid=He(t),this.voteKeyDilution=He(r),this.voteLastValid=He(s),this.voteParticipationKey=typeof o=="string"?yt(o):o,this.stateProofKey=typeof l=="string"?yt(l):l}getEncodingSchema(){return zh.encodingSchema}toEncodingData(){return new Map([["selection-participation-key",this.selectionParticipationKey],["vote-first-valid",this.voteFirstValid],["vote-key-dilution",this.voteKeyDilution],["vote-last-valid",this.voteLastValid],["vote-participation-key",this.voteParticipationKey],["state-proof-key",this.stateProofKey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountParticipation: ${e}`);return new zh({selectionParticipationKey:e.get("selection-participation-key"),voteFirstValid:e.get("vote-first-valid"),voteKeyDilution:e.get("vote-key-dilution"),voteLastValid:e.get("vote-last-valid"),voteParticipationKey:e.get("vote-participation-key"),stateProofKey:e.get("state-proof-key")})}}class qm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"account",valueSchema:vc.encodingSchema,omitEmpty:!0},{key:"current-round",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({account:e,currentRound:t}){this.account=e,this.currentRound=He(t)}getEncodingSchema(){return qm.encodingSchema}toEncodingData(){return new Map([["account",this.account.toEncodingData()],["current-round",this.currentRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountResponse: ${e}`);return new qm({account:vc.fromEncodingData(e.get("account")??new Map),currentRound:e.get("current-round")})}}class qh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new Je,omitEmpty:!0},{key:"delta",valueSchema:new rt(_c.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,delta:t}){this.address=e,this.delta=t}getEncodingSchema(){return qh.encodingSchema}toEncodingData(){return new Map([["address",this.address],["delta",this.delta.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountStateDelta: ${e}`);return new qh({address:e.get("address"),delta:(e.get("delta")??[]).map(t=>_c.fromEncodingData(t))})}}class $m{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"accounts",valueSchema:new rt(vc.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Z,omitEmpty:!0},{key:"next-token",valueSchema:new V(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({accounts:e,currentRound:t,nextToken:r}){this.accounts=e,this.currentRound=He(t),this.nextToken=r}getEncodingSchema(){return $m.encodingSchema}toEncodingData(){return new Map([["accounts",this.accounts.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountsResponse: ${e}`);return new $m({accounts:(e.get("accounts")??[]).map(t=>vc.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class da{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new Z,omitEmpty:!0},{key:"params",valueSchema:Hh.encodingSchema,omitEmpty:!0},{key:"created-at-round",valueSchema:new V(new Z),omitEmpty:!0},{key:"deleted",valueSchema:new V(new sn),omitEmpty:!0},{key:"deleted-at-round",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:e,params:t,createdAtRound:r,deleted:s,deletedAtRound:o}){this.id=He(e),this.params=t,this.createdAtRound=typeof r>"u"?void 0:He(r),this.deleted=s,this.deletedAtRound=typeof o>"u"?void 0:He(o)}getEncodingSchema(){return da.encodingSchema}toEncodingData(){return new Map([["id",this.id],["params",this.params.toEncodingData()],["created-at-round",this.createdAtRound],["deleted",this.deleted],["deleted-at-round",this.deletedAtRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Application: ${e}`);return new da({id:e.get("id"),params:Hh.fromEncodingData(e.get("params")??new Map),createdAtRound:e.get("created-at-round"),deleted:e.get("deleted"),deletedAtRound:e.get("deleted-at-round")})}}class xc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new Z,omitEmpty:!0},{key:"schema",valueSchema:os.encodingSchema,omitEmpty:!0},{key:"closed-out-at-round",valueSchema:new V(new Z),omitEmpty:!0},{key:"deleted",valueSchema:new V(new sn),omitEmpty:!0},{key:"key-value",valueSchema:new V(new rt(Ac.encodingSchema)),omitEmpty:!0},{key:"opted-in-at-round",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:e,schema:t,closedOutAtRound:r,deleted:s,keyValue:o,optedInAtRound:l}){this.id=He(e),this.schema=t,this.closedOutAtRound=typeof r>"u"?void 0:He(r),this.deleted=s,this.keyValue=o,this.optedInAtRound=typeof l>"u"?void 0:He(l)}getEncodingSchema(){return xc.encodingSchema}toEncodingData(){return new Map([["id",this.id],["schema",this.schema.toEncodingData()],["closed-out-at-round",this.closedOutAtRound],["deleted",this.deleted],["key-value",typeof this.keyValue<"u"?this.keyValue.map(e=>e.toEncodingData()):void 0],["opted-in-at-round",this.optedInAtRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLocalState: ${e}`);return new xc({id:e.get("id"),schema:os.fromEncodingData(e.get("schema")??new Map),closedOutAtRound:e.get("closed-out-at-round"),deleted:e.get("deleted"),keyValue:typeof e.get("key-value")<"u"?e.get("key-value").map(t=>Ac.fromEncodingData(t)):void 0,optedInAtRound:e.get("opted-in-at-round")})}}class Hm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"apps-local-states",valueSchema:new rt(xc.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Z,omitEmpty:!0},{key:"next-token",valueSchema:new V(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({appsLocalStates:e,currentRound:t,nextToken:r}){this.appsLocalStates=e,this.currentRound=He(t),this.nextToken=r}getEncodingSchema(){return Hm.encodingSchema}toEncodingData(){return new Map([["apps-local-states",this.appsLocalStates.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLocalStatesResponse: ${e}`);return new Hm({appsLocalStates:(e.get("apps-local-states")??[]).map(t=>xc.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class $h{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"logs",valueSchema:new rt(new dt),omitEmpty:!0},{key:"txid",valueSchema:new Je,omitEmpty:!0})),this.encodingSchemaValue}constructor({logs:e,txid:t}){this.logs=e,this.txid=t}getEncodingSchema(){return $h.encodingSchema}toEncodingData(){return new Map([["logs",this.logs],["txid",this.txid]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLogData: ${e}`);return new $h({logs:e.get("logs"),txid:e.get("txid")})}}class Gm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"application-id",valueSchema:new Z,omitEmpty:!0},{key:"current-round",valueSchema:new Z,omitEmpty:!0},{key:"log-data",valueSchema:new V(new rt($h.encodingSchema)),omitEmpty:!0},{key:"next-token",valueSchema:new V(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationId:e,currentRound:t,logData:r,nextToken:s}){this.applicationId=He(e),this.currentRound=He(t),this.logData=r,this.nextToken=s}getEncodingSchema(){return Gm.encodingSchema}toEncodingData(){return new Map([["application-id",this.applicationId],["current-round",this.currentRound],["log-data",typeof this.logData<"u"?this.logData.map(e=>e.toEncodingData()):void 0],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLogsResponse: ${e}`);return new Gm({applicationId:e.get("application-id"),currentRound:e.get("current-round"),logData:typeof e.get("log-data")<"u"?e.get("log-data").map(t=>$h.fromEncodingData(t)):void 0,nextToken:e.get("next-token")})}}class Hh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"approval-program",valueSchema:new dt,omitEmpty:!0},{key:"clear-state-program",valueSchema:new dt,omitEmpty:!0},{key:"creator",valueSchema:new V(new Je),omitEmpty:!0},{key:"extra-program-pages",valueSchema:new V(new Z),omitEmpty:!0},{key:"global-state",valueSchema:new V(new rt(Ac.encodingSchema)),omitEmpty:!0},{key:"global-state-schema",valueSchema:new V(os.encodingSchema),omitEmpty:!0},{key:"local-state-schema",valueSchema:new V(os.encodingSchema),omitEmpty:!0},{key:"version",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({approvalProgram:e,clearStateProgram:t,creator:r,extraProgramPages:s,globalState:o,globalStateSchema:l,localStateSchema:h,version:p}){this.approvalProgram=typeof e=="string"?yt(e):e,this.clearStateProgram=typeof t=="string"?yt(t):t,this.creator=typeof r=="string"?Kt.fromString(r):r,this.extraProgramPages=typeof s>"u"?void 0:ft(s),this.globalState=o,this.globalStateSchema=l,this.localStateSchema=h,this.version=typeof p>"u"?void 0:ft(p)}getEncodingSchema(){return Hh.encodingSchema}toEncodingData(){return new Map([["approval-program",this.approvalProgram],["clear-state-program",this.clearStateProgram],["creator",typeof this.creator<"u"?this.creator.toString():void 0],["extra-program-pages",this.extraProgramPages],["global-state",typeof this.globalState<"u"?this.globalState.map(e=>e.toEncodingData()):void 0],["global-state-schema",typeof this.globalStateSchema<"u"?this.globalStateSchema.toEncodingData():void 0],["local-state-schema",typeof this.localStateSchema<"u"?this.localStateSchema.toEncodingData():void 0],["version",this.version]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationParams: ${e}`);return new Hh({approvalProgram:e.get("approval-program"),clearStateProgram:e.get("clear-state-program"),creator:e.get("creator"),extraProgramPages:e.get("extra-program-pages"),globalState:typeof e.get("global-state")<"u"?e.get("global-state").map(t=>Ac.fromEncodingData(t)):void 0,globalStateSchema:typeof e.get("global-state-schema")<"u"?os.fromEncodingData(e.get("global-state-schema")):void 0,localStateSchema:typeof e.get("local-state-schema")<"u"?os.fromEncodingData(e.get("local-state-schema")):void 0,version:e.get("version")})}}class Km{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"current-round",valueSchema:new Z,omitEmpty:!0},{key:"application",valueSchema:new V(da.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:e,application:t}){this.currentRound=He(e),this.application=t}getEncodingSchema(){return Km.encodingSchema}toEncodingData(){return new Map([["current-round",this.currentRound],["application",typeof this.application<"u"?this.application.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationResponse: ${e}`);return new Km({currentRound:e.get("current-round"),application:typeof e.get("application")<"u"?da.fromEncodingData(e.get("application")):void 0})}}class os{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"num-byte-slice",valueSchema:new Z,omitEmpty:!0},{key:"num-uint",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({numByteSlice:e,numUint:t}){this.numByteSlice=ft(e),this.numUint=ft(t)}getEncodingSchema(){return os.encodingSchema}toEncodingData(){return new Map([["num-byte-slice",this.numByteSlice],["num-uint",this.numUint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationStateSchema: ${e}`);return new os({numByteSlice:e.get("num-byte-slice"),numUint:e.get("num-uint")})}}class Gh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"applications",valueSchema:new rt(da.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Z,omitEmpty:!0},{key:"next-token",valueSchema:new V(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({applications:e,currentRound:t,nextToken:r}){this.applications=e,this.currentRound=He(t),this.nextToken=r}getEncodingSchema(){return Gh.encodingSchema}toEncodingData(){return new Map([["applications",this.applications.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationsResponse: ${e}`);return new Gh({applications:(e.get("applications")??[]).map(t=>da.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class fa{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"index",valueSchema:new Z,omitEmpty:!0},{key:"params",valueSchema:Ec.encodingSchema,omitEmpty:!0},{key:"created-at-round",valueSchema:new V(new Z),omitEmpty:!0},{key:"deleted",valueSchema:new V(new sn),omitEmpty:!0},{key:"destroyed-at-round",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({index:e,params:t,createdAtRound:r,deleted:s,destroyedAtRound:o}){this.index=He(e),this.params=t,this.createdAtRound=typeof r>"u"?void 0:He(r),this.deleted=s,this.destroyedAtRound=typeof o>"u"?void 0:He(o)}getEncodingSchema(){return fa.encodingSchema}toEncodingData(){return new Map([["index",this.index],["params",this.params.toEncodingData()],["created-at-round",this.createdAtRound],["deleted",this.deleted],["destroyed-at-round",this.destroyedAtRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Asset: ${e}`);return new fa({index:e.get("index"),params:Ec.fromEncodingData(e.get("params")??new Map),createdAtRound:e.get("created-at-round"),deleted:e.get("deleted"),destroyedAtRound:e.get("destroyed-at-round")})}}class Wm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"balances",valueSchema:new rt(id.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Z,omitEmpty:!0},{key:"next-token",valueSchema:new V(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({balances:e,currentRound:t,nextToken:r}){this.balances=e,this.currentRound=He(t),this.nextToken=r}getEncodingSchema(){return Wm.encodingSchema}toEncodingData(){return new Map([["balances",this.balances.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetBalancesResponse: ${e}`);return new Wm({balances:(e.get("balances")??[]).map(t=>id.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class Sc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new Z,omitEmpty:!0},{key:"asset-id",valueSchema:new Z,omitEmpty:!0},{key:"is-frozen",valueSchema:new sn,omitEmpty:!0},{key:"deleted",valueSchema:new V(new sn),omitEmpty:!0},{key:"opted-in-at-round",valueSchema:new V(new Z),omitEmpty:!0},{key:"opted-out-at-round",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:e,assetId:t,isFrozen:r,deleted:s,optedInAtRound:o,optedOutAtRound:l}){this.amount=He(e),this.assetId=He(t),this.isFrozen=r,this.deleted=s,this.optedInAtRound=typeof o>"u"?void 0:He(o),this.optedOutAtRound=typeof l>"u"?void 0:He(l)}getEncodingSchema(){return Sc.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["asset-id",this.assetId],["is-frozen",this.isFrozen],["deleted",this.deleted],["opted-in-at-round",this.optedInAtRound],["opted-out-at-round",this.optedOutAtRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHolding: ${e}`);return new Sc({amount:e.get("amount"),assetId:e.get("asset-id"),isFrozen:e.get("is-frozen"),deleted:e.get("deleted"),optedInAtRound:e.get("opted-in-at-round"),optedOutAtRound:e.get("opted-out-at-round")})}}class Ym{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"assets",valueSchema:new rt(Sc.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Z,omitEmpty:!0},{key:"next-token",valueSchema:new V(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({assets:e,currentRound:t,nextToken:r}){this.assets=e,this.currentRound=He(t),this.nextToken=r}getEncodingSchema(){return Ym.encodingSchema}toEncodingData(){return new Map([["assets",this.assets.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHoldingsResponse: ${e}`);return new Ym({assets:(e.get("assets")??[]).map(t=>Sc.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class Ec{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"creator",valueSchema:new Je,omitEmpty:!0},{key:"decimals",valueSchema:new Z,omitEmpty:!0},{key:"total",valueSchema:new Z,omitEmpty:!0},{key:"clawback",valueSchema:new V(new Je),omitEmpty:!0},{key:"default-frozen",valueSchema:new V(new sn),omitEmpty:!0},{key:"freeze",valueSchema:new V(new Je),omitEmpty:!0},{key:"manager",valueSchema:new V(new Je),omitEmpty:!0},{key:"metadata-hash",valueSchema:new V(new dt),omitEmpty:!0},{key:"name",valueSchema:new V(new Je),omitEmpty:!0},{key:"name-b64",valueSchema:new V(new dt),omitEmpty:!0},{key:"reserve",valueSchema:new V(new Je),omitEmpty:!0},{key:"unit-name",valueSchema:new V(new Je),omitEmpty:!0},{key:"unit-name-b64",valueSchema:new V(new dt),omitEmpty:!0},{key:"url",valueSchema:new V(new Je),omitEmpty:!0},{key:"url-b64",valueSchema:new V(new dt),omitEmpty:!0})),this.encodingSchemaValue}constructor({creator:e,decimals:t,total:r,clawback:s,defaultFrozen:o,freeze:l,manager:h,metadataHash:p,name:f,nameB64:v,reserve:S,unitName:C,unitNameB64:R,url:B,urlB64:re}){this.creator=e,this.decimals=ft(t),this.total=He(r),this.clawback=s,this.defaultFrozen=o,this.freeze=l,this.manager=h,this.metadataHash=typeof p=="string"?yt(p):p,this.name=f,this.nameB64=typeof v=="string"?yt(v):v,this.reserve=S,this.unitName=C,this.unitNameB64=typeof R=="string"?yt(R):R,this.url=B,this.urlB64=typeof re=="string"?yt(re):re}getEncodingSchema(){return Ec.encodingSchema}toEncodingData(){return new Map([["creator",this.creator],["decimals",this.decimals],["total",this.total],["clawback",this.clawback],["default-frozen",this.defaultFrozen],["freeze",this.freeze],["manager",this.manager],["metadata-hash",this.metadataHash],["name",this.name],["name-b64",this.nameB64],["reserve",this.reserve],["unit-name",this.unitName],["unit-name-b64",this.unitNameB64],["url",this.url],["url-b64",this.urlB64]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetParams: ${e}`);return new Ec({creator:e.get("creator"),decimals:e.get("decimals"),total:e.get("total"),clawback:e.get("clawback"),defaultFrozen:e.get("default-frozen"),freeze:e.get("freeze"),manager:e.get("manager"),metadataHash:e.get("metadata-hash"),name:e.get("name"),nameB64:e.get("name-b64"),reserve:e.get("reserve"),unitName:e.get("unit-name"),unitNameB64:e.get("unit-name-b64"),url:e.get("url"),urlB64:e.get("url-b64")})}}class Jm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"asset",valueSchema:fa.encodingSchema,omitEmpty:!0},{key:"current-round",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({asset:e,currentRound:t}){this.asset=e,this.currentRound=He(t)}getEncodingSchema(){return Jm.encodingSchema}toEncodingData(){return new Map([["asset",this.asset.toEncodingData()],["current-round",this.currentRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetResponse: ${e}`);return new Jm({asset:fa.fromEncodingData(e.get("asset")??new Map),currentRound:e.get("current-round")})}}class Kh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"assets",valueSchema:new rt(fa.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Z,omitEmpty:!0},{key:"next-token",valueSchema:new V(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({assets:e,currentRound:t,nextToken:r}){this.assets=e,this.currentRound=He(t),this.nextToken=r}getEncodingSchema(){return Kh.encodingSchema}toEncodingData(){return new Map([["assets",this.assets.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetsResponse: ${e}`);return new Kh({assets:(e.get("assets")??[]).map(t=>fa.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class au{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"genesis-hash",valueSchema:new dt,omitEmpty:!0},{key:"genesis-id",valueSchema:new Je,omitEmpty:!0},{key:"previous-block-hash",valueSchema:new dt,omitEmpty:!0},{key:"round",valueSchema:new Z,omitEmpty:!0},{key:"seed",valueSchema:new dt,omitEmpty:!0},{key:"timestamp",valueSchema:new Z,omitEmpty:!0},{key:"transactions-root",valueSchema:new dt,omitEmpty:!0},{key:"transactions-root-sha256",valueSchema:new dt,omitEmpty:!0},{key:"bonus",valueSchema:new V(new Z),omitEmpty:!0},{key:"fees-collected",valueSchema:new V(new Z),omitEmpty:!0},{key:"participation-updates",valueSchema:new V(sd.encodingSchema),omitEmpty:!0},{key:"previous-block-hash-512",valueSchema:new V(new dt),omitEmpty:!0},{key:"proposer",valueSchema:new V(new Je),omitEmpty:!0},{key:"proposer-payout",valueSchema:new V(new Z),omitEmpty:!0},{key:"rewards",valueSchema:new V(Wh.encodingSchema),omitEmpty:!0},{key:"state-proof-tracking",valueSchema:new V(new rt(dd.encodingSchema)),omitEmpty:!0},{key:"transactions",valueSchema:new V(new rt(cs.encodingSchema)),omitEmpty:!0},{key:"transactions-root-sha512",valueSchema:new V(new dt),omitEmpty:!0},{key:"txn-counter",valueSchema:new V(new Z),omitEmpty:!0},{key:"upgrade-state",valueSchema:new V(Yh.encodingSchema),omitEmpty:!0},{key:"upgrade-vote",valueSchema:new V(Jh.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({genesisHash:e,genesisId:t,previousBlockHash:r,round:s,seed:o,timestamp:l,transactionsRoot:h,transactionsRootSha256:p,bonus:f,feesCollected:v,participationUpdates:S,previousBlockHash512:C,proposer:R,proposerPayout:B,rewards:re,stateProofTracking:N,transactions:U,transactionsRootSha512:q,txnCounter:G,upgradeState:he,upgradeVote:pe}){this.genesisHash=typeof e=="string"?yt(e):e,this.genesisId=t,this.previousBlockHash=typeof r=="string"?yt(r):r,this.round=He(s),this.seed=typeof o=="string"?yt(o):o,this.timestamp=ft(l),this.transactionsRoot=typeof h=="string"?yt(h):h,this.transactionsRootSha256=typeof p=="string"?yt(p):p,this.bonus=typeof f>"u"?void 0:ft(f),this.feesCollected=typeof v>"u"?void 0:ft(v),this.participationUpdates=S,this.previousBlockHash512=typeof C=="string"?yt(C):C,this.proposer=typeof R=="string"?Kt.fromString(R):R,this.proposerPayout=typeof B>"u"?void 0:ft(B),this.rewards=re,this.stateProofTracking=N,this.transactions=U,this.transactionsRootSha512=typeof q=="string"?yt(q):q,this.txnCounter=typeof G>"u"?void 0:ft(G),this.upgradeState=he,this.upgradeVote=pe}getEncodingSchema(){return au.encodingSchema}toEncodingData(){return new Map([["genesis-hash",this.genesisHash],["genesis-id",this.genesisId],["previous-block-hash",this.previousBlockHash],["round",this.round],["seed",this.seed],["timestamp",this.timestamp],["transactions-root",this.transactionsRoot],["transactions-root-sha256",this.transactionsRootSha256],["bonus",this.bonus],["fees-collected",this.feesCollected],["participation-updates",typeof this.participationUpdates<"u"?this.participationUpdates.toEncodingData():void 0],["previous-block-hash-512",this.previousBlockHash512],["proposer",typeof this.proposer<"u"?this.proposer.toString():void 0],["proposer-payout",this.proposerPayout],["rewards",typeof this.rewards<"u"?this.rewards.toEncodingData():void 0],["state-proof-tracking",typeof this.stateProofTracking<"u"?this.stateProofTracking.map(e=>e.toEncodingData()):void 0],["transactions",typeof this.transactions<"u"?this.transactions.map(e=>e.toEncodingData()):void 0],["transactions-root-sha512",this.transactionsRootSha512],["txn-counter",this.txnCounter],["upgrade-state",typeof this.upgradeState<"u"?this.upgradeState.toEncodingData():void 0],["upgrade-vote",typeof this.upgradeVote<"u"?this.upgradeVote.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Block: ${e}`);return new au({genesisHash:e.get("genesis-hash"),genesisId:e.get("genesis-id"),previousBlockHash:e.get("previous-block-hash"),round:e.get("round"),seed:e.get("seed"),timestamp:e.get("timestamp"),transactionsRoot:e.get("transactions-root"),transactionsRootSha256:e.get("transactions-root-sha256"),bonus:e.get("bonus"),feesCollected:e.get("fees-collected"),participationUpdates:typeof e.get("participation-updates")<"u"?sd.fromEncodingData(e.get("participation-updates")):void 0,previousBlockHash512:e.get("previous-block-hash-512"),proposer:e.get("proposer"),proposerPayout:e.get("proposer-payout"),rewards:typeof e.get("rewards")<"u"?Wh.fromEncodingData(e.get("rewards")):void 0,stateProofTracking:typeof e.get("state-proof-tracking")<"u"?e.get("state-proof-tracking").map(t=>dd.fromEncodingData(t)):void 0,transactions:typeof e.get("transactions")<"u"?e.get("transactions").map(t=>cs.fromEncodingData(t)):void 0,transactionsRootSha512:e.get("transactions-root-sha512"),txnCounter:e.get("txn-counter"),upgradeState:typeof e.get("upgrade-state")<"u"?Yh.fromEncodingData(e.get("upgrade-state")):void 0,upgradeVote:typeof e.get("upgrade-vote")<"u"?Jh.fromEncodingData(e.get("upgrade-vote")):void 0})}}class Qm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"blocks",valueSchema:new rt(au.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new Z,omitEmpty:!0},{key:"next-token",valueSchema:new V(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({blocks:e,currentRound:t,nextToken:r}){this.blocks=e,this.currentRound=He(t),this.nextToken=r}getEncodingSchema(){return Qm.encodingSchema}toEncodingData(){return new Map([["blocks",this.blocks.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockHeadersResponse: ${e}`);return new Qm({blocks:(e.get("blocks")??[]).map(t=>au.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class Wh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"fee-sink",valueSchema:new Je,omitEmpty:!0},{key:"rewards-calculation-round",valueSchema:new Z,omitEmpty:!0},{key:"rewards-level",valueSchema:new Z,omitEmpty:!0},{key:"rewards-pool",valueSchema:new Je,omitEmpty:!0},{key:"rewards-rate",valueSchema:new Z,omitEmpty:!0},{key:"rewards-residue",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({feeSink:e,rewardsCalculationRound:t,rewardsLevel:r,rewardsPool:s,rewardsRate:o,rewardsResidue:l}){this.feeSink=e,this.rewardsCalculationRound=He(t),this.rewardsLevel=He(r),this.rewardsPool=s,this.rewardsRate=He(o),this.rewardsResidue=He(l)}getEncodingSchema(){return Wh.encodingSchema}toEncodingData(){return new Map([["fee-sink",this.feeSink],["rewards-calculation-round",this.rewardsCalculationRound],["rewards-level",this.rewardsLevel],["rewards-pool",this.rewardsPool],["rewards-rate",this.rewardsRate],["rewards-residue",this.rewardsResidue]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockRewards: ${e}`);return new Wh({feeSink:e.get("fee-sink"),rewardsCalculationRound:e.get("rewards-calculation-round"),rewardsLevel:e.get("rewards-level"),rewardsPool:e.get("rewards-pool"),rewardsRate:e.get("rewards-rate"),rewardsResidue:e.get("rewards-residue")})}}class Yh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"current-protocol",valueSchema:new Je,omitEmpty:!0},{key:"next-protocol",valueSchema:new V(new Je),omitEmpty:!0},{key:"next-protocol-approvals",valueSchema:new V(new Z),omitEmpty:!0},{key:"next-protocol-switch-on",valueSchema:new V(new Z),omitEmpty:!0},{key:"next-protocol-vote-before",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({currentProtocol:e,nextProtocol:t,nextProtocolApprovals:r,nextProtocolSwitchOn:s,nextProtocolVoteBefore:o}){this.currentProtocol=e,this.nextProtocol=t,this.nextProtocolApprovals=typeof r>"u"?void 0:ft(r),this.nextProtocolSwitchOn=typeof s>"u"?void 0:He(s),this.nextProtocolVoteBefore=typeof o>"u"?void 0:He(o)}getEncodingSchema(){return Yh.encodingSchema}toEncodingData(){return new Map([["current-protocol",this.currentProtocol],["next-protocol",this.nextProtocol],["next-protocol-approvals",this.nextProtocolApprovals],["next-protocol-switch-on",this.nextProtocolSwitchOn],["next-protocol-vote-before",this.nextProtocolVoteBefore]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockUpgradeState: ${e}`);return new Yh({currentProtocol:e.get("current-protocol"),nextProtocol:e.get("next-protocol"),nextProtocolApprovals:e.get("next-protocol-approvals"),nextProtocolSwitchOn:e.get("next-protocol-switch-on"),nextProtocolVoteBefore:e.get("next-protocol-vote-before")})}}class Jh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"upgrade-approve",valueSchema:new V(new sn),omitEmpty:!0},{key:"upgrade-delay",valueSchema:new V(new Z),omitEmpty:!0},{key:"upgrade-propose",valueSchema:new V(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({upgradeApprove:e,upgradeDelay:t,upgradePropose:r}){this.upgradeApprove=e,this.upgradeDelay=typeof t>"u"?void 0:He(t),this.upgradePropose=r}getEncodingSchema(){return Jh.encodingSchema}toEncodingData(){return new Map([["upgrade-approve",this.upgradeApprove],["upgrade-delay",this.upgradeDelay],["upgrade-propose",this.upgradePropose]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockUpgradeVote: ${e}`);return new Jh({upgradeApprove:e.get("upgrade-approve"),upgradeDelay:e.get("upgrade-delay"),upgradePropose:e.get("upgrade-propose")})}}class Xm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new dt,omitEmpty:!0},{key:"round",valueSchema:new Z,omitEmpty:!0},{key:"value",valueSchema:new dt,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:e,round:t,value:r}){this.name=typeof e=="string"?yt(e):e,this.round=He(t),this.value=typeof r=="string"?yt(r):r}getEncodingSchema(){return Xm.encodingSchema}toEncodingData(){return new Map([["name",this.name],["round",this.round],["value",this.value]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Box: ${e}`);return new Xm({name:e.get("name"),round:e.get("round"),value:e.get("value")})}}class Qh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new dt,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:e}){this.name=typeof e=="string"?yt(e):e}getEncodingSchema(){return Qh.encodingSchema}toEncodingData(){return new Map([["name",this.name]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxDescriptor: ${e}`);return new Qh({name:e.get("name")})}}class bc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"app",valueSchema:new Z,omitEmpty:!0},{key:"name",valueSchema:new dt,omitEmpty:!0})),this.encodingSchemaValue}constructor({app:e,name:t}){this.app=ft(e),this.name=typeof t=="string"?yt(t):t}getEncodingSchema(){return bc.encodingSchema}toEncodingData(){return new Map([["app",this.app],["name",this.name]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxReference: ${e}`);return new bc({app:e.get("app"),name:e.get("name")})}}class Zm{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"application-id",valueSchema:new Z,omitEmpty:!0},{key:"boxes",valueSchema:new rt(Qh.encodingSchema),omitEmpty:!0},{key:"next-token",valueSchema:new V(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationId:e,boxes:t,nextToken:r}){this.applicationId=He(e),this.boxes=t,this.nextToken=r}getEncodingSchema(){return Zm.encodingSchema}toEncodingData(){return new Map([["application-id",this.applicationId],["boxes",this.boxes.map(e=>e.toEncodingData())],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxesResponse: ${e}`);return new Zm({applicationId:e.get("application-id"),boxes:(e.get("boxes")??[]).map(t=>Qh.fromEncodingData(t)),nextToken:e.get("next-token")})}}class ey{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"message",valueSchema:new Je,omitEmpty:!0},{key:"data",valueSchema:new V(Qr.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({message:e,data:t}){this.message=e,this.data=t}getEncodingSchema(){return ey.encodingSchema}toEncodingData(){return new Map([["message",this.message],["data",typeof this.data<"u"?this.data.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ErrorResponse: ${e}`);return new ey({message:e.get("message"),data:typeof e.get("data")<"u"?Qr.fromEncodingData(e.get("data")):void 0})}}class Xh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"action",valueSchema:new Z,omitEmpty:!0},{key:"bytes",valueSchema:new V(new Je),omitEmpty:!0},{key:"uint",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({action:e,bytes:t,uint:r}){this.action=ft(e),this.bytes=t,this.uint=typeof r>"u"?void 0:He(r)}getEncodingSchema(){return Xh.encodingSchema}toEncodingData(){return new Map([["action",this.action],["bytes",this.bytes],["uint",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded EvalDelta: ${e}`);return new Xh({action:e.get("action"),bytes:e.get("bytes"),uint:e.get("uint")})}}class _c{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new Je,omitEmpty:!0},{key:"value",valueSchema:Xh.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:e,value:t}){this.key=e,this.value=t}getEncodingSchema(){return _c.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded EvalDeltaKeyValue: ${e}`);return new _c({key:e.get("key"),value:Xh.fromEncodingData(e.get("value")??new Map)})}}class Zh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"hash-type",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({hashType:e}){this.hashType=typeof e>"u"?void 0:ft(e)}getEncodingSchema(){return Zh.encodingSchema}toEncodingData(){return new Map([["hash-type",this.hashType]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HashFactory: ${e}`);return new Zh({hashType:e.get("hash-type")})}}class ed{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"hb-pk",valueSchema:new V(new dt),omitEmpty:!0},{key:"hb-pk1sig",valueSchema:new V(new dt),omitEmpty:!0},{key:"hb-pk2",valueSchema:new V(new dt),omitEmpty:!0},{key:"hb-pk2sig",valueSchema:new V(new dt),omitEmpty:!0},{key:"hb-sig",valueSchema:new V(new dt),omitEmpty:!0})),this.encodingSchemaValue}constructor({hbPk:e,hbPk1sig:t,hbPk2:r,hbPk2sig:s,hbSig:o}){this.hbPk=typeof e=="string"?yt(e):e,this.hbPk1sig=typeof t=="string"?yt(t):t,this.hbPk2=typeof r=="string"?yt(r):r,this.hbPk2sig=typeof s=="string"?yt(s):s,this.hbSig=typeof o=="string"?yt(o):o}getEncodingSchema(){return ed.encodingSchema}toEncodingData(){return new Map([["hb-pk",this.hbPk],["hb-pk1sig",this.hbPk1sig],["hb-pk2",this.hbPk2],["hb-pk2sig",this.hbPk2sig],["hb-sig",this.hbSig]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HbProofFields: ${e}`);return new ed({hbPk:e.get("hb-pk"),hbPk1sig:e.get("hb-pk1sig"),hbPk2:e.get("hb-pk2"),hbPk2sig:e.get("hb-pk2sig"),hbSig:e.get("hb-sig")})}}class ep{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"db-available",valueSchema:new sn,omitEmpty:!0},{key:"is-migrating",valueSchema:new sn,omitEmpty:!0},{key:"message",valueSchema:new Je,omitEmpty:!0},{key:"round",valueSchema:new Z,omitEmpty:!0},{key:"version",valueSchema:new Je,omitEmpty:!0},{key:"data",valueSchema:new V(Qr.encodingSchema),omitEmpty:!0},{key:"errors",valueSchema:new V(new rt(new Je)),omitEmpty:!0})),this.encodingSchemaValue}constructor({dbAvailable:e,isMigrating:t,message:r,round:s,version:o,data:l,errors:h}){this.dbAvailable=e,this.isMigrating=t,this.message=r,this.round=He(s),this.version=o,this.data=l,this.errors=h}getEncodingSchema(){return ep.encodingSchema}toEncodingData(){return new Map([["db-available",this.dbAvailable],["is-migrating",this.isMigrating],["message",this.message],["round",this.round],["version",this.version],["data",typeof this.data<"u"?this.data.toEncodingData():void 0],["errors",this.errors]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HealthCheck: ${e}`);return new ep({dbAvailable:e.get("db-available"),isMigrating:e.get("is-migrating"),message:e.get("message"),round:e.get("round"),version:e.get("version"),data:typeof e.get("data")<"u"?Qr.fromEncodingData(e.get("data")):void 0,errors:e.get("errors")})}}class td{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new Je,omitEmpty:!0},{key:"asset",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,asset:t}){this.address=typeof e=="string"?Kt.fromString(e):e,this.asset=ft(t)}getEncodingSchema(){return td.encodingSchema}toEncodingData(){return new Map([["address",this.address.toString()],["asset",this.asset]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HoldingRef: ${e}`);return new td({address:e.get("address"),asset:e.get("asset")})}}class nd{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"block-headers-commitment",valueSchema:new V(new dt),omitEmpty:!0},{key:"first-attested-round",valueSchema:new V(new Z),omitEmpty:!0},{key:"latest-attested-round",valueSchema:new V(new Z),omitEmpty:!0},{key:"ln-proven-weight",valueSchema:new V(new Z),omitEmpty:!0},{key:"voters-commitment",valueSchema:new V(new dt),omitEmpty:!0})),this.encodingSchemaValue}constructor({blockHeadersCommitment:e,firstAttestedRound:t,latestAttestedRound:r,lnProvenWeight:s,votersCommitment:o}){this.blockHeadersCommitment=typeof e=="string"?yt(e):e,this.firstAttestedRound=typeof t>"u"?void 0:He(t),this.latestAttestedRound=typeof r>"u"?void 0:He(r),this.lnProvenWeight=typeof s>"u"?void 0:He(s),this.votersCommitment=typeof o=="string"?yt(o):o}getEncodingSchema(){return nd.encodingSchema}toEncodingData(){return new Map([["block-headers-commitment",this.blockHeadersCommitment],["first-attested-round",this.firstAttestedRound],["latest-attested-round",this.latestAttestedRound],["ln-proven-weight",this.lnProvenWeight],["voters-commitment",this.votersCommitment]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded IndexerStateProofMessage: ${e}`);return new nd({blockHeadersCommitment:e.get("block-headers-commitment"),firstAttestedRound:e.get("first-attested-round"),latestAttestedRound:e.get("latest-attested-round"),lnProvenWeight:e.get("ln-proven-weight"),votersCommitment:e.get("voters-commitment")})}}class rd{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new Je,omitEmpty:!0},{key:"app",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,app:t}){this.address=typeof e=="string"?Kt.fromString(e):e,this.app=ft(t)}getEncodingSchema(){return rd.encodingSchema}toEncodingData(){return new Map([["address",this.address.toString()],["app",this.app]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded LocalsRef: ${e}`);return new rd({address:e.get("address"),app:e.get("app")})}}class Js{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"hash-factory",valueSchema:new V(Zh.encodingSchema),omitEmpty:!0},{key:"path",valueSchema:new V(new rt(new dt)),omitEmpty:!0},{key:"tree-depth",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({hashFactory:e,path:t,treeDepth:r}){this.hashFactory=e,this.path=t,this.treeDepth=typeof r>"u"?void 0:ft(r)}getEncodingSchema(){return Js.encodingSchema}toEncodingData(){return new Map([["hash-factory",typeof this.hashFactory<"u"?this.hashFactory.toEncodingData():void 0],["path",this.path],["tree-depth",this.treeDepth]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded MerkleArrayProof: ${e}`);return new Js({hashFactory:typeof e.get("hash-factory")<"u"?Zh.fromEncodingData(e.get("hash-factory")):void 0,path:e.get("path"),treeDepth:e.get("tree-depth")})}}class id{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new Je,omitEmpty:!0},{key:"amount",valueSchema:new Z,omitEmpty:!0},{key:"is-frozen",valueSchema:new sn,omitEmpty:!0},{key:"deleted",valueSchema:new V(new sn),omitEmpty:!0},{key:"opted-in-at-round",valueSchema:new V(new Z),omitEmpty:!0},{key:"opted-out-at-round",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,amount:t,isFrozen:r,deleted:s,optedInAtRound:o,optedOutAtRound:l}){this.address=e,this.amount=He(t),this.isFrozen=r,this.deleted=s,this.optedInAtRound=typeof o>"u"?void 0:He(o),this.optedOutAtRound=typeof l>"u"?void 0:He(l)}getEncodingSchema(){return id.encodingSchema}toEncodingData(){return new Map([["address",this.address],["amount",this.amount],["is-frozen",this.isFrozen],["deleted",this.deleted],["opted-in-at-round",this.optedInAtRound],["opted-out-at-round",this.optedOutAtRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded MiniAssetHolding: ${e}`);return new id({address:e.get("address"),amount:e.get("amount"),isFrozen:e.get("is-frozen"),deleted:e.get("deleted"),optedInAtRound:e.get("opted-in-at-round"),optedOutAtRound:e.get("opted-out-at-round")})}}class sd{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"absent-participation-accounts",valueSchema:new V(new rt(new Je)),omitEmpty:!0},{key:"expired-participation-accounts",valueSchema:new V(new rt(new Je)),omitEmpty:!0})),this.encodingSchemaValue}constructor({absentParticipationAccounts:e,expiredParticipationAccounts:t}){this.absentParticipationAccounts=e,this.expiredParticipationAccounts=t}getEncodingSchema(){return sd.encodingSchema}toEncodingData(){return new Map([["absent-participation-accounts",this.absentParticipationAccounts],["expired-participation-accounts",this.expiredParticipationAccounts]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ParticipationUpdates: ${e}`);return new sd({absentParticipationAccounts:e.get("absent-participation-accounts"),expiredParticipationAccounts:e.get("expired-participation-accounts")})}}class ad{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new V(new Je),omitEmpty:!0},{key:"application-id",valueSchema:new V(new Z),omitEmpty:!0},{key:"asset-id",valueSchema:new V(new Z),omitEmpty:!0},{key:"box",valueSchema:new V(bc.encodingSchema),omitEmpty:!0},{key:"holding",valueSchema:new V(td.encodingSchema),omitEmpty:!0},{key:"local",valueSchema:new V(rd.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,applicationId:t,assetId:r,box:s,holding:o,local:l}){this.address=typeof e=="string"?Kt.fromString(e):e,this.applicationId=typeof t>"u"?void 0:ft(t),this.assetId=typeof r>"u"?void 0:ft(r),this.box=s,this.holding=o,this.local=l}getEncodingSchema(){return ad.encodingSchema}toEncodingData(){return new Map([["address",typeof this.address<"u"?this.address.toString():void 0],["application-id",this.applicationId],["asset-id",this.assetId],["box",typeof this.box<"u"?this.box.toEncodingData():void 0],["holding",typeof this.holding<"u"?this.holding.toEncodingData():void 0],["local",typeof this.local<"u"?this.local.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ResourceRef: ${e}`);return new ad({address:e.get("address"),applicationId:e.get("application-id"),assetId:e.get("asset-id"),box:typeof e.get("box")<"u"?bc.fromEncodingData(e.get("box")):void 0,holding:typeof e.get("holding")<"u"?td.fromEncodingData(e.get("holding")):void 0,local:typeof e.get("local")<"u"?rd.fromEncodingData(e.get("local")):void 0})}}class od{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"part-proofs",valueSchema:new V(Js.encodingSchema),omitEmpty:!0},{key:"positions-to-reveal",valueSchema:new V(new rt(new Z)),omitEmpty:!0},{key:"reveals",valueSchema:new V(new rt(ld.encodingSchema)),omitEmpty:!0},{key:"salt-version",valueSchema:new V(new Z),omitEmpty:!0},{key:"sig-commit",valueSchema:new V(new dt),omitEmpty:!0},{key:"sig-proofs",valueSchema:new V(Js.encodingSchema),omitEmpty:!0},{key:"signed-weight",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({partProofs:e,positionsToReveal:t,reveals:r,saltVersion:s,sigCommit:o,sigProofs:l,signedWeight:h}){this.partProofs=e,this.positionsToReveal=typeof t>"u"?void 0:t.map(He),this.reveals=r,this.saltVersion=typeof s>"u"?void 0:ft(s),this.sigCommit=typeof o=="string"?yt(o):o,this.sigProofs=l,this.signedWeight=typeof h>"u"?void 0:He(h)}getEncodingSchema(){return od.encodingSchema}toEncodingData(){return new Map([["part-proofs",typeof this.partProofs<"u"?this.partProofs.toEncodingData():void 0],["positions-to-reveal",this.positionsToReveal],["reveals",typeof this.reveals<"u"?this.reveals.map(e=>e.toEncodingData()):void 0],["salt-version",this.saltVersion],["sig-commit",this.sigCommit],["sig-proofs",typeof this.sigProofs<"u"?this.sigProofs.toEncodingData():void 0],["signed-weight",this.signedWeight]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofFields: ${e}`);return new od({partProofs:typeof e.get("part-proofs")<"u"?Js.fromEncodingData(e.get("part-proofs")):void 0,positionsToReveal:e.get("positions-to-reveal"),reveals:typeof e.get("reveals")<"u"?e.get("reveals").map(t=>ld.fromEncodingData(t)):void 0,saltVersion:e.get("salt-version"),sigCommit:e.get("sig-commit"),sigProofs:typeof e.get("sig-proofs")<"u"?Js.fromEncodingData(e.get("sig-proofs")):void 0,signedWeight:e.get("signed-weight")})}}class cd{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"verifier",valueSchema:new V(fd.encodingSchema),omitEmpty:!0},{key:"weight",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({verifier:e,weight:t}){this.verifier=e,this.weight=typeof t>"u"?void 0:He(t)}getEncodingSchema(){return cd.encodingSchema}toEncodingData(){return new Map([["verifier",typeof this.verifier<"u"?this.verifier.toEncodingData():void 0],["weight",this.weight]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofParticipant: ${e}`);return new cd({verifier:typeof e.get("verifier")<"u"?fd.fromEncodingData(e.get("verifier")):void 0,weight:e.get("weight")})}}class ld{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"participant",valueSchema:new V(cd.encodingSchema),omitEmpty:!0},{key:"position",valueSchema:new V(new Z),omitEmpty:!0},{key:"sig-slot",valueSchema:new V(ud.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({participant:e,position:t,sigSlot:r}){this.participant=e,this.position=typeof t>"u"?void 0:He(t),this.sigSlot=r}getEncodingSchema(){return ld.encodingSchema}toEncodingData(){return new Map([["participant",typeof this.participant<"u"?this.participant.toEncodingData():void 0],["position",this.position],["sig-slot",typeof this.sigSlot<"u"?this.sigSlot.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofReveal: ${e}`);return new ld({participant:typeof e.get("participant")<"u"?cd.fromEncodingData(e.get("participant")):void 0,position:e.get("position"),sigSlot:typeof e.get("sig-slot")<"u"?ud.fromEncodingData(e.get("sig-slot")):void 0})}}class ud{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"lower-sig-weight",valueSchema:new V(new Z),omitEmpty:!0},{key:"signature",valueSchema:new V(hd.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({lowerSigWeight:e,signature:t}){this.lowerSigWeight=typeof e>"u"?void 0:He(e),this.signature=t}getEncodingSchema(){return ud.encodingSchema}toEncodingData(){return new Map([["lower-sig-weight",this.lowerSigWeight],["signature",typeof this.signature<"u"?this.signature.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofSigSlot: ${e}`);return new ud({lowerSigWeight:e.get("lower-sig-weight"),signature:typeof e.get("signature")<"u"?hd.fromEncodingData(e.get("signature")):void 0})}}class hd{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"falcon-signature",valueSchema:new V(new dt),omitEmpty:!0},{key:"merkle-array-index",valueSchema:new V(new Z),omitEmpty:!0},{key:"proof",valueSchema:new V(Js.encodingSchema),omitEmpty:!0},{key:"verifying-key",valueSchema:new V(new dt),omitEmpty:!0})),this.encodingSchemaValue}constructor({falconSignature:e,merkleArrayIndex:t,proof:r,verifyingKey:s}){this.falconSignature=typeof e=="string"?yt(e):e,this.merkleArrayIndex=typeof t>"u"?void 0:ft(t),this.proof=r,this.verifyingKey=typeof s=="string"?yt(s):s}getEncodingSchema(){return hd.encodingSchema}toEncodingData(){return new Map([["falcon-signature",this.falconSignature],["merkle-array-index",this.merkleArrayIndex],["proof",typeof this.proof<"u"?this.proof.toEncodingData():void 0],["verifying-key",this.verifyingKey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofSignature: ${e}`);return new hd({falconSignature:e.get("falcon-signature"),merkleArrayIndex:e.get("merkle-array-index"),proof:typeof e.get("proof")<"u"?Js.fromEncodingData(e.get("proof")):void 0,verifyingKey:e.get("verifying-key")})}}class dd{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"next-round",valueSchema:new V(new Z),omitEmpty:!0},{key:"online-total-weight",valueSchema:new V(new Z),omitEmpty:!0},{key:"type",valueSchema:new V(new Z),omitEmpty:!0},{key:"voters-commitment",valueSchema:new V(new dt),omitEmpty:!0})),this.encodingSchemaValue}constructor({nextRound:e,onlineTotalWeight:t,type:r,votersCommitment:s}){this.nextRound=typeof e>"u"?void 0:He(e),this.onlineTotalWeight=typeof t>"u"?void 0:He(t),this.type=typeof r>"u"?void 0:ft(r),this.votersCommitment=typeof s=="string"?yt(s):s}getEncodingSchema(){return dd.encodingSchema}toEncodingData(){return new Map([["next-round",this.nextRound],["online-total-weight",this.onlineTotalWeight],["type",this.type],["voters-commitment",this.votersCommitment]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofTracking: ${e}`);return new dd({nextRound:e.get("next-round"),onlineTotalWeight:e.get("online-total-weight"),type:e.get("type"),votersCommitment:e.get("voters-commitment")})}}class fd{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"commitment",valueSchema:new V(new dt),omitEmpty:!0},{key:"key-lifetime",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({commitment:e,keyLifetime:t}){this.commitment=typeof e=="string"?yt(e):e,this.keyLifetime=typeof t>"u"?void 0:He(t)}getEncodingSchema(){return fd.encodingSchema}toEncodingData(){return new Map([["commitment",this.commitment],["key-lifetime",this.keyLifetime]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofVerifier: ${e}`);return new fd({commitment:e.get("commitment"),keyLifetime:e.get("key-lifetime")})}}class Xo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"num-byte-slice",valueSchema:new Z,omitEmpty:!0},{key:"num-uint",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({numByteSlice:e,numUint:t}){this.numByteSlice=ft(e),this.numUint=ft(t)}getEncodingSchema(){return Xo.encodingSchema}toEncodingData(){return new Map([["num-byte-slice",this.numByteSlice],["num-uint",this.numUint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateSchema: ${e}`);return new Xo({numByteSlice:e.get("num-byte-slice"),numUint:e.get("num-uint")})}}class Ac{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new dt,omitEmpty:!0},{key:"value",valueSchema:md.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:e,value:t}){this.key=typeof e=="string"?yt(e):e,this.value=t}getEncodingSchema(){return Ac.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TealKeyValue: ${e}`);return new Ac({key:e.get("key"),value:md.fromEncodingData(e.get("value")??new Map)})}}class md{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"bytes",valueSchema:new dt,omitEmpty:!0},{key:"type",valueSchema:new Z,omitEmpty:!0},{key:"uint",valueSchema:new Z,omitEmpty:!0})),this.encodingSchemaValue}constructor({bytes:e,type:t,uint:r}){this.bytes=typeof e=="string"?yt(e):e,this.type=ft(t),this.uint=He(r)}getEncodingSchema(){return md.encodingSchema}toEncodingData(){return new Map([["bytes",this.bytes],["type",this.type],["uint",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TealValue: ${e}`);return new md({bytes:e.get("bytes"),type:e.get("type"),uint:e.get("uint")})}}class cs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"fee",valueSchema:new Z,omitEmpty:!0},{key:"first-valid",valueSchema:new Z,omitEmpty:!0},{key:"last-valid",valueSchema:new Z,omitEmpty:!0},{key:"sender",valueSchema:new Je,omitEmpty:!0},{key:"application-transaction",valueSchema:new V(pd.encodingSchema),omitEmpty:!0},{key:"asset-config-transaction",valueSchema:new V(gd.encodingSchema),omitEmpty:!0},{key:"asset-freeze-transaction",valueSchema:new V(yd.encodingSchema),omitEmpty:!0},{key:"asset-transfer-transaction",valueSchema:new V(wd.encodingSchema),omitEmpty:!0},{key:"auth-addr",valueSchema:new V(new Je),omitEmpty:!0},{key:"close-rewards",valueSchema:new V(new Z),omitEmpty:!0},{key:"closing-amount",valueSchema:new V(new Z),omitEmpty:!0},{key:"confirmed-round",valueSchema:new V(new Z),omitEmpty:!0},{key:"created-application-index",valueSchema:new V(new Z),omitEmpty:!0},{key:"created-asset-index",valueSchema:new V(new Z),omitEmpty:!0},{key:"genesis-hash",valueSchema:new V(new dt),omitEmpty:!0},{key:"genesis-id",valueSchema:new V(new Je),omitEmpty:!0},{key:"global-state-delta",valueSchema:new V(new rt(_c.encodingSchema)),omitEmpty:!0},{key:"group",valueSchema:new V(new dt),omitEmpty:!0},{key:"heartbeat-transaction",valueSchema:new V(vd.encodingSchema),omitEmpty:!0},{key:"id",valueSchema:new V(new Je),omitEmpty:!0},{key:"inner-txns",valueSchema:new V(new rt(cs.encodingSchema)),omitEmpty:!0},{key:"intra-round-offset",valueSchema:new V(new Z),omitEmpty:!0},{key:"keyreg-transaction",valueSchema:new V(xd.encodingSchema),omitEmpty:!0},{key:"lease",valueSchema:new V(new dt),omitEmpty:!0},{key:"local-state-delta",valueSchema:new V(new rt(qh.encodingSchema)),omitEmpty:!0},{key:"logs",valueSchema:new V(new rt(new dt)),omitEmpty:!0},{key:"note",valueSchema:new V(new dt),omitEmpty:!0},{key:"payment-transaction",valueSchema:new V(Sd.encodingSchema),omitEmpty:!0},{key:"receiver-rewards",valueSchema:new V(new Z),omitEmpty:!0},{key:"rekey-to",valueSchema:new V(new Je),omitEmpty:!0},{key:"round-time",valueSchema:new V(new Z),omitEmpty:!0},{key:"sender-rewards",valueSchema:new V(new Z),omitEmpty:!0},{key:"signature",valueSchema:new V(Ed.encodingSchema),omitEmpty:!0},{key:"state-proof-transaction",valueSchema:new V(Ad.encodingSchema),omitEmpty:!0},{key:"tx-type",valueSchema:new V(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({fee:e,firstValid:t,lastValid:r,sender:s,applicationTransaction:o,assetConfigTransaction:l,assetFreezeTransaction:h,assetTransferTransaction:p,authAddr:f,closeRewards:v,closingAmount:S,confirmedRound:C,createdApplicationIndex:R,createdAssetIndex:B,genesisHash:re,genesisId:N,globalStateDelta:U,group:q,heartbeatTransaction:G,id:he,innerTxns:pe,intraRoundOffset:K,keyregTransaction:P,lease:M,localStateDelta:H,logs:A,note:y,paymentTransaction:x,receiverRewards:E,rekeyTo:$,roundTime:ee,senderRewards:W,signature:le,stateProofTransaction:Q,txType:T}){this.fee=He(e),this.firstValid=He(t),this.lastValid=He(r),this.sender=s,this.applicationTransaction=o,this.assetConfigTransaction=l,this.assetFreezeTransaction=h,this.assetTransferTransaction=p,this.authAddr=typeof f=="string"?Kt.fromString(f):f,this.closeRewards=typeof v>"u"?void 0:He(v),this.closingAmount=typeof S>"u"?void 0:He(S),this.confirmedRound=typeof C>"u"?void 0:He(C),this.createdApplicationIndex=typeof R>"u"?void 0:He(R),this.createdAssetIndex=typeof B>"u"?void 0:He(B),this.genesisHash=typeof re=="string"?yt(re):re,this.genesisId=N,this.globalStateDelta=U,this.group=typeof q=="string"?yt(q):q,this.heartbeatTransaction=G,this.id=he,this.innerTxns=pe,this.intraRoundOffset=typeof K>"u"?void 0:ft(K),this.keyregTransaction=P,this.lease=typeof M=="string"?yt(M):M,this.localStateDelta=H,this.logs=A,this.note=typeof y=="string"?yt(y):y,this.paymentTransaction=x,this.receiverRewards=typeof E>"u"?void 0:He(E),this.rekeyTo=typeof $=="string"?Kt.fromString($):$,this.roundTime=typeof ee>"u"?void 0:ft(ee),this.senderRewards=typeof W>"u"?void 0:He(W),this.signature=le,this.stateProofTransaction=Q,this.txType=T}getEncodingSchema(){return cs.encodingSchema}toEncodingData(){return new Map([["fee",this.fee],["first-valid",this.firstValid],["last-valid",this.lastValid],["sender",this.sender],["application-transaction",typeof this.applicationTransaction<"u"?this.applicationTransaction.toEncodingData():void 0],["asset-config-transaction",typeof this.assetConfigTransaction<"u"?this.assetConfigTransaction.toEncodingData():void 0],["asset-freeze-transaction",typeof this.assetFreezeTransaction<"u"?this.assetFreezeTransaction.toEncodingData():void 0],["asset-transfer-transaction",typeof this.assetTransferTransaction<"u"?this.assetTransferTransaction.toEncodingData():void 0],["auth-addr",typeof this.authAddr<"u"?this.authAddr.toString():void 0],["close-rewards",this.closeRewards],["closing-amount",this.closingAmount],["confirmed-round",this.confirmedRound],["created-application-index",this.createdApplicationIndex],["created-asset-index",this.createdAssetIndex],["genesis-hash",this.genesisHash],["genesis-id",this.genesisId],["global-state-delta",typeof this.globalStateDelta<"u"?this.globalStateDelta.map(e=>e.toEncodingData()):void 0],["group",this.group],["heartbeat-transaction",typeof this.heartbeatTransaction<"u"?this.heartbeatTransaction.toEncodingData():void 0],["id",this.id],["inner-txns",typeof this.innerTxns<"u"?this.innerTxns.map(e=>e.toEncodingData()):void 0],["intra-round-offset",this.intraRoundOffset],["keyreg-transaction",typeof this.keyregTransaction<"u"?this.keyregTransaction.toEncodingData():void 0],["lease",this.lease],["local-state-delta",typeof this.localStateDelta<"u"?this.localStateDelta.map(e=>e.toEncodingData()):void 0],["logs",this.logs],["note",this.note],["payment-transaction",typeof this.paymentTransaction<"u"?this.paymentTransaction.toEncodingData():void 0],["receiver-rewards",this.receiverRewards],["rekey-to",typeof this.rekeyTo<"u"?this.rekeyTo.toString():void 0],["round-time",this.roundTime],["sender-rewards",this.senderRewards],["signature",typeof this.signature<"u"?this.signature.toEncodingData():void 0],["state-proof-transaction",typeof this.stateProofTransaction<"u"?this.stateProofTransaction.toEncodingData():void 0],["tx-type",this.txType]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Transaction: ${e}`);return new cs({fee:e.get("fee"),firstValid:e.get("first-valid"),lastValid:e.get("last-valid"),sender:e.get("sender"),applicationTransaction:typeof e.get("application-transaction")<"u"?pd.fromEncodingData(e.get("application-transaction")):void 0,assetConfigTransaction:typeof e.get("asset-config-transaction")<"u"?gd.fromEncodingData(e.get("asset-config-transaction")):void 0,assetFreezeTransaction:typeof e.get("asset-freeze-transaction")<"u"?yd.fromEncodingData(e.get("asset-freeze-transaction")):void 0,assetTransferTransaction:typeof e.get("asset-transfer-transaction")<"u"?wd.fromEncodingData(e.get("asset-transfer-transaction")):void 0,authAddr:e.get("auth-addr"),closeRewards:e.get("close-rewards"),closingAmount:e.get("closing-amount"),confirmedRound:e.get("confirmed-round"),createdApplicationIndex:e.get("created-application-index"),createdAssetIndex:e.get("created-asset-index"),genesisHash:e.get("genesis-hash"),genesisId:e.get("genesis-id"),globalStateDelta:typeof e.get("global-state-delta")<"u"?e.get("global-state-delta").map(t=>_c.fromEncodingData(t)):void 0,group:e.get("group"),heartbeatTransaction:typeof e.get("heartbeat-transaction")<"u"?vd.fromEncodingData(e.get("heartbeat-transaction")):void 0,id:e.get("id"),innerTxns:typeof e.get("inner-txns")<"u"?e.get("inner-txns").map(t=>cs.fromEncodingData(t)):void 0,intraRoundOffset:e.get("intra-round-offset"),keyregTransaction:typeof e.get("keyreg-transaction")<"u"?xd.fromEncodingData(e.get("keyreg-transaction")):void 0,lease:e.get("lease"),localStateDelta:typeof e.get("local-state-delta")<"u"?e.get("local-state-delta").map(t=>qh.fromEncodingData(t)):void 0,logs:e.get("logs"),note:e.get("note"),paymentTransaction:typeof e.get("payment-transaction")<"u"?Sd.fromEncodingData(e.get("payment-transaction")):void 0,receiverRewards:e.get("receiver-rewards"),rekeyTo:e.get("rekey-to"),roundTime:e.get("round-time"),senderRewards:e.get("sender-rewards"),signature:typeof e.get("signature")<"u"?Ed.fromEncodingData(e.get("signature")):void 0,stateProofTransaction:typeof e.get("state-proof-transaction")<"u"?Ad.fromEncodingData(e.get("state-proof-transaction")):void 0,txType:e.get("tx-type")})}}class pd{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"application-id",valueSchema:new Z,omitEmpty:!0},{key:"access",valueSchema:new V(new rt(ad.encodingSchema)),omitEmpty:!0},{key:"accounts",valueSchema:new V(new rt(new Je)),omitEmpty:!0},{key:"application-args",valueSchema:new V(new rt(new dt)),omitEmpty:!0},{key:"approval-program",valueSchema:new V(new dt),omitEmpty:!0},{key:"box-references",valueSchema:new V(new rt(bc.encodingSchema)),omitEmpty:!0},{key:"clear-state-program",valueSchema:new V(new dt),omitEmpty:!0},{key:"extra-program-pages",valueSchema:new V(new Z),omitEmpty:!0},{key:"foreign-apps",valueSchema:new V(new rt(new Z)),omitEmpty:!0},{key:"foreign-assets",valueSchema:new V(new rt(new Z)),omitEmpty:!0},{key:"global-state-schema",valueSchema:new V(Xo.encodingSchema),omitEmpty:!0},{key:"local-state-schema",valueSchema:new V(Xo.encodingSchema),omitEmpty:!0},{key:"on-completion",valueSchema:new V(new Je),omitEmpty:!0},{key:"reject-version",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationId:e,access:t,accounts:r,applicationArgs:s,approvalProgram:o,boxReferences:l,clearStateProgram:h,extraProgramPages:p,foreignApps:f,foreignAssets:v,globalStateSchema:S,localStateSchema:C,onCompletion:R,rejectVersion:B}){this.applicationId=He(e),this.access=t,this.accounts=typeof r<"u"?r.map(re=>typeof re=="string"?Kt.fromString(re):re):void 0,this.applicationArgs=s,this.approvalProgram=typeof o=="string"?yt(o):o,this.boxReferences=l,this.clearStateProgram=typeof h=="string"?yt(h):h,this.extraProgramPages=typeof p>"u"?void 0:ft(p),this.foreignApps=typeof f>"u"?void 0:f.map(He),this.foreignAssets=typeof v>"u"?void 0:v.map(He),this.globalStateSchema=S,this.localStateSchema=C,this.onCompletion=R,this.rejectVersion=typeof B>"u"?void 0:ft(B)}getEncodingSchema(){return pd.encodingSchema}toEncodingData(){return new Map([["application-id",this.applicationId],["access",typeof this.access<"u"?this.access.map(e=>e.toEncodingData()):void 0],["accounts",typeof this.accounts<"u"?this.accounts.map(e=>e.toString()):void 0],["application-args",this.applicationArgs],["approval-program",this.approvalProgram],["box-references",typeof this.boxReferences<"u"?this.boxReferences.map(e=>e.toEncodingData()):void 0],["clear-state-program",this.clearStateProgram],["extra-program-pages",this.extraProgramPages],["foreign-apps",this.foreignApps],["foreign-assets",this.foreignAssets],["global-state-schema",typeof this.globalStateSchema<"u"?this.globalStateSchema.toEncodingData():void 0],["local-state-schema",typeof this.localStateSchema<"u"?this.localStateSchema.toEncodingData():void 0],["on-completion",this.onCompletion],["reject-version",this.rejectVersion]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionApplication: ${e}`);return new pd({applicationId:e.get("application-id"),access:typeof e.get("access")<"u"?e.get("access").map(t=>ad.fromEncodingData(t)):void 0,accounts:e.get("accounts"),applicationArgs:e.get("application-args"),approvalProgram:e.get("approval-program"),boxReferences:typeof e.get("box-references")<"u"?e.get("box-references").map(t=>bc.fromEncodingData(t)):void 0,clearStateProgram:e.get("clear-state-program"),extraProgramPages:e.get("extra-program-pages"),foreignApps:e.get("foreign-apps"),foreignAssets:e.get("foreign-assets"),globalStateSchema:typeof e.get("global-state-schema")<"u"?Xo.fromEncodingData(e.get("global-state-schema")):void 0,localStateSchema:typeof e.get("local-state-schema")<"u"?Xo.fromEncodingData(e.get("local-state-schema")):void 0,onCompletion:e.get("on-completion"),rejectVersion:e.get("reject-version")})}}class gd{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"asset-id",valueSchema:new V(new Z),omitEmpty:!0},{key:"params",valueSchema:new V(Ec.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({assetId:e,params:t}){this.assetId=typeof e>"u"?void 0:He(e),this.params=t}getEncodingSchema(){return gd.encodingSchema}toEncodingData(){return new Map([["asset-id",this.assetId],["params",typeof this.params<"u"?this.params.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionAssetConfig: ${e}`);return new gd({assetId:e.get("asset-id"),params:typeof e.get("params")<"u"?Ec.fromEncodingData(e.get("params")):void 0})}}class yd{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new Je,omitEmpty:!0},{key:"asset-id",valueSchema:new Z,omitEmpty:!0},{key:"new-freeze-status",valueSchema:new sn,omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,assetId:t,newFreezeStatus:r}){this.address=e,this.assetId=He(t),this.newFreezeStatus=r}getEncodingSchema(){return yd.encodingSchema}toEncodingData(){return new Map([["address",this.address],["asset-id",this.assetId],["new-freeze-status",this.newFreezeStatus]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionAssetFreeze: ${e}`);return new yd({address:e.get("address"),assetId:e.get("asset-id"),newFreezeStatus:e.get("new-freeze-status")})}}class wd{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new Z,omitEmpty:!0},{key:"asset-id",valueSchema:new Z,omitEmpty:!0},{key:"receiver",valueSchema:new Je,omitEmpty:!0},{key:"close-amount",valueSchema:new V(new Z),omitEmpty:!0},{key:"close-to",valueSchema:new V(new Je),omitEmpty:!0},{key:"sender",valueSchema:new V(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:e,assetId:t,receiver:r,closeAmount:s,closeTo:o,sender:l}){this.amount=He(e),this.assetId=He(t),this.receiver=r,this.closeAmount=typeof s>"u"?void 0:He(s),this.closeTo=o,this.sender=l}getEncodingSchema(){return wd.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["asset-id",this.assetId],["receiver",this.receiver],["close-amount",this.closeAmount],["close-to",this.closeTo],["sender",this.sender]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionAssetTransfer: ${e}`);return new wd({amount:e.get("amount"),assetId:e.get("asset-id"),receiver:e.get("receiver"),closeAmount:e.get("close-amount"),closeTo:e.get("close-to"),sender:e.get("sender")})}}class vd{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"hb-address",valueSchema:new Je,omitEmpty:!0},{key:"hb-key-dilution",valueSchema:new Z,omitEmpty:!0},{key:"hb-proof",valueSchema:ed.encodingSchema,omitEmpty:!0},{key:"hb-seed",valueSchema:new dt,omitEmpty:!0},{key:"hb-vote-id",valueSchema:new dt,omitEmpty:!0})),this.encodingSchemaValue}constructor({hbAddress:e,hbKeyDilution:t,hbProof:r,hbSeed:s,hbVoteId:o}){this.hbAddress=e,this.hbKeyDilution=He(t),this.hbProof=r,this.hbSeed=typeof s=="string"?yt(s):s,this.hbVoteId=typeof o=="string"?yt(o):o}getEncodingSchema(){return vd.encodingSchema}toEncodingData(){return new Map([["hb-address",this.hbAddress],["hb-key-dilution",this.hbKeyDilution],["hb-proof",this.hbProof.toEncodingData()],["hb-seed",this.hbSeed],["hb-vote-id",this.hbVoteId]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionHeartbeat: ${e}`);return new vd({hbAddress:e.get("hb-address"),hbKeyDilution:e.get("hb-key-dilution"),hbProof:ed.fromEncodingData(e.get("hb-proof")??new Map),hbSeed:e.get("hb-seed"),hbVoteId:e.get("hb-vote-id")})}}class xd{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"non-participation",valueSchema:new V(new sn),omitEmpty:!0},{key:"selection-participation-key",valueSchema:new V(new dt),omitEmpty:!0},{key:"state-proof-key",valueSchema:new V(new dt),omitEmpty:!0},{key:"vote-first-valid",valueSchema:new V(new Z),omitEmpty:!0},{key:"vote-key-dilution",valueSchema:new V(new Z),omitEmpty:!0},{key:"vote-last-valid",valueSchema:new V(new Z),omitEmpty:!0},{key:"vote-participation-key",valueSchema:new V(new dt),omitEmpty:!0})),this.encodingSchemaValue}constructor({nonParticipation:e,selectionParticipationKey:t,stateProofKey:r,voteFirstValid:s,voteKeyDilution:o,voteLastValid:l,voteParticipationKey:h}){this.nonParticipation=e,this.selectionParticipationKey=typeof t=="string"?yt(t):t,this.stateProofKey=typeof r=="string"?yt(r):r,this.voteFirstValid=typeof s>"u"?void 0:He(s),this.voteKeyDilution=typeof o>"u"?void 0:He(o),this.voteLastValid=typeof l>"u"?void 0:He(l),this.voteParticipationKey=typeof h=="string"?yt(h):h}getEncodingSchema(){return xd.encodingSchema}toEncodingData(){return new Map([["non-participation",this.nonParticipation],["selection-participation-key",this.selectionParticipationKey],["state-proof-key",this.stateProofKey],["vote-first-valid",this.voteFirstValid],["vote-key-dilution",this.voteKeyDilution],["vote-last-valid",this.voteLastValid],["vote-participation-key",this.voteParticipationKey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionKeyreg: ${e}`);return new xd({nonParticipation:e.get("non-participation"),selectionParticipationKey:e.get("selection-participation-key"),stateProofKey:e.get("state-proof-key"),voteFirstValid:e.get("vote-first-valid"),voteKeyDilution:e.get("vote-key-dilution"),voteLastValid:e.get("vote-last-valid"),voteParticipationKey:e.get("vote-participation-key")})}}class Sd{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new Z,omitEmpty:!0},{key:"receiver",valueSchema:new Je,omitEmpty:!0},{key:"close-amount",valueSchema:new V(new Z),omitEmpty:!0},{key:"close-remainder-to",valueSchema:new V(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:e,receiver:t,closeAmount:r,closeRemainderTo:s}){this.amount=He(e),this.receiver=t,this.closeAmount=typeof r>"u"?void 0:He(r),this.closeRemainderTo=s}getEncodingSchema(){return Sd.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["receiver",this.receiver],["close-amount",this.closeAmount],["close-remainder-to",this.closeRemainderTo]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionPayment: ${e}`);return new Sd({amount:e.get("amount"),receiver:e.get("receiver"),closeAmount:e.get("close-amount"),closeRemainderTo:e.get("close-remainder-to")})}}class tp{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"current-round",valueSchema:new Z,omitEmpty:!0},{key:"transaction",valueSchema:cs.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:e,transaction:t}){this.currentRound=He(e),this.transaction=t}getEncodingSchema(){return tp.encodingSchema}toEncodingData(){return new Map([["current-round",this.currentRound],["transaction",this.transaction.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionResponse: ${e}`);return new tp({currentRound:e.get("current-round"),transaction:cs.fromEncodingData(e.get("transaction")??new Map)})}}class Ed{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"logicsig",valueSchema:new V(bd.encodingSchema),omitEmpty:!0},{key:"multisig",valueSchema:new V(Qs.encodingSchema),omitEmpty:!0},{key:"sig",valueSchema:new V(new dt),omitEmpty:!0})),this.encodingSchemaValue}constructor({logicsig:e,multisig:t,sig:r}){this.logicsig=e,this.multisig=t,this.sig=typeof r=="string"?yt(r):r}getEncodingSchema(){return Ed.encodingSchema}toEncodingData(){return new Map([["logicsig",typeof this.logicsig<"u"?this.logicsig.toEncodingData():void 0],["multisig",typeof this.multisig<"u"?this.multisig.toEncodingData():void 0],["sig",this.sig]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionSignature: ${e}`);return new Ed({logicsig:typeof e.get("logicsig")<"u"?bd.fromEncodingData(e.get("logicsig")):void 0,multisig:typeof e.get("multisig")<"u"?Qs.fromEncodingData(e.get("multisig")):void 0,sig:e.get("sig")})}}class bd{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"logic",valueSchema:new dt,omitEmpty:!0},{key:"args",valueSchema:new V(new rt(new dt)),omitEmpty:!0},{key:"logic-multisig-signature",valueSchema:new V(Qs.encodingSchema),omitEmpty:!0},{key:"multisig-signature",valueSchema:new V(Qs.encodingSchema),omitEmpty:!0},{key:"signature",valueSchema:new V(new dt),omitEmpty:!0})),this.encodingSchemaValue}constructor({logic:e,args:t,logicMultisigSignature:r,multisigSignature:s,signature:o}){this.logic=typeof e=="string"?yt(e):e,this.args=t,this.logicMultisigSignature=r,this.multisigSignature=s,this.signature=typeof o=="string"?yt(o):o}getEncodingSchema(){return bd.encodingSchema}toEncodingData(){return new Map([["logic",this.logic],["args",this.args],["logic-multisig-signature",typeof this.logicMultisigSignature<"u"?this.logicMultisigSignature.toEncodingData():void 0],["multisig-signature",typeof this.multisigSignature<"u"?this.multisigSignature.toEncodingData():void 0],["signature",this.signature]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionSignatureLogicsig: ${e}`);return new bd({logic:e.get("logic"),args:e.get("args"),logicMultisigSignature:typeof e.get("logic-multisig-signature")<"u"?Qs.fromEncodingData(e.get("logic-multisig-signature")):void 0,multisigSignature:typeof e.get("multisig-signature")<"u"?Qs.fromEncodingData(e.get("multisig-signature")):void 0,signature:e.get("signature")})}}class Qs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"subsignature",valueSchema:new V(new rt(_d.encodingSchema)),omitEmpty:!0},{key:"threshold",valueSchema:new V(new Z),omitEmpty:!0},{key:"version",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({subsignature:e,threshold:t,version:r}){this.subsignature=e,this.threshold=typeof t>"u"?void 0:ft(t),this.version=typeof r>"u"?void 0:ft(r)}getEncodingSchema(){return Qs.encodingSchema}toEncodingData(){return new Map([["subsignature",typeof this.subsignature<"u"?this.subsignature.map(e=>e.toEncodingData()):void 0],["threshold",this.threshold],["version",this.version]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionSignatureMultisig: ${e}`);return new Qs({subsignature:typeof e.get("subsignature")<"u"?e.get("subsignature").map(t=>_d.fromEncodingData(t)):void 0,threshold:e.get("threshold"),version:e.get("version")})}}class _d{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"public-key",valueSchema:new V(new dt),omitEmpty:!0},{key:"signature",valueSchema:new V(new dt),omitEmpty:!0})),this.encodingSchemaValue}constructor({publicKey:e,signature:t}){this.publicKey=typeof e=="string"?yt(e):e,this.signature=typeof t=="string"?yt(t):t}getEncodingSchema(){return _d.encodingSchema}toEncodingData(){return new Map([["public-key",this.publicKey],["signature",this.signature]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionSignatureMultisigSubsignature: ${e}`);return new _d({publicKey:e.get("public-key"),signature:e.get("signature")})}}class Ad{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"message",valueSchema:new V(nd.encodingSchema),omitEmpty:!0},{key:"state-proof",valueSchema:new V(od.encodingSchema),omitEmpty:!0},{key:"state-proof-type",valueSchema:new V(new Z),omitEmpty:!0})),this.encodingSchemaValue}constructor({message:e,stateProof:t,stateProofType:r}){this.message=e,this.stateProof=t,this.stateProofType=typeof r>"u"?void 0:ft(r)}getEncodingSchema(){return Ad.encodingSchema}toEncodingData(){return new Map([["message",typeof this.message<"u"?this.message.toEncodingData():void 0],["state-proof",typeof this.stateProof<"u"?this.stateProof.toEncodingData():void 0],["state-proof-type",this.stateProofType]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionStateProof: ${e}`);return new Ad({message:typeof e.get("message")<"u"?nd.fromEncodingData(e.get("message")):void 0,stateProof:typeof e.get("state-proof")<"u"?od.fromEncodingData(e.get("state-proof")):void 0,stateProofType:e.get("state-proof-type")})}}class ou{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Ie([]),this.encodingSchemaValue.pushEntries({key:"current-round",valueSchema:new Z,omitEmpty:!0},{key:"transactions",valueSchema:new rt(cs.encodingSchema),omitEmpty:!0},{key:"next-token",valueSchema:new V(new Je),omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:e,transactions:t,nextToken:r}){this.currentRound=He(e),this.transactions=t,this.nextToken=r}getEncodingSchema(){return ou.encodingSchema}toEncodingData(){return new Map([["current-round",this.currentRound],["transactions",this.transactions.map(e=>e.toEncodingData())],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionsResponse: ${e}`);return new ou({currentRound:e.get("current-round"),transactions:(e.get("transactions")??[]).map(t=>cs.fromEncodingData(t)),nextToken:e.get("next-token")})}}const Eq=Object.freeze(Object.defineProperty({__proto__:null,Account:vc,AccountParticipation:zh,AccountResponse:qm,AccountStateDelta:qh,AccountsResponse:$m,Application:da,ApplicationLocalState:xc,ApplicationLocalStatesResponse:Hm,ApplicationLogData:$h,ApplicationLogsResponse:Gm,ApplicationParams:Hh,ApplicationResponse:Km,ApplicationStateSchema:os,ApplicationsResponse:Gh,Asset:fa,AssetBalancesResponse:Wm,AssetHolding:Sc,AssetHoldingsResponse:Ym,AssetParams:Ec,AssetResponse:Jm,AssetsResponse:Kh,Block:au,BlockHeadersResponse:Qm,BlockRewards:Wh,BlockUpgradeState:Yh,BlockUpgradeVote:Jh,Box:Xm,BoxDescriptor:Qh,BoxReference:bc,BoxesResponse:Zm,ErrorResponse:ey,EvalDelta:Xh,EvalDeltaKeyValue:_c,HashFactory:Zh,HbProofFields:ed,HealthCheck:ep,HoldingRef:td,IndexerStateProofMessage:nd,LocalsRef:rd,MerkleArrayProof:Js,MiniAssetHolding:id,ParticipationUpdates:sd,ResourceRef:ad,StateProofFields:od,StateProofParticipant:cd,StateProofReveal:ld,StateProofSigSlot:ud,StateProofSignature:hd,StateProofTracking:dd,StateProofVerifier:fd,StateSchema:Xo,TealKeyValue:Ac,TealValue:md,Transaction:cs,TransactionApplication:pd,TransactionAssetConfig:gd,TransactionAssetFreeze:yd,TransactionAssetTransfer:wd,TransactionHeartbeat:vd,TransactionKeyreg:xd,TransactionPayment:Sd,TransactionResponse:tp,TransactionSignature:Ed,TransactionSignatureLogicsig:bd,TransactionSignatureMultisig:Qs,TransactionSignatureMultisigSubsignature:_d,TransactionStateProof:Ad,TransactionsResponse:ou},Symbol.toStringTag,{value:"Module"}));class bq extends Wt{path(){return"/health"}prepare(e){return pn(e.getJSONText(),ep)}}class _q extends Wt{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/assets/${this.index}/balances`}limit(e){return this.query.limit=e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}prepare(e){return pn(e.getJSONText(),Wm)}}function ty(n){return typeof n=="string"?n:si(n)}class Aq extends Wt{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}/transactions`}notePrefix(e){return this.query["note-prefix"]=ty(e),this}txType(e){return this.query["tx-type"]=e,this}sigType(e){return this.query["sig-type"]=e,this}txid(e){return this.query.txid=e,this}round(e){return this.query.round=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}assetID(e){return this.query["asset-id"]=e,this}limit(e){return this.query.limit=e,this}beforeTime(e){return this.query["before-time"]=e instanceof Date?e.toISOString():e,this}afterTime(e){return this.query["after-time"]=e instanceof Date?e.toISOString():e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}nextToken(e){return this.query.next=e,this}rekeyTo(e){return this.query["rekey-to"]=e,this}prepare(e){return pn(e.getJSONText(),ou)}}class Tq extends Wt{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/assets/${this.index}/transactions`}notePrefix(e){return this.query["note-prefix"]=ty(e),this}txType(e){return this.query["tx-type"]=e,this}sigType(e){return this.query["sig-type"]=e,this}txid(e){return this.query.txid=e,this}round(e){return this.query.round=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}limit(e){return this.query.limit=e,this}beforeTime(e){return this.query["before-time"]=e instanceof Date?e.toISOString():e,this}afterTime(e){return this.query["after-time"]=e instanceof Date?e.toISOString():e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}addressRole(e){return this.query["address-role"]=e,this}address(e){return this.query.address=e.toString(),this}excludeCloseTo(e){return this.query["exclude-close-to"]=e,this}nextToken(e){return this.query.next=e,this}rekeyTo(e){return this.query["rekey-to"]=e,this}prepare(e){return pn(e.getJSONText(),ou)}}class kq extends Wt{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/blocks/${this.round}`}headerOnly(e){return this.query["header-only"]=e,this}prepare(e){return pn(e.getJSONText(),au)}}class Iq extends Wt{constructor(e,t){super(e),this.txID=t}path(){return`/v2/transactions/${this.txID}`}prepare(e){return pn(e.getJSONText(),tp)}}class Cq extends Wt{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}`}round(e){return this.query.round=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}exclude(e){return this.query.exclude=e,this}prepare(e){return pn(e.getJSONText(),qm)}}class Rq extends Wt{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}/assets`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}assetId(e){return this.query["asset-id"]=e,this}prepare(e){return pn(e.getJSONText(),Ym)}}class Nq extends Wt{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}/created-assets`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}assetID(e){return this.query["asset-id"]=e,this}prepare(e){return pn(e.getJSONText(),Kh)}}class Dq extends Wt{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}/apps-local-state`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}applicationID(e){return this.query["application-id"]=e,this}prepare(e){return pn(e.getJSONText(),Hm)}}class Mq extends Wt{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}/created-applications`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}applicationID(e){return this.query["application-id"]=e,this}prepare(e){return pn(e.getJSONText(),Gh)}}class Fq extends Wt{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/assets/${this.index}`}includeAll(e=!0){return this.query["include-all"]=e,this}prepare(e){return pn(e.getJSONText(),Jm)}}class Oq extends Wt{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/applications/${this.index}`}includeAll(e=!0){return this.query["include-all"]=e,this}prepare(e){return pn(e.getJSONText(),Km)}}class Pq extends Wt{constructor(e,t){super(e),this.appID=BigInt(t)}path(){return`/v2/applications/${this.appID}/logs`}limit(e){return this.query.limit=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}nextToken(e){return this.query.next=e,this}sender(e){return this.query["sender-address"]=e,this}txid(e){return this.query.txid=e,this}prepare(e){return pn(e.getJSONText(),Gm)}}class jq extends Wt{constructor(e,t,r){super(e),this.index=BigInt(t);const s=si(r);this.query.name=encodeURI(`b64:${s}`)}path(){return`/v2/applications/${this.index}/box`}prepare(e){return pn(e.getJSONText(),Xm)}}class Vq extends Wt{path(){return"/v2/accounts"}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}limit(e){return this.query.limit=e,this}assetID(e){return this.query["asset-id"]=e,this}nextToken(e){return this.query.next=e,this}round(e){return this.query.round=e,this}authAddr(e){return this.query["auth-addr"]=e.toString(),this}applicationID(e){return this.query["application-id"]=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}exclude(e){return this.query.exclude=e,this}onlineOnly(e){return this.query["online-only"]=e,this}prepare(e){return pn(e.getJSONText(),$m)}}class Bq extends Wt{path(){return"/v2/block-headers"}absent(e){return this.query.absent=e,this}afterTime(e){return this.query["after-time"]=e instanceof Date?e.toISOString():e,this}beforeTime(e){return this.query["before-time"]=e instanceof Date?e.toISOString():e,this}expired(e){return this.query.expired=e,this}limit(e){return this.query.limit=e,this}maxRound(e){return this.query["max-round"]=e,this}minRound(e){return this.query["min-round"]=e,this}nextToken(e){return this.query.next=e,this}proposers(e){return this.query.proposers=e,this}prepare(e){return pn(e.getJSONText(),Qm)}}class Uq extends Wt{path(){return"/v2/transactions"}notePrefix(e){return this.query["note-prefix"]=ty(e),this}txType(e){return this.query["tx-type"]=e,this}sigType(e){return this.query["sig-type"]=e,this}txid(e){return this.query.txid=e,this}groupid(e){return this.query["group-id"]=ty(e),this}round(e){return this.query.round=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}assetID(e){return this.query["asset-id"]=e,this}limit(e){return this.query.limit=e,this}beforeTime(e){return this.query["before-time"]=e instanceof Date?e.toISOString():e,this}afterTime(e){return this.query["after-time"]=e instanceof Date?e.toISOString():e,this}addressRole(e){return this.query["address-role"]=e,this}address(e){return this.query.address=e.toString(),this}excludeCloseTo(e){return this.query["exclude-close-to"]=e,this}nextToken(e){return this.query.next=e,this}rekeyTo(e){return this.query["rekey-to"]=e,this}applicationID(e){return this.query["application-id"]=e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}prepare(e){return pn(e.getJSONText(),ou)}}class Lq extends Wt{path(){return"/v2/assets"}limit(e){return this.query.limit=e,this}creator(e){return this.query.creator=e.toString(),this}name(e){return this.query.name=e,this}unit(e){return this.query.unit=e,this}index(e){return this.query["asset-id"]=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}prepare(e){return pn(e.getJSONText(),Kh)}}class zq extends Wt{path(){return"/v2/applications"}index(e){return this.query["application-id"]=e,this}creator(e){return this.query.creator=e.toString(),this}nextToken(e){return this.query.next=e,this}limit(e){return this.query.limit=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}prepare(e){return pn(e.getJSONText(),Gh)}}class qq extends Wt{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/applications/${this.index}/boxes`}nextToken(e){return this.query.next=e,this}limit(e){return this.query.limit=e,this}prepare(e){return pn(e.getJSONText(),Zm)}}class $q extends ZE{constructor(e,t="http://127.0.0.1",r=8080,s={}){super("X-Indexer-API-Token",e,t,r,s)}makeHealthCheck(){return new bq(this.c)}lookupAssetBalances(e){return new _q(this.c,e)}lookupAssetTransactions(e){return new Tq(this.c,e)}lookupAccountTransactions(e){return new Aq(this.c,e)}lookupBlock(e){return new kq(this.c,e)}lookupTransactionByID(e){return new Iq(this.c,e)}lookupAccountByID(e){return new Cq(this.c,e)}lookupAccountAssets(e){return new Rq(this.c,e)}lookupAccountCreatedAssets(e){return new Nq(this.c,e)}lookupAccountAppLocalStates(e){return new Dq(this.c,e)}lookupAccountCreatedApplications(e){return new Mq(this.c,e)}lookupAssetByID(e){return new Fq(this.c,e)}lookupApplications(e){return new Oq(this.c,e)}lookupApplicationLogs(e){return new Pq(this.c,e)}searchAccounts(){return new Vq(this.c)}searchForBlockHeaders(){return new Bq(this.c)}searchForTransactions(){return new Uq(this.c)}searchForAssets(){return new Lq(this.c)}searchForApplications(){return new zq(this.c)}searchForApplicationBoxes(e){return new qq(this.c,e)}lookupApplicationBoxByIDandName(e,t){return new jq(this.c,e,t)}}async function lR(n,e,t){const r=await n.status().do();if(typeof r>"u")throw new Error("Unable to get node status");const s=r.lastRound+BigInt(1),o=s+BigInt(t);let l=s;for(;l<o;){let h=!1;try{const p=await n.pendingTransactionInformation(e).do();if(p.confirmedRound)return p;if(p.poolError)throw h=!0,new Error(`Transaction Rejected: ${p.poolError}`)}catch(p){if(h)throw p}await n.statusAfterBlock(l).do(),l+=BigInt(1)}throw new Error(`Transaction not confirmed after ${t} rounds`)}function cu(n,e){let t=n.toString(16);t.length!==e*2&&(t=t.padStart(e*2,"0"));const r=new Uint8Array(t.length/2);for(let s=0,o=0;s<t.length/2;s++,o+=2)r[s]=parseInt(t.slice(o,o+2),16);return r}function nb(n){let e=BigInt(0);const t=new DataView(n.buffer,n.byteOffset);for(let r=0;r<n.length;r++)e=BigInt(Number(t.getUint8(r)))+e*BigInt(256);return e}function Hq(){const n=KL();return{addr:new Kt(n.publicKey),sk:n.secretKey}}const SS=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"],Fx="failed to decode mnemonic",Gq="the mnemonic contains a word that is not in the wordlist";function uR(n){const e=[];let t=0,r=0;function s(l){t|=l<<r,r+=8,r>=11&&(e.push(t&2047),t>>=11,r-=11)}function o(){r&&e.push(t)}return n.forEach(s),o(),e}function hR(n){return n.map(e=>SS[e])}function dR(n){const e=io(n),t=uR(e);return hR(t)[0]}function rb(n){if(n.length!==R1)throw new RangeError(`Seed length must be ${R1}`);const e=uR(n),t=hR(e),r=dR(n);return`${t.join(" ")} ${r}`}function Kq(n){const e=[];let t=0,r=0;function s(l){for(t|=l<<r,r+=11;r>=8;)e.push(t&255),t>>=8,r-=8}function o(){r&&e.push(t)}return n.forEach(s),o(),new Uint8Array(e)}function ib(n){const e=n.split(" "),t=e.slice(0,24);for(const h of t)if(SS.indexOf(h)===-1)throw new Error(Gq);const r=e[e.length-1],s=t.map(h=>SS.indexOf(h));let o=Kq(s);if(o.length!==33)throw new Error(Fx);if(o[o.length-1]!==0)throw new Error(Fx);if(o=o.slice(0,o.length-1),dR(o)===r)return o;throw new Error(Fx)}function Wq(n){const e=ib(n),t=RC(e);return{addr:new Kt(t.publicKey),sk:t.secretKey}}function Yq(n){const e=n.slice(0,R1);return rb(e)}function Jq(n){return ib(n)}function Qq(n){return rb(n)}const g6=16,Xq=new TextEncoder().encode("TG");function Zq(n){if(n.length>g6)throw new Error(`${n.length} transactions grouped together but max group size is ${g6}`);if(n.length===0)throw new Error("Cannot compute group ID of zero transactions");const e=Sp({txlist:n});return Lr(Xq,e)}function fR(n){const e=[];for(const s of n)e.push(s.rawTxID());const t=Zq(e),r=io(t);return Uint8Array.from(r)}function mR(n){const e=fR(n);for(const t of n)t.group=e;return n}function e$(n,e,t){if(!e.verify(t.publicKey))throw new Error("Logic signature verification failed. Ensure the program and signature are valid.");let r;DC(t.publicKey,n.sender.publicKey)||(r=t);const s=new Jn({lsig:e,txn:n,sgnr:r});return{txID:n.txID(),blob:us(s)}}function sb(n,e){let t,r;if(e instanceof ml)t=e.lsig,r=e.address();else if(t=e,t.sig)r=new Kt(n.sender.publicKey);else if(t.lmsig){const s={version:t.lmsig.v,threshold:t.lmsig.thr,pks:t.lmsig.subsig.map(o=>o.pk)};r=so(s)}else r=t.address();return e$(n,t,r)}function t$(n,e){return sb(n,e)}const n$="Not enough multisig transactions to merge. Need at least two",r$="Cannot merge txs. txIDs differ",i$="Cannot merge txs. Auth addrs differ",y6="Cannot merge txs. Multisig preimages differ",s$="Cannot merge txs. subsigs are mismatched.",a$="Cannot add multisig signature. Signature is not of the correct length.",o$="Key does not exist";function pR(n,{version:e,threshold:t,addrs:r}){const s=Vd(r),o=s.map(v=>({pk:v})),l={v:e,thr:t,subsig:o},h=so({version:e,threshold:t,pks:s});let p;n.sender.equals(h)||(p=h);const f=new Jn({txn:n,msig:l,sgnr:p});return us(f)}function gR(n,{rawSig:e,myPk:t},{version:r,threshold:s,pks:o}){const l=pR(n,{version:r,threshold:s,addrs:o.map(f=>new Kt(f))}),h=xr(l,Jn);let p=!1;if(h.msig.subsig.forEach((f,v)=>{DC(f.pk,t)&&(p=!0,h.msig.subsig[v].s=e)}),!p)throw new Error(o$);return us(h)}function yR(n,{version:e,threshold:t,pks:r},s){const o=By(s).publicKey;return gR(n,{rawSig:n.rawSignTxn(s),myPk:o},{version:e,threshold:t,pks:r})}function c$(n,e,t,r){if(!NC(r.length))throw new Error(a$);const s=typeof t=="string"?Kt.fromString(t):t;return gR(n,{rawSig:r,myPk:s.publicKey},e)}function Jy(n){if(n.length<2)throw new Error(n$);const e=xr(n[0],Jn);if(!e.msig)throw new Error("Invalid multisig transaction, multisig structure missing at index 0");const t=e.txn.txID(),r=e.sgnr?e.sgnr.toString():void 0,s={version:e.msig.v,threshold:e.msig.thr,pks:e.msig.subsig.map(v=>v.pk)},o=so(s),l=e.msig.subsig.map(v=>({...v}));for(let v=1;v<n.length;v++){const S=xr(n[v],Jn);if(!S.msig)throw new Error(`Invalid multisig transaction, multisig structure missing at index ${v}`);if(S.txn.txID()!==t)throw new Error(r$);const C=S.sgnr?S.sgnr.toString():void 0;if(r!==C)throw new Error(i$);if(S.msig.subsig.length!==e.msig.subsig.length)throw new Error(y6);const R={version:S.msig.v,threshold:S.msig.thr,pks:S.msig.subsig.map(re=>re.pk)},B=so(R);if(!o.equals(B))throw new Error(y6);S.msig.subsig.forEach((re,N)=>{if(!re.s)return;const U=l[N];if(U.s&&!la(re.s,U.s))throw new Error(s$);U.s=re.s})}const h={v:e.msig.v,thr:e.msig.thr,subsig:l},p=typeof r<"u"?e.sgnr:void 0,f=new Jn({msig:h,txn:e.txn,sgnr:p});return us(f)}function wR(n,{version:e,threshold:t,addrs:r},s){const o=Vd(r),l=yR(n,{version:e,threshold:t,pks:o},s);return{txID:n.txID(),blob:l}}function l$(n,{version:e,threshold:t,addrs:r},s){const o=Vd(r),l=xr(n,Jn),h=yR(l.txn,{version:e,threshold:t,pks:o},s);return{txID:l.txn.txID(),blob:Jy([n,h])}}function u$(n,{version:e,threshold:t,addrs:r},s,o){const l=Vd(r),h=xr(n,Jn),p=c$(h.txn,{version:e,threshold:t,pks:l},s,o);return{txID:h.txn.txID(),blob:Jy([n,p])}}let vR={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach(function(n,e){vR[n]=e});function h$(n){let e=[],t=0,r=0;for(let s=0;s<n.length;s+=1){let o=vR[n[s]];if(o===void 0)throw new Error("Invalid character ("+n[s]+")");const l=o&32;if(o&=31,r+=o<<t,l)t+=5;else{const h=r&1;r>>>=1,h?e.push(r===0?-2147483648:-r):e.push(r),r=t=0}}return e}class d${constructor({version:e,sources:t,names:r,mappings:s}){if(this.version=e,this.sources=t,this.names=r,this.mappings=s,this.version!==3)throw new Error(`Only version 3 is supported, got ${this.version}`);if(this.mappings===void 0)throw new Error("mapping undefined, cannot build source map without `mapping`");const o=this.mappings.split(";").map(h$);this.pcToLocation=new Map,this.sourceAndLineToPc=new Map;const l={line:0,column:0,sourceIndex:0,nameIndex:0};for(const[h,p]of o.entries()){if(p.length<4)continue;const f=p.length>4?p[4]:void 0,[,v,S,C]=p;l.sourceIndex+=v,l.line+=S,l.column+=C,typeof f<"u"&&(l.nameIndex+=f);const R=`${l.sourceIndex}:${l.line}`;let B=this.sourceAndLineToPc.get(R);B===void 0&&(B=[],this.sourceAndLineToPc.set(R,B));const re={pc:h,column:l.column},N={line:l.line,column:l.column,sourceIndex:l.sourceIndex};typeof f<"u"&&(re.nameIndex=l.nameIndex,N.nameIndex=l.nameIndex),B.push(re),this.pcToLocation.set(h,N)}}getPcs(){return Array.from(this.pcToLocation.keys())}getLocationForPc(e){return this.pcToLocation.get(e)}getPcsOnSourceLine(e,t){const r=this.sourceAndLineToPc.get(`${e}:${t}`);return r===void 0?[]:r}}const f$=1380011588,ab=30;async function m$({client:n,txns:e,protocolVersion:t,latestTimestamp:r,round:s,sources:o}){const l=[],h=[],p=[],f=[],v=[];for(const B of e)if(B.txn.type===Bn.appl)if(v.push(B.txn.sender.toString()),v.push(...B.txn.applicationCall.accounts.map(re=>re.toString())),p.push(...B.txn.applicationCall.foreignApps),v.push(...B.txn.applicationCall.foreignApps.map(N1).map(re=>re.toString())),f.push(...B.txn.applicationCall.foreignAssets),B.txn.applicationCall.appIndex===BigInt(0))l.push(new nu({id:f$,params:new _h({creator:B.txn.sender.toString(),approvalProgram:B.txn.applicationCall.approvalProgram,clearStateProgram:B.txn.applicationCall.clearProgram,localStateSchema:new bs({numUint:B.txn.applicationCall.numLocalInts,numByteSlice:B.txn.applicationCall.numLocalByteSlices}),globalStateSchema:new bs({numUint:B.txn.applicationCall.numGlobalInts,numByteSlice:B.txn.applicationCall.numGlobalByteSlices})})}));else{const{appIndex:re}=B.txn.applicationCall;p.push(re),v.push(N1(re).toString())}const S=[];for(const B of new Set(f))S.push(n.getAssetByID(B).do().then(re=>{v.push(re.params.creator)}));await Promise.all(S);const C=[];for(const B of new Set(p))C.push(n.getApplicationByID(B).do().then(re=>{l.push(re),v.push(re.params.creator.toString())}));await Promise.all(C);const R=[];for(const B of new Set(v))R.push(n.accountInformation(B).do().then(re=>{h.push(re)}));return await Promise.all(R),new Nm({txns:e.slice(),accounts:h,apps:l,latestTimestamp:r??0,round:s??0,protocolVersion:t??"",sources:o??[]})}function Ox(n,e){return n.length>e&&e>0?`${n.slice(0,e)}...`:n}function p$(n,e){if(e.length===0)return"";let t=null;for(let s=0;s<e.length;s++){if(s>n.length){t=s;continue}Tl(n[s])!==Tl(e[s])&&(t=s)}if(t==null)return"";const r=e[t];return r.bytes.length>0?`${t} = 0x${zy(r.bytes)}`:`${t} = ${r.uint.toString()}`}function g$(n,e){return`[${(e?n.reverse():n).map(r=>{switch(r.type){case 1:return`0x${zy(r.bytes)}`;case 2:return r.uint.toString();default:return""}}).join(", ")}]`}function xR(n,e,t){const r=t.maxValueWidth||ab,s=[["pc#","ln#","source","scratch","stack"]];for(let l=0;l<n.length;l++){const{line:h,error:p,pc:f,scratch:v,stack:S}=n[l],C=v!==void 0?v:[],R=l>0&&n[l-1].scratch!==void 0?n[l-1].scratch:[],B=p?`!! ${p} !!`:e[h];s.push([f.toString().padEnd(3," "),h.toString().padEnd(3," "),Ox(B,r),Ox(p$(R,C),r),Ox(g$(S,t.topOfStackFirst),r)])}const o=s.reduce((l,h)=>{const p=new Array(s[0].length).fill(0);for(let f=0;f<l.length;f++)p[f]=h[f].length>l[f]?h[f].length:l[f];return p},new Array(s[0].length).fill(0));return`${s.map(l=>l.map((h,p)=>h.padEnd(o[p]+1," ")).join("|").trim()).join(`
`)}
`}function y$(n,e){if(!n.appCallTrace||!n.disassembly)return"";let t=e;return e!==void 0?t=e:t={maxValueWidth:ab,topOfStackFirst:!1},xR(n.appCallTrace,n.disassembly,t)}function w$(n,e){if(!n.logicSigTrace||!n.logicSigDisassembly)return"";let t;return e!==void 0?t=e:t={maxValueWidth:ab,topOfStackFirst:!0},xR(n.logicSigTrace,n.logicSigDisassembly,t)}function v$({sender:n,receiver:e,amount:t,closeRemainderTo:r,suggestedParams:s,note:o,lease:l,rekeyTo:h}){return new hs({type:Bn.pay,sender:n,note:o,lease:l,rekeyTo:h,suggestedParams:s,paymentParams:{receiver:e,amount:t,closeRemainderTo:r}})}function x$({sender:n,voteKey:e,selectionKey:t,stateProofKey:r,voteFirst:s,voteLast:o,voteKeyDilution:l,nonParticipation:h,suggestedParams:p,note:f,lease:v,rekeyTo:S}){return new hs({type:Bn.keyreg,sender:n,note:f,lease:v,rekeyTo:S,suggestedParams:p,keyregParams:{voteKey:e,selectionKey:t,stateProofKey:r,voteFirst:s,voteLast:o,voteKeyDilution:l,nonParticipation:h}})}function Qy({sender:n,assetIndex:e,total:t,decimals:r,defaultFrozen:s,manager:o,reserve:l,freeze:h,clawback:p,unitName:f,assetName:v,assetURL:S,assetMetadataHash:C,note:R,lease:B,rekeyTo:re,suggestedParams:N}){return new hs({type:Bn.acfg,sender:n,note:R,lease:B,rekeyTo:re,suggestedParams:N,assetConfigParams:{assetIndex:e,total:t,decimals:r,defaultFrozen:s,manager:o,reserve:l,freeze:h,clawback:p,unitName:f,assetName:v,assetURL:S,assetMetadataHash:C}})}function S$({sender:n,total:e,decimals:t,defaultFrozen:r,manager:s,reserve:o,freeze:l,clawback:h,unitName:p,assetName:f,assetURL:v,assetMetadataHash:S,note:C,lease:R,rekeyTo:B,suggestedParams:re}){return Qy({sender:n,total:e,decimals:t,defaultFrozen:r,manager:s,reserve:o,freeze:l,clawback:h,unitName:p,assetName:f,assetURL:v,assetMetadataHash:S,note:C,lease:R,rekeyTo:B,suggestedParams:re})}function E$({sender:n,assetIndex:e,manager:t,reserve:r,freeze:s,clawback:o,strictEmptyAddressChecking:l,note:h,lease:p,rekeyTo:f,suggestedParams:v}){if(!e)throw Error("assetIndex must be provided");if((l??!0)&&(t==null||r==null||s==null||o==null))throw Error("strictEmptyAddressChecking is enabled, but an address is empty. If this is intentional, set strictEmptyAddressChecking to false.");return Qy({sender:n,assetIndex:e,manager:t,reserve:r,freeze:s,clawback:o,note:h,lease:p,rekeyTo:f,suggestedParams:v})}function b$({sender:n,assetIndex:e,note:t,lease:r,rekeyTo:s,suggestedParams:o}){if(!e)throw Error("assetIndex must be provided");return Qy({sender:n,assetIndex:e,note:t,lease:r,rekeyTo:s,suggestedParams:o})}function _$({sender:n,assetIndex:e,freezeTarget:t,frozen:r,suggestedParams:s,note:o,lease:l,rekeyTo:h}){return new hs({type:Bn.afrz,sender:n,note:o,lease:l,rekeyTo:h,suggestedParams:s,assetFreezeParams:{assetIndex:e,freezeTarget:t,frozen:r}})}function A$({sender:n,receiver:e,amount:t,closeRemainderTo:r,assetSender:s,note:o,assetIndex:l,suggestedParams:h,rekeyTo:p,lease:f}){if(!l)throw Error("assetIndex must be provided");return new hs({type:Bn.axfer,sender:n,note:o,lease:f,rekeyTo:p,suggestedParams:h,assetTransferParams:{assetIndex:l,receiver:e,amount:t,assetSender:s,closeRemainderTo:r}})}function uo({sender:n,appIndex:e,onComplete:t,appArgs:r,accounts:s,foreignApps:o,foreignAssets:l,boxes:h,convertToAccess:p,holdings:f,locals:v,access:S,approvalProgram:C,clearProgram:R,numLocalInts:B,numLocalByteSlices:re,numGlobalInts:N,numGlobalByteSlices:U,extraPages:q,rejectVersion:G,note:he,lease:pe,rekeyTo:K,suggestedParams:P}){if(t==null)throw Error("onComplete must be provided");if(S&&(s||o||l||h||f||v))throw Error("cannot specify both access and other access fields");let M=S;return p&&(M=az({appIndex:e,accounts:s,foreignApps:o,foreignAssets:l,holdings:f,locals:v,boxes:h})),new hs({type:Bn.appl,sender:n,note:he,lease:pe,rekeyTo:K,suggestedParams:P,appCallParams:{appIndex:e,onComplete:t,appArgs:r,accounts:M?void 0:s,foreignAssets:M?void 0:l,foreignApps:M?void 0:o,boxes:M?void 0:h,access:M,approvalProgram:C,clearProgram:R,numLocalInts:B,numLocalByteSlices:re,numGlobalInts:N,numGlobalByteSlices:U,extraPages:q,rejectVersion:G}})}function T$({sender:n,onComplete:e,appArgs:t,accounts:r,foreignApps:s,foreignAssets:o,boxes:l,convertToAccess:h,holdings:p,locals:f,access:v,approvalProgram:S,clearProgram:C,numLocalInts:R,numLocalByteSlices:B,numGlobalInts:re,numGlobalByteSlices:N,extraPages:U,note:q,lease:G,rekeyTo:he,suggestedParams:pe}){if(!S||!C)throw Error("approvalProgram and clearProgram must be provided");if(e==null)throw Error("onComplete must be provided");return uo({sender:n,appIndex:0,onComplete:e,appArgs:t,accounts:r,foreignApps:s,foreignAssets:o,boxes:l,convertToAccess:h,holdings:p,locals:f,access:v,approvalProgram:S,clearProgram:C,numLocalInts:R,numLocalByteSlices:B,numGlobalInts:re,numGlobalByteSlices:N,extraPages:U,note:q,lease:G,rekeyTo:he,suggestedParams:pe})}function k$({sender:n,appIndex:e,appArgs:t,accounts:r,foreignApps:s,foreignAssets:o,boxes:l,convertToAccess:h,holdings:p,locals:f,access:v,approvalProgram:S,clearProgram:C,note:R,lease:B,rekeyTo:re,suggestedParams:N}){if(!e)throw Error("appIndex must be provided");if(!S||!C)throw Error("approvalProgram and clearProgram must be provided");return uo({sender:n,appIndex:e,onComplete:ai.UpdateApplicationOC,appArgs:t,accounts:r,foreignApps:s,foreignAssets:o,boxes:l,convertToAccess:h,holdings:p,locals:f,access:v,approvalProgram:S,clearProgram:C,note:R,lease:B,rekeyTo:re,suggestedParams:N})}function I$({sender:n,appIndex:e,appArgs:t,accounts:r,foreignApps:s,foreignAssets:o,boxes:l,convertToAccess:h,holdings:p,locals:f,access:v,note:S,lease:C,rekeyTo:R,suggestedParams:B}){if(!e)throw Error("appIndex must be provided");return uo({sender:n,appIndex:e,onComplete:ai.DeleteApplicationOC,appArgs:t,accounts:r,foreignApps:s,foreignAssets:o,boxes:l,convertToAccess:h,holdings:p,locals:f,access:v,note:S,lease:C,rekeyTo:R,suggestedParams:B})}function C$({sender:n,appIndex:e,appArgs:t,accounts:r,foreignApps:s,foreignAssets:o,boxes:l,convertToAccess:h,holdings:p,locals:f,access:v,note:S,lease:C,rekeyTo:R,suggestedParams:B}){if(!e)throw Error("appIndex must be provided");return uo({sender:n,appIndex:e,onComplete:ai.OptInOC,appArgs:t,accounts:r,foreignApps:s,foreignAssets:o,boxes:l,note:S,convertToAccess:h,holdings:p,locals:f,access:v,lease:C,rekeyTo:R,suggestedParams:B})}function R$({sender:n,appIndex:e,appArgs:t,accounts:r,foreignApps:s,foreignAssets:o,boxes:l,convertToAccess:h,holdings:p,locals:f,access:v,note:S,lease:C,rekeyTo:R,suggestedParams:B}){if(!e)throw Error("appIndex must be provided");return uo({sender:n,appIndex:e,onComplete:ai.CloseOutOC,appArgs:t,accounts:r,foreignApps:s,foreignAssets:o,boxes:l,convertToAccess:h,holdings:p,locals:f,access:v,note:S,lease:C,rekeyTo:R,suggestedParams:B})}function N$({sender:n,appIndex:e,appArgs:t,accounts:r,foreignApps:s,foreignAssets:o,boxes:l,convertToAccess:h,holdings:p,locals:f,access:v,note:S,lease:C,rekeyTo:R,suggestedParams:B}){if(!e)throw Error("appIndex must be provided");return uo({sender:n,appIndex:e,onComplete:ai.ClearStateOC,appArgs:t,accounts:r,foreignApps:s,foreignAssets:o,boxes:l,convertToAccess:h,holdings:p,locals:f,access:v,note:S,lease:C,rekeyTo:R,suggestedParams:B})}function D$({sender:n,appIndex:e,appArgs:t,accounts:r,foreignApps:s,foreignAssets:o,boxes:l,convertToAccess:h,holdings:p,locals:f,access:v,note:S,lease:C,rekeyTo:R,suggestedParams:B}){if(!e)throw Error("appIndex must be provided");return uo({sender:n,appIndex:e,onComplete:ai.NoOpOC,appArgs:t,accounts:r,foreignApps:s,foreignAssets:o,boxes:l,convertToAccess:h,holdings:p,locals:f,access:v,note:S,lease:C,rekeyTo:R,suggestedParams:B})}function M$(n){return(e,t)=>{const r=[];for(const s of t)r.push(e[s].signTxn(n.sk));return Promise.resolve(r)}}function F$(n){return(e,t)=>{const r=[];for(const s of t){const{blob:o}=sb(e[s],n);r.push(o)}return Promise.resolve(r)}}function O$(n,e){return(t,r)=>{const s=[];for(const o of r){const l=t[o],h=[];for(const p of e){const{blob:f}=wR(l,n,p);h.push(f)}h.length>1?s.push(Jy(h)):s.push(h[0])}return Promise.resolve(s)}}function P$(){return(n,e)=>{const t=[];for(const r of e)t.push(rR(n[r]));return Promise.resolve(t)}}function ES(n){return typeof n=="object"&&Object.keys(n).length===2&&typeof n.txn=="object"&&typeof n.signer=="function"}const pl=2**16-1,SR=32,ER=1,bR=1,Di=2,j$=/^([a-z\d[\](),]+)\[(0|[1-9][\d]*)]$/,V$=/^ufixed([1-9][\d]*)x([1-9][\d]*)$/;class gi{static from(e){if(e.endsWith("[]")){const t=gi.from(e.slice(0,e.length-2));return new nw(t)}if(e.endsWith("]")){const t=e.match(j$);if(!t||t.length!==3)throw new Error(`malformed static array string: ${e}`);const r=t[2],s=parseInt(r,10);if(s>pl)throw new Error(`array length exceeds limit ${pl}`);const o=gi.from(t[1]);return new tw(o,s)}if(e.startsWith("uint")){const t=o=>[...o].every(l=>"0123456789".includes(l)),r=e.slice(4,e.length);if(!t(r))throw new Error(`malformed uint string: ${r}`);const s=parseInt(r,10);if(s>pl)throw new Error(`malformed uint string: ${s}`);return new gl(s)}if(e==="byte")return new Zy;if(e.startsWith("ufixed")){const t=e.match(V$);if(!t||t.length!==3)throw new Error(`malformed ufixed type: ${e}`);const r=parseInt(t[1],10),s=parseInt(t[2],10);return new Xy(r,s)}if(e==="bool")return new Wa;if(e==="address")return new Ep;if(e==="string")return new ew;if(e.length>=2&&e[0]==="("&&e[e.length-1]===")"){const t=co.parseTupleContent(e.slice(1,e.length-1)),r=[];for(let s=0;s<t.length;s++){const o=gi.from(t[s]);r.push(o)}return new co(r)}throw new Error(`cannot convert a string ${e} to an ABI type`)}}class gl extends gi{constructor(e){if(super(),e%8!==0||e<8||e>512)throw new Error(`unsupported uint type bitSize: ${e}`);this.bitSize=e}toString(){return`uint${this.bitSize}`}equals(e){return e instanceof gl&&this.bitSize===e.bitSize}isDynamic(){return!1}byteLen(){return this.bitSize/8}encode(e){if(typeof e!="bigint"&&typeof e!="number")throw new Error(`Cannot encode value as uint${this.bitSize}: ${e}`);if(e>=BigInt(2**this.bitSize)||e<BigInt(0))throw new Error(`${e} is not a non-negative int or too big to fit in size uint${this.bitSize}`);if(typeof e=="number"&&!Number.isSafeInteger(e))throw new Error(`${e} should be converted into a BigInt before it is encoded`);return cu(e,this.bitSize/8)}decode(e){if(e.length!==this.bitSize/8)throw new Error(`byte string must correspond to a uint${this.bitSize}`);return nb(e)}}class Xy extends gi{constructor(e,t){if(super(),e%8!==0||e<8||e>512)throw new Error(`unsupported ufixed type bitSize: ${e}`);if(t>160||t<1)throw new Error(`unsupported ufixed type precision: ${t}`);this.bitSize=e,this.precision=t}toString(){return`ufixed${this.bitSize}x${this.precision}`}equals(e){return e instanceof Xy&&this.bitSize===e.bitSize&&this.precision===e.precision}isDynamic(){return!1}byteLen(){return this.bitSize/8}encode(e){if(typeof e!="bigint"&&typeof e!="number")throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);if(e>=BigInt(2**this.bitSize)||e<BigInt(0))throw new Error(`${e} is not a non-negative int or too big to fit in size ${this.toString()}`);if(typeof e=="number"&&!Number.isSafeInteger(e))throw new Error(`${e} should be converted into a BigInt before it is encoded`);return cu(e,this.bitSize/8)}decode(e){if(e.length!==this.bitSize/8)throw new Error(`byte string must correspond to a ${this.toString()}`);return nb(e)}}class Ep extends gi{toString(){return"address"}equals(e){return e instanceof Ep}isDynamic(){return!1}byteLen(){return SR}encode(e){if(typeof e=="string")return OC(e).publicKey;if(e instanceof Kt)return e.publicKey;if(e instanceof Uint8Array){if(e.byteLength!==32)throw new Error("byte string must be 32 bytes long for an address");return e}throw new Error(`Cannot encode value as ${this.toString()}: ${e}`)}decode(e){if(e.byteLength!==32)throw new Error("byte string must be 32 bytes long for an address");return jC(e)}}class Wa extends gi{toString(){return"bool"}equals(e){return e instanceof Wa}isDynamic(){return!1}byteLen(){return bR}encode(e){if(typeof e!="boolean")throw new Error(`Cannot encode value as bool: ${e}`);return e?new Uint8Array([128]):new Uint8Array([0])}decode(e){if(e.byteLength!==1)throw new Error("bool string must be 1 byte long");const t=e[0];if(t===128)return!0;if(t===0)return!1;throw new Error("boolean could not be decoded from the byte string")}}class Zy extends gi{toString(){return"byte"}equals(e){return e instanceof Zy}isDynamic(){return!1}byteLen(){return ER}encode(e){if(typeof e!="number"&&typeof e!="bigint")throw new Error(`Cannot encode value as byte: ${e}`);if(typeof e=="bigint"&&(e=Number(e)),e<0||e>255)throw new Error(`${e} cannot be encoded into a byte`);return new Uint8Array([e])}decode(e){if(e.byteLength!==1)throw new Error("byte string must be 1 byte long");return e[0]}}class ew extends gi{toString(){return"string"}equals(e){return e instanceof ew}isDynamic(){return!0}byteLen(){throw new Error(`${this.toString()} is a dynamic type`)}encode(e){if(typeof e!="string"&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as string: ${e}`);let t;typeof e=="string"?t=new TextEncoder().encode(e):t=e;const r=cu(t.length,Di),s=new Uint8Array(t.length+Di);return s.set(r),s.set(t,Di),s}decode(e){if(e.length<Di)throw new Error(`byte string is too short to be decoded. Actual length is ${e.length}, but expected at least ${Di}`);const r=new DataView(e.buffer,e.byteOffset,Di).getUint16(0),s=e.slice(Di,e.length);if(r!==s.length)throw new Error(`string length bytes do not match the actual length of string. Expected ${r}, got ${s.length}`);return new TextDecoder("utf-8").decode(s)}}class tw extends gi{constructor(e,t){if(super(),t<0)throw new Error(`static array must have a non negative length: ${t}`);this.childType=e,this.staticLength=t}toString(){return`${this.childType.toString()}[${this.staticLength}]`}equals(e){return e instanceof tw&&this.staticLength===e.staticLength&&this.childType.equals(e.childType)}isDynamic(){return this.childType.isDynamic()}byteLen(){return this.childType.constructor===Wa?Math.ceil(this.staticLength/8):this.staticLength*this.childType.byteLen()}encode(e){if(!Array.isArray(e)&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);if(e.length!==this.staticLength)throw new Error(`Value array does not match static array length. Expected ${this.staticLength}, got ${e.length}`);return this.toABITupleType().encode(e)}decode(e){return this.toABITupleType().decode(e)}toABITupleType(){return new co(Array(this.staticLength).fill(this.childType))}}class nw extends gi{constructor(e){super(),this.childType=e}toString(){return`${this.childType.toString()}[]`}equals(e){return e instanceof nw&&this.childType.equals(e.childType)}isDynamic(){return!0}byteLen(){throw new Error(`${this.toString()} is a dynamic type`)}encode(e){if(!Array.isArray(e)&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);const t=this.toABITupleType(e.length),r=t.encode(e),s=cu(t.childTypes.length,Di);return Lr(s,r)}decode(e){const r=new DataView(e.buffer,0,Di).getUint16(0);return this.toABITupleType(r).decode(e.slice(Di,e.length))}toABITupleType(e){return new co(Array(e).fill(this.childType))}}class co extends gi{constructor(e){if(super(),e.length>=pl)throw new Error("tuple type child type number larger than maximum uint16 error");this.childTypes=e}toString(){const e=[];for(let t=0;t<this.childTypes.length;t++)e[t]=this.childTypes[t].toString();return`(${e.join(",")})`}equals(e){return e instanceof co&&this.childTypes.length===e.childTypes.length&&this.childTypes.every((t,r)=>t.equals(e.childTypes[r]))}isDynamic(){const e=t=>t.isDynamic();return this.childTypes.some(e)}byteLen(){let e=0;for(let t=0;t<this.childTypes.length;t++)if(this.childTypes[t].constructor===Wa){const r=zf(this.childTypes,t,1),s=r+1;t+=r,e+=Math.trunc((s+7)/8)}else{const r=this.childTypes[t].byteLen();e+=r}return e}encode(e){if(!Array.isArray(e)&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);const t=Array.from(e);if(e.length>pl)throw new Error("length of tuple array should not exceed a uint16");const r=this.childTypes,s=[],o=[],l=new Map;let h=0;for(;h<r.length;){const v=r[h];if(v.isDynamic())l.set(s.length,!0),s.push(new Uint8Array([0,0])),o.push(v.encode(t[h]));else{if(v.constructor===Wa){const S=zf(r,h,-1);let C=zf(r,h,1);if(S%8!==0)throw new Error("expected before index should have number of bool mod 8 equal 0");C=Math.min(7,C);const R=B$(t.slice(h,h+C+1));s.push(cu(R,1)),h+=C}else{const S=v.encode(t[h]);s.push(S)}l.set(h,!1),o.push(new Uint8Array)}h+=1}let p=0;for(const v of s)p+=v.length;let f=0;for(let v=0;v<s.length;v++){if(l.get(v)){const S=p+f;if(S>pl)throw new Error(`byte length of ${S} should not exceed a uint16`);s[v]=cu(S,Di)}f+=o[v].length}return Lr(...s,...o)}decode(e){const t=this.childTypes,r=[],s=[];let o=0,l=0;const h=new DataView(e.buffer);for(;o<t.length;){const v=t[o];if(v.isDynamic()){if(e.slice(l,e.length).length<Di)throw new Error("dynamic type in tuple is too short to be decoded");const S=h.getUint16(l);if(r.length>0&&(r[r.length-1].right=S,S<r[r.length-1].left))throw new Error("dynamic index segment miscalculation: left is greater than right index");const C={left:S,right:-1};r.push(C),s.push(null),l+=Di}else if(v.constructor===Wa){const S=zf(this.childTypes,o,-1);let C=zf(this.childTypes,o,1);if(S%8!==0)throw new Error("expected before bool number mod 8 === 0");C=Math.min(7,C);for(let R=0;R<=C;R++){const B=128>>R;(e[l]&B)>0?s.push(new Uint8Array([128])):s.push(new Uint8Array([0]))}o+=C,l+=1}else{const S=v.byteLen();s.push(e.slice(l,l+S)),l+=S}if(o!==t.length-1&&l>=e.length)throw new Error("input byte not enough to decode");o+=1}if(r.length>0&&(r[r.length-1].right=e.length,l=e.length),l<e.length)throw new Error("input byte not fully consumed");for(let v=0;v<r.length;v++){const S=r[v];if(S.left>S.right)throw new Error("dynamic segment should display a [l, r] space with l <= r");if(v!==r.length-1&&S.right!==r[v+1].left)throw new Error("dynamic segment should be consecutive")}let p=0;for(let v=0;v<t.length;v++)t[v].isDynamic()&&(s[v]=e.slice(r[p].left,r[p].right),p+=1);const f=[];for(let v=0;v<t.length;v++){const S=t[v].decode(s[v]);f.push(S)}return f}static parseTupleContent(e){if(e.length===0)return[];if(e.endsWith(",")||e.startsWith(","))throw new Error("tuple string should not start with comma");if(e.includes(",,"))throw new Error("tuple string should not have consecutive commas");const t=[];let r=0,s="";for(const o of e)s+=o,o==="("?r+=1:o===")"?r-=1:o===","&&r===0&&(t.push(s.slice(0,s.length-1)),s="");if(s.length!==0&&t.push(s),r!==0)throw new Error("tuple string has mismatched parentheses");return t}}function B$(n){let e=0;if(n.length>8)throw new Error("value list passed in should be no greater than length 8");for(let t=0;t<n.length;t++){const r=n[t];if(typeof r!="boolean")throw new Error("non-boolean values cannot be compressed into a byte");r&&(e|=1<<7-t)}return e}function zf(n,e,t){let r=0;for(;;){const s=e+t*r;if(n[s].constructor===Wa)if(s!==n.length-1&&t===1)r+=1;else if(s>0&&t===-1)r+=1;else break;else{r-=1;break}}return r}var xs;(function(n){n.any="txn",n.pay="pay",n.keyreg="keyreg",n.acfg="acfg",n.axfer="axfer",n.afrz="afrz",n.appl="appl"})(xs||(xs={}));function ny(n){return n===xs.any||n===xs.pay||n===xs.keyreg||n===xs.acfg||n===xs.axfer||n===xs.afrz||n===xs.appl}function _R(n,e){return n===xs.any?!0:e.type?e.type.toString()===n.toString():!1}var Ya;(function(n){n.account="account",n.application="application",n.asset="asset"})(Ya||(Ya={}));function ob(n){return n===Ya.account||n===Ya.application||n===Ya.asset}function U$(n){const e=n.indexOf("(");if(e===-1)throw new Error(`Invalid method signature: ${n}`);let t=-1,r=0;for(let s=e;s<n.length;s++){const o=n[s];if(o==="(")r+=1;else if(o===")"){if(r===0)break;if(r-=1,r===0){t=s;break}}}if(t===-1)throw new Error(`Invalid method signature: ${n}`);return{name:n.slice(0,e),args:co.parseTupleContent(n.slice(e+1,t)),returns:n.slice(t+1)}}class Ud{constructor(e){if(typeof e.name!="string"||typeof e.returns!="object"||!Array.isArray(e.args))throw new Error("Invalid ABIMethod parameters");this.name=e.name,this.description=e.desc,this.args=e.args.map(({type:t,name:r,desc:s})=>ny(t)||ob(t)?{type:t,name:r,description:s}:{type:gi.from(t),name:r,description:s}),this.returns={type:e.returns.type==="void"?e.returns.type:gi.from(e.returns.type),description:e.returns.desc},this.events=e.events,this.readonly=e.readonly}getSignature(){const e=this.args.map(r=>r.type.toString()).join(","),t=this.returns.type.toString();return`${this.name}(${e})${t}`}getSelector(){const e=io(this.getSignature());return new Uint8Array(e.slice(0,4))}txnCount(){let e=1;for(const t of this.args)typeof t.type=="string"&&ny(t.type)&&(e+=1);return e}toJSON(){return{name:this.name,desc:this.description,args:this.args.map(({type:e,name:t,description:r})=>({type:e.toString(),name:t,desc:r})),returns:{type:this.returns.type.toString(),desc:this.returns.description},events:this.events,readonly:this.readonly}}static fromSignature(e){const{name:t,args:r,returns:s}=U$(e);return new Ud({name:t,args:r.map(o=>({type:o})),returns:{type:s}})}}function cb(n,e){if(n===null||!Array.isArray(n)||!n.every(r=>r instanceof Ud))throw new Error("Methods list provided is null or not the correct type");const t=n.filter(r=>r.name===e);if(t.length>1)throw new Error(`found ${t.length} methods with the same name ${t.map(r=>r.getSignature()).join(",")}`);if(t.length===0)throw new Error(`found 0 methods with the name ${e}`);return t[0]}class L${constructor(e){if(typeof e.name!="string"||!Array.isArray(e.methods)||e.networks&&typeof e.networks!="object")throw new Error("Invalid ABIContract parameters");this.name=e.name,this.description=e.desc,this.networks=e.networks?{...e.networks}:{},this.methods=e.methods.map(t=>new Ud(t)),this.events=e.events}toJSON(){return{name:this.name,desc:this.description,networks:this.networks,methods:this.methods.map(e=>e.toJSON()),events:this.events}}getMethodByName(e){return cb(this.methods,e)}}class z${constructor(e){if(typeof e.name!="string"||!Array.isArray(e.methods))throw new Error("Invalid ABIInterface parameters");this.name=e.name,this.description=e.desc,this.methods=e.methods.map(t=>new Ud(t))}toJSON(){return{name:this.name,desc:this.description,methods:this.methods.map(e=>e.toJSON())}}getMethodByName(e){return cb(this.methods,e)}}const q$=new Uint8Array([21,31,124,117]),qf=16;var di;(function(n){n[n.BUILDING=0]="BUILDING",n[n.BUILT=1]="BUILT",n[n.SIGNED=2]="SIGNED",n[n.SUBMITTED=3]="SUBMITTED",n[n.COMMITTED=4]="COMMITTED"})(di||(di={}));function Px(n,e,t){if(t!=null&&n===t)return 0;const r=t==null?0:1;for(let s=0;s<e.length;s++)if(n===e[s])return s+r;return e.push(n),e.length-1+r}class zs{constructor(){this.status=di.BUILDING,this.transactions=[],this.methodCalls=new Map,this.signedTxns=[],this.txIDs=[]}getStatus(){return this.status}count(){return this.transactions.length}clone(){const e=new zs;return e.transactions=this.transactions.map(({txn:t,signer:r})=>{const s=t.toEncodingData();return s.delete("grp"),{txn:hs.fromEncodingData(s),signer:r}}),e.methodCalls=new Map(this.methodCalls),e}addTransaction(e){if(this.status!==di.BUILDING)throw new Error("Cannot add transactions when composer status is not BUILDING");if(this.transactions.length===zs.MAX_GROUP_SIZE)throw new Error(`Adding an additional transaction exceeds the maximum atomic group size of ${zs.MAX_GROUP_SIZE}`);if(e.txn.group&&e.txn.group.some(t=>t!==0))throw new Error("Cannot add a transaction with nonzero group ID");this.transactions.push(e)}addMethodCall({appID:e,method:t,methodArgs:r,sender:s,suggestedParams:o,onComplete:l,approvalProgram:h,clearProgram:p,numGlobalInts:f,numGlobalByteSlices:v,numLocalInts:S,numLocalByteSlices:C,extraPages:R,appAccounts:B,appForeignApps:re,appForeignAssets:N,boxes:U,access:q,note:G,lease:he,rekeyTo:pe,rejectVersion:K,signer:P}){if(this.status!==di.BUILDING)throw new Error("Cannot add transactions when composer status is not BUILDING");if(this.transactions.length+t.txnCount()>zs.MAX_GROUP_SIZE)throw new Error(`Adding additional transactions exceeds the maximum atomic group size of ${zs.MAX_GROUP_SIZE}`);if(BigInt(e)===BigInt(0)){if(h==null||p==null||f==null||v==null||S==null||C==null)throw new Error("One of the following required parameters for application creation is missing: approvalProgram, clearProgram, numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices")}else if(l===ai.UpdateApplicationOC){if(h==null||p==null)throw new Error("One of the following required parameters for OnApplicationComplete.UpdateApplicationOC is missing: approvalProgram, clearProgram");if(f!=null||v!=null||S!=null||C!=null||R!=null)throw new Error("One of the following application creation parameters were set on a non-creation call: numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices, extraPages")}else if(h!=null||p!=null||f!=null||v!=null||S!=null||C!=null||R!=null)throw new Error("One of the following application creation parameters were set on a non-creation call: approvalProgram, clearProgram, numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices, extraPages");if(q&&(B||re||N||U))throw new Error("Cannot specify both access and legacy foreign arrays (appAccounts, appForeignApps, appForeignAssets, boxes)");if(r==null&&(r=[]),r.length!==t.args.length)throw new Error(`Incorrect number of method arguments. Expected ${t.args.length}, got ${r.length}`);let M=[],H=[];const A=[],y=[],x=[],E=new Map,$=U||[];for(let ie=0;ie<r.length;ie++){let ue=t.args[ie].type;const _e=r[ie];if(ny(ue)){if(!ES(_e)||!_R(ue,_e.txn))throw new Error(`Expected ${ue} TransactionWithSigner for argument at index ${ie}`);if(_e.txn.group&&_e.txn.group.some(me=>me!==0))throw new Error("Cannot add a transaction with nonzero group ID");A.push(_e);continue}if(ES(_e))throw new Error(`Expected non-transaction value for argument at index ${ie}`);if(ob(ue)&&(E.set(y.length,M.length),y.push(ue),x.push(_e),ue=new gl(8)),typeof ue=="string")throw new Error(`Unknown ABI type: ${ue}`);M.push(ue),H.push(_e)}const ee=[],W=B==null?[]:B.map(ie=>ie.toString()),le=re==null?[]:re.map(Yn),Q=N==null?[]:N.map(Yn);for(let ie=0;ie<y.length;ie++){const ue=y[ie],_e=x[ie];let me=0;switch(ue){case Ya.account:{const O=new Ep,Ae=O.decode(O.encode(_e));me=Px(Ae,W,s.toString());break}case Ya.application:{const O=new gl(64),Ae=O.decode(O.encode(_e));if(Ae>Number.MAX_SAFE_INTEGER)throw new Error(`Expected safe integer for application value, got ${Ae}`);me=Px(Ae,le,Yn(e));break}case Ya.asset:{const O=new gl(64),Ae=O.decode(O.encode(_e));if(Ae>Number.MAX_SAFE_INTEGER)throw new Error(`Expected safe integer for asset value, got ${Ae}`);me=Px(Ae,Q);break}default:throw new Error(`Unknown reference type: ${ue}`)}ee.push(me)}for(let ie=0;ie<ee.length;ie++){const ue=E.get(ie);H[ue]=ee[ie]}if(M.length>qf-1){const ie=M.slice(qf-2),ue=H.slice(qf-2);M=M.slice(0,qf-2),H=H.slice(0,qf-2),M.push(new co(ie)),H.push(ue)}const T=[t.getSelector()];for(let ie=0;ie<M.length;ie++)T.push(M[ie].encode(H[ie]));const se={txn:uo({sender:s,appIndex:e,appArgs:T,accounts:q?void 0:W,foreignApps:q?void 0:le,foreignAssets:q?void 0:Q,boxes:q?void 0:$,access:q,onComplete:l??ai.NoOpOC,approvalProgram:h,clearProgram:p,numGlobalInts:f,numGlobalByteSlices:v,numLocalInts:S,numLocalByteSlices:C,extraPages:R,rejectVersion:K,lease:he,note:G,rekeyTo:pe,suggestedParams:o}),signer:P};this.transactions.push(...A,se),this.methodCalls.set(this.transactions.length-1,t)}buildGroup(){if(this.status===di.BUILDING){if(this.transactions.length===0)throw new Error("Cannot build a group with 0 transactions");this.transactions.length>1&&mR(this.transactions.map(e=>e.txn)),this.status=di.BUILT}return this.transactions}async gatherSignatures(){if(this.status>=di.SIGNED)return this.signedTxns;const e=this.buildGroup(),t=e.map(f=>f.txn),r=new Map;for(let f=0;f<e.length;f++){const{signer:v}=e[f];r.has(v)||r.set(v,[]),r.get(v).push(f)}const s=Array.from(r),o=await Promise.all(s.map(([f,v])=>f(t,v))),l=e.map(()=>null);for(let f=0;f<s.length;f++){const v=s[f][1],S=o[f];for(let C=0;C<v.length;C++)l[v[C]]=S[C]}function h(f){return f.every(v=>v!=null)}if(!h(l))throw new Error(`Missing signatures. Got ${l}`);const p=l.map((f,v)=>{try{return xr(f,Jn).txn.txID()}catch(S){throw new Error(`Cannot decode signed transaction at index ${v}. ${S}`)}});return this.signedTxns=l,this.txIDs=p,this.status=di.SIGNED,l}async submit(e){if(this.status>di.SUBMITTED)throw new Error("Transaction group cannot be resubmitted");const t=await this.gatherSignatures();return await e.sendRawTransaction(t).do(),this.status=di.SUBMITTED,this.txIDs}async simulate(e,t){if(this.status>di.SUBMITTED)throw new Error("Simulated Transaction group has already been submitted to the network");const s=(await this.gatherSignatures()).map(p=>xr(p,Jn)),o=t??new jh({txnGroups:[]});o.txnGroups=[new gc({txns:s})];const l=await e.simulateTransactions(o).do(),h=[];for(const[p,f]of this.methodCalls){const v=this.txIDs[p],S=l.txnGroups[0].txnResults[p].txnResult,C={txID:v,rawReturnValue:new Uint8Array,method:f};h.push(zs.parseMethodResponse(f,C,S))}return{methodResults:h,simulateResponse:l}}async execute(e,t){if(this.status===di.COMMITTED)throw new Error("Transaction group has already been executed successfully");const r=await this.submit(e);this.status=di.SUBMITTED;const s=this.transactions.findIndex((f,v)=>this.methodCalls.has(v)),l=await lR(e,r[s===-1?0:s],t);this.status=di.COMMITTED;const h=l.confirmedRound,p=[];for(const[f,v]of this.methodCalls){const S=r[f];let C={txID:S,rawReturnValue:new Uint8Array,method:v};try{const R=f===s?l:await e.pendingTransactionInformation(S).do();C=zs.parseMethodResponse(v,C,R)}catch(R){C.decodeError=R}p.push(C)}return{confirmedRound:h,txIDs:r,methodResults:p}}static parseMethodResponse(e,t,r){const s=t;try{if(s.txInfo=r,e.returns.type!=="void"){const o=r.logs||[];if(o.length===0)throw new Error(`App call transaction did not log a return value ${Tl(r)}`);const l=o[o.length-1];if(l.byteLength<4||!la(l.slice(0,4),q$))throw new Error(`App call transaction did not log a ABI return value ${Tl(r)}`);s.rawReturnValue=new Uint8Array(l.slice(4)),s.returnValue=e.returns.type.decode(t.rawReturnValue)}}catch(o){s.decodeError=o}return s}}zs.MAX_GROUP_SIZE=16;const AR=Uint8Array.from([77,88]),TR="The transaction sender address and multisig preimage do not match.";function $$(n,e){return{txID:n.txID(),blob:n.signTxn(e)}}function H$(n,e){const t=Lr(AR,n);return vm(t,e)}function G$(n,e,t){const r=Lr(AR,n),s=typeof t=="string"?Kt.fromString(t):t;return Uy(r,e,s.publicKey)}const K$=new Error(TR),W$=new Error(XE),nr=Object.freeze(Object.defineProperty({__proto__:null,ABIAddressType:Ep,ABIArrayDynamicType:nw,ABIArrayStaticType:tw,ABIBoolType:Wa,ABIByteType:Zy,ABIContract:L$,ABIInterface:z$,ABIMethod:Ud,get ABIReferenceType(){return Ya},ABIStringType:ew,get ABITransactionType(){return xs},ABITupleType:co,ABIType:gi,ABIUfixedType:Xy,ABIUintType:gl,ADDR_BYTE_SIZE:SR,ALGORAND_ZERO_ADDRESS_STRING:XL,AccountBaseData:Wl,AccountData:Yl,AccountDeltas:Ql,AccountTotals:tu,Address:Kt,AlgoCount:ks,Algodv2:xq,AppLocalState:Ul,AppLocalStateDelta:Ll,AppParams:Bl,AppParamsDelta:zl,AppResourceRecord:ql,ApplyData:vh,AssetHolding:Wy,AssetHoldingDelta:$l,AssetParams:Yy,AssetParamsDelta:Hl,AssetResourceRecord:Gl,AtomicTransactionComposer:zs,get AtomicTransactionComposerStatus(){return di},BalanceRecord:Jl,Block:Y0,BlockHeader:ao,ENCODED_MULTISIG_SCHEMA:G0,ENCODED_SUBSIG_SCHEMA:XC,ERROR_INVALID_MICROALGOS:W$,ERROR_MULTISIG_BAD_SENDER:K$,EvalDelta:z1,FalconSignatureStruct:Rl,FalconVerifier:Cl,HashFactory:$y,INVALID_MICROALGOS_ERROR_MSG:XE,IncludedTransactions:Zl,Indexer:$q,IntDecoding:Jr,Kmd:Sq,KvValueDelta:Xl,LENGTH_ENCODE_BYTE_SIZE:Di,LedgerStateDelta:oo,LogicSig:Hi,LogicSigAccount:ml,MAX_LEN:pl,MULTISIG_BAD_SENDER_ERROR_MSG:TR,MerkleArrayProof:mc,MerkleSignatureVerifier:kl,ModifiedCreatable:eu,get OnApplicationComplete(){return ai},Participant:Il,ParticipationUpdates:Ky,ProgramSourceMap:d$,Reveal:Dl,RewardState:Ol,SINGLE_BOOL_SIZE:bR,SINGLE_BYTE_SIZE:ER,SignedTransaction:Jn,SignedTxnInBlock:Vl,SignedTxnWithAD:pc,SigslotCommit:Nl,StateProof:Hy,StateProofMessage:Gy,StateProofTrackingData:Ml,StateSchema:ha,TealValue:Bd,Transaction:hs,get TransactionType(){return Bn},TxnCommitments:Fl,UntypedValue:Qr,UpgradeState:Pl,UpgradeVote:jl,ValueDelta:qa,VotingData:Kl,abiCheckTransactionType:_R,abiTypeIsReference:ob,abiTypeIsTransaction:ny,algosToMicroalgos:n7,appendSignMultisigTransaction:l$,appendSignRawMultisigSignature:u$,assignGroupID:mR,base64ToBytes:yt,bigIntToBytes:cu,bytesToBase64:si,bytesToBigInt:nb,bytesToHex:zy,bytesToString:Ly,coerceToBytes:ua,computeGroupID:fR,createDryrun:m$,createMultisigTransaction:pR,decodeAddress:OC,decodeJSON:pn,decodeMsgpack:xr,decodeObj:Q7,decodeSignedTransaction:Rz,decodeUint64:JL,decodeUnsignedTransaction:vz,dryrunTxnResultAppTrace:y$,dryrunTxnResultLogicSigTrace:w$,encodeAddress:jC,encodeJSON:Z7,encodeMsgpack:us,encodeObj:J7,encodeUint64:FC,encodeUnsignedSimulateTransaction:rR,encodeUnsignedTransaction:wz,encodedMultiSigFromEncodingData:K0,encodedMultiSigToEncodingData:W0,encodedSubsigFromEncodingData:ZC,encodedSubsigToEncodingData:eR,generateAccount:Hq,getApplicationAddress:N1,getMethodByName:cb,hexToBytes:QL,indexerModels:Eq,isOnApplicationComplete:WC,isTransactionType:P1,isTransactionWithSigner:ES,isValidAddress:PC,logicSigFromByte:kz,makeApplicationCallTxnFromObject:uo,makeApplicationClearStateTxnFromObject:N$,makeApplicationCloseOutTxnFromObject:R$,makeApplicationCreateTxnFromObject:T$,makeApplicationDeleteTxnFromObject:I$,makeApplicationNoOpTxnFromObject:D$,makeApplicationOptInTxnFromObject:C$,makeApplicationUpdateTxnFromObject:k$,makeAssetConfigTxnWithSuggestedParamsFromObject:E$,makeAssetCreateTxnWithSuggestedParamsFromObject:S$,makeAssetDestroyTxnWithSuggestedParamsFromObject:b$,makeAssetFreezeTxnWithSuggestedParamsFromObject:_$,makeAssetTransferTxnWithSuggestedParamsFromObject:A$,makeBaseAssetConfigTxn:Qy,makeBasicAccountTransactionSigner:M$,makeEmptyTransactionSigner:P$,makeKeyRegistrationTxnWithSuggestedParamsFromObject:x$,makeLogicSigAccountTransactionSigner:F$,makeMultiSigAccountTransactionSigner:O$,makePaymentTxnWithSuggestedParamsFromObject:v$,masterDerivationKeyToMnemonic:Qq,mergeMultisigTransactions:Jy,microalgosToAlgos:t7,mnemonicFromSeed:rb,mnemonicToMasterDerivationKey:Jq,mnemonicToSecretKey:Wq,modelsv2:Mz,msgpackRawDecode:HC,msgpackRawDecodeAsMap:GC,msgpackRawEncode:Sp,multisigAddress:Az,parseJSON:QE,secretKeyToMnemonic:Yq,seedFromMnemonic:ib,signBytes:H$,signLogicSigTransaction:t$,signLogicSigTransactionObject:sb,signMultisigTransaction:wR,signTransaction:$$,stringifyJSON:Tl,tealSign:nR,tealSignFromProgram:Cz,verifyBytes:G$,verifyMultisig:U1,verifyTealSign:Iz,waitForConfirmation:lR},Symbol.toStringTag,{value:"Module"})),Y$="modulepreload",J$=function(n){return"/"+n},w6={},Q$=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let p=function(f){return Promise.all(f.map(v=>Promise.resolve(v).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),h=l?.nonce||l?.getAttribute("nonce");s=p(t.map(f=>{if(f=J$(f),f in w6)return;w6[f]=!0;const v=f.endsWith(".css"),S=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${S}`))return;const C=document.createElement("link");if(C.rel=v?"stylesheet":Y$,v||(C.as="script"),C.crossOrigin="",C.href=f,h&&C.setAttribute("nonce",h),document.head.appendChild(C),v)return new Promise((R,B)=>{C.addEventListener("load",R),C.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=l,window.dispatchEvent(h),!h.defaultPrevented)throw l}return s.then(l=>{for(const h of l||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};var $f={},ar={},v6;function kR(){if(v6)return ar;v6=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.getLocalStorage=ar.getLocalStorageOrThrow=ar.getCrypto=ar.getCryptoOrThrow=ar.getLocation=ar.getLocationOrThrow=ar.getNavigator=ar.getNavigatorOrThrow=ar.getDocument=ar.getDocumentOrThrow=ar.getFromWindowOrThrow=ar.getFromWindow=void 0;function n(C){let R;return typeof window<"u"&&typeof window[C]<"u"&&(R=window[C]),R}ar.getFromWindow=n;function e(C){const R=n(C);if(!R)throw new Error(`${C} is not defined in Window`);return R}ar.getFromWindowOrThrow=e;function t(){return e("document")}ar.getDocumentOrThrow=t;function r(){return n("document")}ar.getDocument=r;function s(){return e("navigator")}ar.getNavigatorOrThrow=s;function o(){return n("navigator")}ar.getNavigator=o;function l(){return e("location")}ar.getLocationOrThrow=l;function h(){return n("location")}ar.getLocation=h;function p(){return e("crypto")}ar.getCryptoOrThrow=p;function f(){return n("crypto")}ar.getCrypto=f;function v(){return e("localStorage")}ar.getLocalStorageOrThrow=v;function S(){return n("localStorage")}return ar.getLocalStorage=S,ar}var x6;function X$(){if(x6)return $f;x6=1,Object.defineProperty($f,"__esModule",{value:!0}),$f.getWindowMetadata=void 0;const n=kR();function e(){let t,r;try{t=n.getDocumentOrThrow(),r=n.getLocationOrThrow()}catch{return null}function s(){const R=t.getElementsByTagName("link"),B=[];for(let re=0;re<R.length;re++){const N=R[re],U=N.getAttribute("rel");if(U&&U.toLowerCase().indexOf("icon")>-1){const q=N.getAttribute("href");if(q)if(q.toLowerCase().indexOf("https:")===-1&&q.toLowerCase().indexOf("http:")===-1&&q.indexOf("//")!==0){let G=r.protocol+"//"+r.host;if(q.indexOf("/")===0)G+=q;else{const he=r.pathname.split("/");he.pop();const pe=he.join("/");G+=pe+"/"+q}B.push(G)}else if(q.indexOf("//")===0){const G=r.protocol+q;B.push(G)}else B.push(q)}}return B}function o(...R){const B=t.getElementsByTagName("meta");for(let re=0;re<B.length;re++){const N=B[re],U=["itemprop","property","name"].map(q=>N.getAttribute(q)).filter(q=>q?R.includes(q):!1);if(U.length&&U){const q=N.getAttribute("content");if(q)return q}}return""}function l(){let R=o("name","og:site_name","og:title","twitter:title");return R||(R=t.title),R}function h(){return o("description","og:description","twitter:description","keywords")}const p=l(),f=h(),v=r.origin,S=s();return{description:f,url:v,icons:S,name:p}}return $f.getWindowMetadata=e,$f}var Z$=X$(),lb=kR(),eH=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),s=0,e=0;e<t;e++)for(var o=arguments[e],l=0,h=o.length;l<h;l++,s++)r[s]=o[l];return r},tH=(function(){function n(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"}return n})(),nH=(function(){function n(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return n})(),rH=(function(){function n(e,t,r,s){this.name=e,this.version=t,this.os=r,this.bot=s,this.type="bot-device"}return n})(),iH=(function(){function n(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return n})(),sH=(function(){function n(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return n})(),aH=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,oH=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,S6=3,cH=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",aH]],E6=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function lH(n){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new sH:typeof navigator<"u"?hH(navigator.userAgent):fH()}function uH(n){return n!==""&&cH.reduce(function(e,t){var r=t[0],s=t[1];if(e)return e;var o=s.exec(n);return!!o&&[r,o]},!1)}function hH(n){var e=uH(n);if(!e)return null;var t=e[0],r=e[1];if(t==="searchbot")return new iH;var s=r[1]&&r[1].split(/[._]/).slice(0,3);s?s.length<S6&&(s=eH(s,mH(S6-s.length))):s=[];var o=s.join("."),l=dH(n),h=oH.exec(n);return h&&h[1]?new rH(t,o,l,h[1]):new tH(t,o,l)}function dH(n){for(var e=0,t=E6.length;e<t;e++){var r=E6[e],s=r[0],o=r[1],l=o.exec(n);if(l)return s}return null}function fH(){var n=typeof process<"u"&&process.version;return n?new nH(process.version.slice(1)):null}function mH(n){for(var e=[],t=0;t<n;t++)e.push("0");return e}function ub(n){return lH()}function hb(){const n=ub();return n&&n.os?n.os:void 0}function pH(){const n=hb();return n?n.toLowerCase().includes("android"):!1}function gH(){const n=hb();return n?n.toLowerCase().includes("ios")||n.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function yH(){return hb()?pH()||gH():!1}function wH(){const n=ub();return n&&n.name?n.name.toLowerCase()==="node":!1}function vH(){return!wH()&&!!xH()}const xH=lb.getNavigator,SH=lb.getLocation,db=lb.getLocalStorage;function b6(){return Z$.getWindowMetadata()}function EH(n){if(typeof n!="string")throw new Error(`Cannot safe json parse value of type ${typeof n}`);try{return JSON.parse(n)}catch{return n}}function bH(n){return typeof n=="string"?n:JSON.stringify(n)}const _H=EH,AH=bH;function TH(n,e){const t=AH(e),r=db();r&&r.setItem(n,t)}function IR(n){let e=null,t=null;const r=db();return r&&(t=r.getItem(n)),e=t&&_H(t),e}function CR(n){const e=db();e&&e.removeItem(n)}const _6="WALLETCONNECT_DEEPLINK_CHOICE",kH=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],RR=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"];var x0={exports:{}},IH=x0.exports,A6;function CH(){return A6||(A6=1,(function(n){(function(e,t){function r(A,y){if(!A)throw new Error(y||"Assertion failed")}function s(A,y){A.super_=y;var x=function(){};x.prototype=y.prototype,A.prototype=new x,A.prototype.constructor=A}function o(A,y,x){if(o.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((y==="le"||y==="be")&&(x=y,y=10),this._init(A||0,y||10,x||"be"))}typeof e=="object"?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var l;try{l=kC.Buffer}catch{}o.isBN=function(y){return y instanceof o?!0:y!==null&&typeof y=="object"&&y.constructor.wordSize===o.wordSize&&Array.isArray(y.words)},o.max=function(y,x){return y.cmp(x)>0?y:x},o.min=function(y,x){return y.cmp(x)<0?y:x},o.prototype._init=function(y,x,E){if(typeof y=="number")return this._initNumber(y,x,E);if(typeof y=="object")return this._initArray(y,x,E);x==="hex"&&(x=16),r(x===(x|0)&&x>=2&&x<=36),y=y.toString().replace(/\s+/g,"");var $=0;y[0]==="-"&&$++,x===16?this._parseHex(y,$):this._parseBase(y,x,$),y[0]==="-"&&(this.negative=1),this.strip(),E==="le"&&this._initArray(this.toArray(),x,E)},o.prototype._initNumber=function(y,x,E){y<0&&(this.negative=1,y=-y),y<67108864?(this.words=[y&67108863],this.length=1):y<4503599627370496?(this.words=[y&67108863,y/67108864&67108863],this.length=2):(r(y<9007199254740992),this.words=[y&67108863,y/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),x,E)},o.prototype._initArray=function(y,x,E){if(r(typeof y.length=="number"),y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(y.length/3),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var ee,W,le=0;if(E==="be")for($=y.length-1,ee=0;$>=0;$-=3)W=y[$]|y[$-1]<<8|y[$-2]<<16,this.words[ee]|=W<<le&67108863,this.words[ee+1]=W>>>26-le&67108863,le+=24,le>=26&&(le-=26,ee++);else if(E==="le")for($=0,ee=0;$<y.length;$+=3)W=y[$]|y[$+1]<<8|y[$+2]<<16,this.words[ee]|=W<<le&67108863,this.words[ee+1]=W>>>26-le&67108863,le+=24,le>=26&&(le-=26,ee++);return this.strip()};function h(A,y,x){for(var E=0,$=Math.min(A.length,x),ee=y;ee<$;ee++){var W=A.charCodeAt(ee)-48;E<<=4,W>=49&&W<=54?E|=W-49+10:W>=17&&W<=22?E|=W-17+10:E|=W&15}return E}o.prototype._parseHex=function(y,x){this.length=Math.ceil((y.length-x)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var $,ee,W=0;for(E=y.length-6,$=0;E>=x;E-=6)ee=h(y,E,E+6),this.words[$]|=ee<<W&67108863,this.words[$+1]|=ee>>>26-W&4194303,W+=24,W>=26&&(W-=26,$++);E+6!==x&&(ee=h(y,x,E+6),this.words[$]|=ee<<W&67108863,this.words[$+1]|=ee>>>26-W&4194303),this.strip()};function p(A,y,x,E){for(var $=0,ee=Math.min(A.length,x),W=y;W<ee;W++){var le=A.charCodeAt(W)-48;$*=E,le>=49?$+=le-49+10:le>=17?$+=le-17+10:$+=le}return $}o.prototype._parseBase=function(y,x,E){this.words=[0],this.length=1;for(var $=0,ee=1;ee<=67108863;ee*=x)$++;$--,ee=ee/x|0;for(var W=y.length-E,le=W%$,Q=Math.min(W,W-le)+E,T=0,se=E;se<Q;se+=$)T=p(y,se,se+$,x),this.imuln(ee),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T);if(le!==0){var ie=1;for(T=p(y,se,y.length,x),se=0;se<le;se++)ie*=x;this.imuln(ie),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T)}},o.prototype.copy=function(y){y.words=new Array(this.length);for(var x=0;x<this.length;x++)y.words[x]=this.words[x];y.length=this.length,y.negative=this.negative,y.red=this.red},o.prototype.clone=function(){var y=new o(null);return this.copy(y),y},o.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(y,x){y=y||10,x=x|0||1;var E;if(y===16||y==="hex"){E="";for(var $=0,ee=0,W=0;W<this.length;W++){var le=this.words[W],Q=((le<<$|ee)&16777215).toString(16);ee=le>>>24-$&16777215,ee!==0||W!==this.length-1?E=f[6-Q.length]+Q+E:E=Q+E,$+=2,$>=26&&($-=26,W--)}for(ee!==0&&(E=ee.toString(16)+E);E.length%x!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(y===(y|0)&&y>=2&&y<=36){var T=v[y],se=S[y];E="";var ie=this.clone();for(ie.negative=0;!ie.isZero();){var ue=ie.modn(se).toString(y);ie=ie.idivn(se),ie.isZero()?E=ue+E:E=f[T-ue.length]+ue+E}for(this.isZero()&&(E="0"+E);E.length%x!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var y=this.words[0];return this.length===2?y+=this.words[1]*67108864:this.length===3&&this.words[2]===1?y+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-y:y},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(y,x){return r(typeof l<"u"),this.toArrayLike(l,y,x)},o.prototype.toArray=function(y,x){return this.toArrayLike(Array,y,x)},o.prototype.toArrayLike=function(y,x,E){var $=this.byteLength(),ee=E||Math.max(1,$);r($<=ee,"byte array longer than desired length"),r(ee>0,"Requested array length <= 0"),this.strip();var W=x==="le",le=new y(ee),Q,T,se=this.clone();if(W){for(T=0;!se.isZero();T++)Q=se.andln(255),se.iushrn(8),le[T]=Q;for(;T<ee;T++)le[T]=0}else{for(T=0;T<ee-$;T++)le[T]=0;for(T=0;!se.isZero();T++)Q=se.andln(255),se.iushrn(8),le[ee-T-1]=Q}return le},Math.clz32?o.prototype._countBits=function(y){return 32-Math.clz32(y)}:o.prototype._countBits=function(y){var x=y,E=0;return x>=4096&&(E+=13,x>>>=13),x>=64&&(E+=7,x>>>=7),x>=8&&(E+=4,x>>>=4),x>=2&&(E+=2,x>>>=2),E+x},o.prototype._zeroBits=function(y){if(y===0)return 26;var x=y,E=0;return(x&8191)===0&&(E+=13,x>>>=13),(x&127)===0&&(E+=7,x>>>=7),(x&15)===0&&(E+=4,x>>>=4),(x&3)===0&&(E+=2,x>>>=2),(x&1)===0&&E++,E},o.prototype.bitLength=function(){var y=this.words[this.length-1],x=this._countBits(y);return(this.length-1)*26+x};function C(A){for(var y=new Array(A.bitLength()),x=0;x<y.length;x++){var E=x/26|0,$=x%26;y[x]=(A.words[E]&1<<$)>>>$}return y}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var y=0,x=0;x<this.length;x++){var E=this._zeroBits(this.words[x]);if(y+=E,E!==26)break}return y},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(y){return this.negative!==0?this.abs().inotn(y).iaddn(1):this.clone()},o.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var x=0;x<y.length;x++)this.words[x]=this.words[x]|y.words[x];return this.strip()},o.prototype.ior=function(y){return r((this.negative|y.negative)===0),this.iuor(y)},o.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},o.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},o.prototype.iuand=function(y){var x;this.length>y.length?x=y:x=this;for(var E=0;E<x.length;E++)this.words[E]=this.words[E]&y.words[E];return this.length=x.length,this.strip()},o.prototype.iand=function(y){return r((this.negative|y.negative)===0),this.iuand(y)},o.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},o.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},o.prototype.iuxor=function(y){var x,E;this.length>y.length?(x=this,E=y):(x=y,E=this);for(var $=0;$<E.length;$++)this.words[$]=x.words[$]^E.words[$];if(this!==x)for(;$<x.length;$++)this.words[$]=x.words[$];return this.length=x.length,this.strip()},o.prototype.ixor=function(y){return r((this.negative|y.negative)===0),this.iuxor(y)},o.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},o.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},o.prototype.inotn=function(y){r(typeof y=="number"&&y>=0);var x=Math.ceil(y/26)|0,E=y%26;this._expand(x),E>0&&x--;for(var $=0;$<x;$++)this.words[$]=~this.words[$]&67108863;return E>0&&(this.words[$]=~this.words[$]&67108863>>26-E),this.strip()},o.prototype.notn=function(y){return this.clone().inotn(y)},o.prototype.setn=function(y,x){r(typeof y=="number"&&y>=0);var E=y/26|0,$=y%26;return this._expand(E+1),x?this.words[E]=this.words[E]|1<<$:this.words[E]=this.words[E]&~(1<<$),this.strip()},o.prototype.iadd=function(y){var x;if(this.negative!==0&&y.negative===0)return this.negative=0,x=this.isub(y),this.negative^=1,this._normSign();if(this.negative===0&&y.negative!==0)return y.negative=0,x=this.isub(y),y.negative=1,x._normSign();var E,$;this.length>y.length?(E=this,$=y):(E=y,$=this);for(var ee=0,W=0;W<$.length;W++)x=(E.words[W]|0)+($.words[W]|0)+ee,this.words[W]=x&67108863,ee=x>>>26;for(;ee!==0&&W<E.length;W++)x=(E.words[W]|0)+ee,this.words[W]=x&67108863,ee=x>>>26;if(this.length=E.length,ee!==0)this.words[this.length]=ee,this.length++;else if(E!==this)for(;W<E.length;W++)this.words[W]=E.words[W];return this},o.prototype.add=function(y){var x;return y.negative!==0&&this.negative===0?(y.negative=0,x=this.sub(y),y.negative^=1,x):y.negative===0&&this.negative!==0?(this.negative=0,x=y.sub(this),this.negative=1,x):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},o.prototype.isub=function(y){if(y.negative!==0){y.negative=0;var x=this.iadd(y);return y.negative=1,x._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var E=this.cmp(y);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;var $,ee;E>0?($=this,ee=y):($=y,ee=this);for(var W=0,le=0;le<ee.length;le++)x=($.words[le]|0)-(ee.words[le]|0)+W,W=x>>26,this.words[le]=x&67108863;for(;W!==0&&le<$.length;le++)x=($.words[le]|0)+W,W=x>>26,this.words[le]=x&67108863;if(W===0&&le<$.length&&$!==this)for(;le<$.length;le++)this.words[le]=$.words[le];return this.length=Math.max(this.length,le),$!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(y){return this.clone().isub(y)};function R(A,y,x){x.negative=y.negative^A.negative;var E=A.length+y.length|0;x.length=E,E=E-1|0;var $=A.words[0]|0,ee=y.words[0]|0,W=$*ee,le=W&67108863,Q=W/67108864|0;x.words[0]=le;for(var T=1;T<E;T++){for(var se=Q>>>26,ie=Q&67108863,ue=Math.min(T,y.length-1),_e=Math.max(0,T-A.length+1);_e<=ue;_e++){var me=T-_e|0;$=A.words[me]|0,ee=y.words[_e]|0,W=$*ee+ie,se+=W/67108864|0,ie=W&67108863}x.words[T]=ie|0,Q=se|0}return Q!==0?x.words[T]=Q|0:x.length--,x.strip()}var B=function(y,x,E){var $=y.words,ee=x.words,W=E.words,le=0,Q,T,se,ie=$[0]|0,ue=ie&8191,_e=ie>>>13,me=$[1]|0,O=me&8191,Ae=me>>>13,Pe=$[2]|0,ge=Pe&8191,be=Pe>>>13,L=$[3]|0,J=L&8191,ce=L>>>13,Ne=$[4]|0,de=Ne&8191,xe=Ne>>>13,Ve=$[5]|0,we=Ve&8191,ke=Ve>>>13,Me=$[6]|0,Se=Me&8191,Be=Me>>>13,Xe=$[7]|0,We=Xe&8191,lt=Xe>>>13,_t=$[8]|0,Nt=_t&8191,z=_t>>>13,_=$[9]|0,I=_&8191,ae=_>>>13,ve=ee[0]|0,Re=ve&8191,Fe=ve>>>13,gt=ee[1]|0,pt=gt&8191,ot=gt>>>13,At=ee[2]|0,Et=At&8191,Qt=At>>>13,An=ee[3]|0,Xt=An&8191,Vt=An>>>13,Rn=ee[4]|0,un=Rn&8191,hn=Rn>>>13,Hr=ee[5]|0,jn=Hr&8191,En=Hr>>>13,Gr=ee[6]|0,qn=Gr&8191,an=Gr>>>13,li=ee[7]|0,F=li&8191,Y=li>>>13,X=ee[8]|0,b=X&8191,te=X>>>13,De=ee[9]|0,Te=De&8191,ze=De>>>13;E.negative=y.negative^x.negative,E.length=19,Q=Math.imul(ue,Re),T=Math.imul(ue,Fe),T=T+Math.imul(_e,Re)|0,se=Math.imul(_e,Fe);var ct=(le+Q|0)+((T&8191)<<13)|0;le=(se+(T>>>13)|0)+(ct>>>26)|0,ct&=67108863,Q=Math.imul(O,Re),T=Math.imul(O,Fe),T=T+Math.imul(Ae,Re)|0,se=Math.imul(Ae,Fe),Q=Q+Math.imul(ue,pt)|0,T=T+Math.imul(ue,ot)|0,T=T+Math.imul(_e,pt)|0,se=se+Math.imul(_e,ot)|0;var kt=(le+Q|0)+((T&8191)<<13)|0;le=(se+(T>>>13)|0)+(kt>>>26)|0,kt&=67108863,Q=Math.imul(ge,Re),T=Math.imul(ge,Fe),T=T+Math.imul(be,Re)|0,se=Math.imul(be,Fe),Q=Q+Math.imul(O,pt)|0,T=T+Math.imul(O,ot)|0,T=T+Math.imul(Ae,pt)|0,se=se+Math.imul(Ae,ot)|0,Q=Q+Math.imul(ue,Et)|0,T=T+Math.imul(ue,Qt)|0,T=T+Math.imul(_e,Et)|0,se=se+Math.imul(_e,Qt)|0;var wt=(le+Q|0)+((T&8191)<<13)|0;le=(se+(T>>>13)|0)+(wt>>>26)|0,wt&=67108863,Q=Math.imul(J,Re),T=Math.imul(J,Fe),T=T+Math.imul(ce,Re)|0,se=Math.imul(ce,Fe),Q=Q+Math.imul(ge,pt)|0,T=T+Math.imul(ge,ot)|0,T=T+Math.imul(be,pt)|0,se=se+Math.imul(be,ot)|0,Q=Q+Math.imul(O,Et)|0,T=T+Math.imul(O,Qt)|0,T=T+Math.imul(Ae,Et)|0,se=se+Math.imul(Ae,Qt)|0,Q=Q+Math.imul(ue,Xt)|0,T=T+Math.imul(ue,Vt)|0,T=T+Math.imul(_e,Xt)|0,se=se+Math.imul(_e,Vt)|0;var on=(le+Q|0)+((T&8191)<<13)|0;le=(se+(T>>>13)|0)+(on>>>26)|0,on&=67108863,Q=Math.imul(de,Re),T=Math.imul(de,Fe),T=T+Math.imul(xe,Re)|0,se=Math.imul(xe,Fe),Q=Q+Math.imul(J,pt)|0,T=T+Math.imul(J,ot)|0,T=T+Math.imul(ce,pt)|0,se=se+Math.imul(ce,ot)|0,Q=Q+Math.imul(ge,Et)|0,T=T+Math.imul(ge,Qt)|0,T=T+Math.imul(be,Et)|0,se=se+Math.imul(be,Qt)|0,Q=Q+Math.imul(O,Xt)|0,T=T+Math.imul(O,Vt)|0,T=T+Math.imul(Ae,Xt)|0,se=se+Math.imul(Ae,Vt)|0,Q=Q+Math.imul(ue,un)|0,T=T+Math.imul(ue,hn)|0,T=T+Math.imul(_e,un)|0,se=se+Math.imul(_e,hn)|0;var bt=(le+Q|0)+((T&8191)<<13)|0;le=(se+(T>>>13)|0)+(bt>>>26)|0,bt&=67108863,Q=Math.imul(we,Re),T=Math.imul(we,Fe),T=T+Math.imul(ke,Re)|0,se=Math.imul(ke,Fe),Q=Q+Math.imul(de,pt)|0,T=T+Math.imul(de,ot)|0,T=T+Math.imul(xe,pt)|0,se=se+Math.imul(xe,ot)|0,Q=Q+Math.imul(J,Et)|0,T=T+Math.imul(J,Qt)|0,T=T+Math.imul(ce,Et)|0,se=se+Math.imul(ce,Qt)|0,Q=Q+Math.imul(ge,Xt)|0,T=T+Math.imul(ge,Vt)|0,T=T+Math.imul(be,Xt)|0,se=se+Math.imul(be,Vt)|0,Q=Q+Math.imul(O,un)|0,T=T+Math.imul(O,hn)|0,T=T+Math.imul(Ae,un)|0,se=se+Math.imul(Ae,hn)|0,Q=Q+Math.imul(ue,jn)|0,T=T+Math.imul(ue,En)|0,T=T+Math.imul(_e,jn)|0,se=se+Math.imul(_e,En)|0;var Ot=(le+Q|0)+((T&8191)<<13)|0;le=(se+(T>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,Q=Math.imul(Se,Re),T=Math.imul(Se,Fe),T=T+Math.imul(Be,Re)|0,se=Math.imul(Be,Fe),Q=Q+Math.imul(we,pt)|0,T=T+Math.imul(we,ot)|0,T=T+Math.imul(ke,pt)|0,se=se+Math.imul(ke,ot)|0,Q=Q+Math.imul(de,Et)|0,T=T+Math.imul(de,Qt)|0,T=T+Math.imul(xe,Et)|0,se=se+Math.imul(xe,Qt)|0,Q=Q+Math.imul(J,Xt)|0,T=T+Math.imul(J,Vt)|0,T=T+Math.imul(ce,Xt)|0,se=se+Math.imul(ce,Vt)|0,Q=Q+Math.imul(ge,un)|0,T=T+Math.imul(ge,hn)|0,T=T+Math.imul(be,un)|0,se=se+Math.imul(be,hn)|0,Q=Q+Math.imul(O,jn)|0,T=T+Math.imul(O,En)|0,T=T+Math.imul(Ae,jn)|0,se=se+Math.imul(Ae,En)|0,Q=Q+Math.imul(ue,qn)|0,T=T+Math.imul(ue,an)|0,T=T+Math.imul(_e,qn)|0,se=se+Math.imul(_e,an)|0;var Lt=(le+Q|0)+((T&8191)<<13)|0;le=(se+(T>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,Q=Math.imul(We,Re),T=Math.imul(We,Fe),T=T+Math.imul(lt,Re)|0,se=Math.imul(lt,Fe),Q=Q+Math.imul(Se,pt)|0,T=T+Math.imul(Se,ot)|0,T=T+Math.imul(Be,pt)|0,se=se+Math.imul(Be,ot)|0,Q=Q+Math.imul(we,Et)|0,T=T+Math.imul(we,Qt)|0,T=T+Math.imul(ke,Et)|0,se=se+Math.imul(ke,Qt)|0,Q=Q+Math.imul(de,Xt)|0,T=T+Math.imul(de,Vt)|0,T=T+Math.imul(xe,Xt)|0,se=se+Math.imul(xe,Vt)|0,Q=Q+Math.imul(J,un)|0,T=T+Math.imul(J,hn)|0,T=T+Math.imul(ce,un)|0,se=se+Math.imul(ce,hn)|0,Q=Q+Math.imul(ge,jn)|0,T=T+Math.imul(ge,En)|0,T=T+Math.imul(be,jn)|0,se=se+Math.imul(be,En)|0,Q=Q+Math.imul(O,qn)|0,T=T+Math.imul(O,an)|0,T=T+Math.imul(Ae,qn)|0,se=se+Math.imul(Ae,an)|0,Q=Q+Math.imul(ue,F)|0,T=T+Math.imul(ue,Y)|0,T=T+Math.imul(_e,F)|0,se=se+Math.imul(_e,Y)|0;var zt=(le+Q|0)+((T&8191)<<13)|0;le=(se+(T>>>13)|0)+(zt>>>26)|0,zt&=67108863,Q=Math.imul(Nt,Re),T=Math.imul(Nt,Fe),T=T+Math.imul(z,Re)|0,se=Math.imul(z,Fe),Q=Q+Math.imul(We,pt)|0,T=T+Math.imul(We,ot)|0,T=T+Math.imul(lt,pt)|0,se=se+Math.imul(lt,ot)|0,Q=Q+Math.imul(Se,Et)|0,T=T+Math.imul(Se,Qt)|0,T=T+Math.imul(Be,Et)|0,se=se+Math.imul(Be,Qt)|0,Q=Q+Math.imul(we,Xt)|0,T=T+Math.imul(we,Vt)|0,T=T+Math.imul(ke,Xt)|0,se=se+Math.imul(ke,Vt)|0,Q=Q+Math.imul(de,un)|0,T=T+Math.imul(de,hn)|0,T=T+Math.imul(xe,un)|0,se=se+Math.imul(xe,hn)|0,Q=Q+Math.imul(J,jn)|0,T=T+Math.imul(J,En)|0,T=T+Math.imul(ce,jn)|0,se=se+Math.imul(ce,En)|0,Q=Q+Math.imul(ge,qn)|0,T=T+Math.imul(ge,an)|0,T=T+Math.imul(be,qn)|0,se=se+Math.imul(be,an)|0,Q=Q+Math.imul(O,F)|0,T=T+Math.imul(O,Y)|0,T=T+Math.imul(Ae,F)|0,se=se+Math.imul(Ae,Y)|0,Q=Q+Math.imul(ue,b)|0,T=T+Math.imul(ue,te)|0,T=T+Math.imul(_e,b)|0,se=se+Math.imul(_e,te)|0;var Ht=(le+Q|0)+((T&8191)<<13)|0;le=(se+(T>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,Q=Math.imul(I,Re),T=Math.imul(I,Fe),T=T+Math.imul(ae,Re)|0,se=Math.imul(ae,Fe),Q=Q+Math.imul(Nt,pt)|0,T=T+Math.imul(Nt,ot)|0,T=T+Math.imul(z,pt)|0,se=se+Math.imul(z,ot)|0,Q=Q+Math.imul(We,Et)|0,T=T+Math.imul(We,Qt)|0,T=T+Math.imul(lt,Et)|0,se=se+Math.imul(lt,Qt)|0,Q=Q+Math.imul(Se,Xt)|0,T=T+Math.imul(Se,Vt)|0,T=T+Math.imul(Be,Xt)|0,se=se+Math.imul(Be,Vt)|0,Q=Q+Math.imul(we,un)|0,T=T+Math.imul(we,hn)|0,T=T+Math.imul(ke,un)|0,se=se+Math.imul(ke,hn)|0,Q=Q+Math.imul(de,jn)|0,T=T+Math.imul(de,En)|0,T=T+Math.imul(xe,jn)|0,se=se+Math.imul(xe,En)|0,Q=Q+Math.imul(J,qn)|0,T=T+Math.imul(J,an)|0,T=T+Math.imul(ce,qn)|0,se=se+Math.imul(ce,an)|0,Q=Q+Math.imul(ge,F)|0,T=T+Math.imul(ge,Y)|0,T=T+Math.imul(be,F)|0,se=se+Math.imul(be,Y)|0,Q=Q+Math.imul(O,b)|0,T=T+Math.imul(O,te)|0,T=T+Math.imul(Ae,b)|0,se=se+Math.imul(Ae,te)|0,Q=Q+Math.imul(ue,Te)|0,T=T+Math.imul(ue,ze)|0,T=T+Math.imul(_e,Te)|0,se=se+Math.imul(_e,ze)|0;var Bt=(le+Q|0)+((T&8191)<<13)|0;le=(se+(T>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,Q=Math.imul(I,pt),T=Math.imul(I,ot),T=T+Math.imul(ae,pt)|0,se=Math.imul(ae,ot),Q=Q+Math.imul(Nt,Et)|0,T=T+Math.imul(Nt,Qt)|0,T=T+Math.imul(z,Et)|0,se=se+Math.imul(z,Qt)|0,Q=Q+Math.imul(We,Xt)|0,T=T+Math.imul(We,Vt)|0,T=T+Math.imul(lt,Xt)|0,se=se+Math.imul(lt,Vt)|0,Q=Q+Math.imul(Se,un)|0,T=T+Math.imul(Se,hn)|0,T=T+Math.imul(Be,un)|0,se=se+Math.imul(Be,hn)|0,Q=Q+Math.imul(we,jn)|0,T=T+Math.imul(we,En)|0,T=T+Math.imul(ke,jn)|0,se=se+Math.imul(ke,En)|0,Q=Q+Math.imul(de,qn)|0,T=T+Math.imul(de,an)|0,T=T+Math.imul(xe,qn)|0,se=se+Math.imul(xe,an)|0,Q=Q+Math.imul(J,F)|0,T=T+Math.imul(J,Y)|0,T=T+Math.imul(ce,F)|0,se=se+Math.imul(ce,Y)|0,Q=Q+Math.imul(ge,b)|0,T=T+Math.imul(ge,te)|0,T=T+Math.imul(be,b)|0,se=se+Math.imul(be,te)|0,Q=Q+Math.imul(O,Te)|0,T=T+Math.imul(O,ze)|0,T=T+Math.imul(Ae,Te)|0,se=se+Math.imul(Ae,ze)|0;var Gt=(le+Q|0)+((T&8191)<<13)|0;le=(se+(T>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,Q=Math.imul(I,Et),T=Math.imul(I,Qt),T=T+Math.imul(ae,Et)|0,se=Math.imul(ae,Qt),Q=Q+Math.imul(Nt,Xt)|0,T=T+Math.imul(Nt,Vt)|0,T=T+Math.imul(z,Xt)|0,se=se+Math.imul(z,Vt)|0,Q=Q+Math.imul(We,un)|0,T=T+Math.imul(We,hn)|0,T=T+Math.imul(lt,un)|0,se=se+Math.imul(lt,hn)|0,Q=Q+Math.imul(Se,jn)|0,T=T+Math.imul(Se,En)|0,T=T+Math.imul(Be,jn)|0,se=se+Math.imul(Be,En)|0,Q=Q+Math.imul(we,qn)|0,T=T+Math.imul(we,an)|0,T=T+Math.imul(ke,qn)|0,se=se+Math.imul(ke,an)|0,Q=Q+Math.imul(de,F)|0,T=T+Math.imul(de,Y)|0,T=T+Math.imul(xe,F)|0,se=se+Math.imul(xe,Y)|0,Q=Q+Math.imul(J,b)|0,T=T+Math.imul(J,te)|0,T=T+Math.imul(ce,b)|0,se=se+Math.imul(ce,te)|0,Q=Q+Math.imul(ge,Te)|0,T=T+Math.imul(ge,ze)|0,T=T+Math.imul(be,Te)|0,se=se+Math.imul(be,ze)|0;var Dt=(le+Q|0)+((T&8191)<<13)|0;le=(se+(T>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,Q=Math.imul(I,Xt),T=Math.imul(I,Vt),T=T+Math.imul(ae,Xt)|0,se=Math.imul(ae,Vt),Q=Q+Math.imul(Nt,un)|0,T=T+Math.imul(Nt,hn)|0,T=T+Math.imul(z,un)|0,se=se+Math.imul(z,hn)|0,Q=Q+Math.imul(We,jn)|0,T=T+Math.imul(We,En)|0,T=T+Math.imul(lt,jn)|0,se=se+Math.imul(lt,En)|0,Q=Q+Math.imul(Se,qn)|0,T=T+Math.imul(Se,an)|0,T=T+Math.imul(Be,qn)|0,se=se+Math.imul(Be,an)|0,Q=Q+Math.imul(we,F)|0,T=T+Math.imul(we,Y)|0,T=T+Math.imul(ke,F)|0,se=se+Math.imul(ke,Y)|0,Q=Q+Math.imul(de,b)|0,T=T+Math.imul(de,te)|0,T=T+Math.imul(xe,b)|0,se=se+Math.imul(xe,te)|0,Q=Q+Math.imul(J,Te)|0,T=T+Math.imul(J,ze)|0,T=T+Math.imul(ce,Te)|0,se=se+Math.imul(ce,ze)|0;var It=(le+Q|0)+((T&8191)<<13)|0;le=(se+(T>>>13)|0)+(It>>>26)|0,It&=67108863,Q=Math.imul(I,un),T=Math.imul(I,hn),T=T+Math.imul(ae,un)|0,se=Math.imul(ae,hn),Q=Q+Math.imul(Nt,jn)|0,T=T+Math.imul(Nt,En)|0,T=T+Math.imul(z,jn)|0,se=se+Math.imul(z,En)|0,Q=Q+Math.imul(We,qn)|0,T=T+Math.imul(We,an)|0,T=T+Math.imul(lt,qn)|0,se=se+Math.imul(lt,an)|0,Q=Q+Math.imul(Se,F)|0,T=T+Math.imul(Se,Y)|0,T=T+Math.imul(Be,F)|0,se=se+Math.imul(Be,Y)|0,Q=Q+Math.imul(we,b)|0,T=T+Math.imul(we,te)|0,T=T+Math.imul(ke,b)|0,se=se+Math.imul(ke,te)|0,Q=Q+Math.imul(de,Te)|0,T=T+Math.imul(de,ze)|0,T=T+Math.imul(xe,Te)|0,se=se+Math.imul(xe,ze)|0;var Pt=(le+Q|0)+((T&8191)<<13)|0;le=(se+(T>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,Q=Math.imul(I,jn),T=Math.imul(I,En),T=T+Math.imul(ae,jn)|0,se=Math.imul(ae,En),Q=Q+Math.imul(Nt,qn)|0,T=T+Math.imul(Nt,an)|0,T=T+Math.imul(z,qn)|0,se=se+Math.imul(z,an)|0,Q=Q+Math.imul(We,F)|0,T=T+Math.imul(We,Y)|0,T=T+Math.imul(lt,F)|0,se=se+Math.imul(lt,Y)|0,Q=Q+Math.imul(Se,b)|0,T=T+Math.imul(Se,te)|0,T=T+Math.imul(Be,b)|0,se=se+Math.imul(Be,te)|0,Q=Q+Math.imul(we,Te)|0,T=T+Math.imul(we,ze)|0,T=T+Math.imul(ke,Te)|0,se=se+Math.imul(ke,ze)|0;var vt=(le+Q|0)+((T&8191)<<13)|0;le=(se+(T>>>13)|0)+(vt>>>26)|0,vt&=67108863,Q=Math.imul(I,qn),T=Math.imul(I,an),T=T+Math.imul(ae,qn)|0,se=Math.imul(ae,an),Q=Q+Math.imul(Nt,F)|0,T=T+Math.imul(Nt,Y)|0,T=T+Math.imul(z,F)|0,se=se+Math.imul(z,Y)|0,Q=Q+Math.imul(We,b)|0,T=T+Math.imul(We,te)|0,T=T+Math.imul(lt,b)|0,se=se+Math.imul(lt,te)|0,Q=Q+Math.imul(Se,Te)|0,T=T+Math.imul(Se,ze)|0,T=T+Math.imul(Be,Te)|0,se=se+Math.imul(Be,ze)|0;var Tt=(le+Q|0)+((T&8191)<<13)|0;le=(se+(T>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,Q=Math.imul(I,F),T=Math.imul(I,Y),T=T+Math.imul(ae,F)|0,se=Math.imul(ae,Y),Q=Q+Math.imul(Nt,b)|0,T=T+Math.imul(Nt,te)|0,T=T+Math.imul(z,b)|0,se=se+Math.imul(z,te)|0,Q=Q+Math.imul(We,Te)|0,T=T+Math.imul(We,ze)|0,T=T+Math.imul(lt,Te)|0,se=se+Math.imul(lt,ze)|0;var Rt=(le+Q|0)+((T&8191)<<13)|0;le=(se+(T>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,Q=Math.imul(I,b),T=Math.imul(I,te),T=T+Math.imul(ae,b)|0,se=Math.imul(ae,te),Q=Q+Math.imul(Nt,Te)|0,T=T+Math.imul(Nt,ze)|0,T=T+Math.imul(z,Te)|0,se=se+Math.imul(z,ze)|0;var xt=(le+Q|0)+((T&8191)<<13)|0;le=(se+(T>>>13)|0)+(xt>>>26)|0,xt&=67108863,Q=Math.imul(I,Te),T=Math.imul(I,ze),T=T+Math.imul(ae,Te)|0,se=Math.imul(ae,ze);var $e=(le+Q|0)+((T&8191)<<13)|0;return le=(se+(T>>>13)|0)+($e>>>26)|0,$e&=67108863,W[0]=ct,W[1]=kt,W[2]=wt,W[3]=on,W[4]=bt,W[5]=Ot,W[6]=Lt,W[7]=zt,W[8]=Ht,W[9]=Bt,W[10]=Gt,W[11]=Dt,W[12]=It,W[13]=Pt,W[14]=vt,W[15]=Tt,W[16]=Rt,W[17]=xt,W[18]=$e,le!==0&&(W[19]=le,E.length++),E};Math.imul||(B=R);function re(A,y,x){x.negative=y.negative^A.negative,x.length=A.length+y.length;for(var E=0,$=0,ee=0;ee<x.length-1;ee++){var W=$;$=0;for(var le=E&67108863,Q=Math.min(ee,y.length-1),T=Math.max(0,ee-A.length+1);T<=Q;T++){var se=ee-T,ie=A.words[se]|0,ue=y.words[T]|0,_e=ie*ue,me=_e&67108863;W=W+(_e/67108864|0)|0,me=me+le|0,le=me&67108863,W=W+(me>>>26)|0,$+=W>>>26,W&=67108863}x.words[ee]=le,E=W,W=$}return E!==0?x.words[ee]=E:x.length--,x.strip()}function N(A,y,x){var E=new U;return E.mulp(A,y,x)}o.prototype.mulTo=function(y,x){var E,$=this.length+y.length;return this.length===10&&y.length===10?E=B(this,y,x):$<63?E=R(this,y,x):$<1024?E=re(this,y,x):E=N(this,y,x),E};function U(A,y){this.x=A,this.y=y}U.prototype.makeRBT=function(y){for(var x=new Array(y),E=o.prototype._countBits(y)-1,$=0;$<y;$++)x[$]=this.revBin($,E,y);return x},U.prototype.revBin=function(y,x,E){if(y===0||y===E-1)return y;for(var $=0,ee=0;ee<x;ee++)$|=(y&1)<<x-ee-1,y>>=1;return $},U.prototype.permute=function(y,x,E,$,ee,W){for(var le=0;le<W;le++)$[le]=x[y[le]],ee[le]=E[y[le]]},U.prototype.transform=function(y,x,E,$,ee,W){this.permute(W,y,x,E,$,ee);for(var le=1;le<ee;le<<=1)for(var Q=le<<1,T=Math.cos(2*Math.PI/Q),se=Math.sin(2*Math.PI/Q),ie=0;ie<ee;ie+=Q)for(var ue=T,_e=se,me=0;me<le;me++){var O=E[ie+me],Ae=$[ie+me],Pe=E[ie+me+le],ge=$[ie+me+le],be=ue*Pe-_e*ge;ge=ue*ge+_e*Pe,Pe=be,E[ie+me]=O+Pe,$[ie+me]=Ae+ge,E[ie+me+le]=O-Pe,$[ie+me+le]=Ae-ge,me!==Q&&(be=T*ue-se*_e,_e=T*_e+se*ue,ue=be)}},U.prototype.guessLen13b=function(y,x){var E=Math.max(x,y)|1,$=E&1,ee=0;for(E=E/2|0;E;E=E>>>1)ee++;return 1<<ee+1+$},U.prototype.conjugate=function(y,x,E){if(!(E<=1))for(var $=0;$<E/2;$++){var ee=y[$];y[$]=y[E-$-1],y[E-$-1]=ee,ee=x[$],x[$]=-x[E-$-1],x[E-$-1]=-ee}},U.prototype.normalize13b=function(y,x){for(var E=0,$=0;$<x/2;$++){var ee=Math.round(y[2*$+1]/x)*8192+Math.round(y[2*$]/x)+E;y[$]=ee&67108863,ee<67108864?E=0:E=ee/67108864|0}return y},U.prototype.convert13b=function(y,x,E,$){for(var ee=0,W=0;W<x;W++)ee=ee+(y[W]|0),E[2*W]=ee&8191,ee=ee>>>13,E[2*W+1]=ee&8191,ee=ee>>>13;for(W=2*x;W<$;++W)E[W]=0;r(ee===0),r((ee&-8192)===0)},U.prototype.stub=function(y){for(var x=new Array(y),E=0;E<y;E++)x[E]=0;return x},U.prototype.mulp=function(y,x,E){var $=2*this.guessLen13b(y.length,x.length),ee=this.makeRBT($),W=this.stub($),le=new Array($),Q=new Array($),T=new Array($),se=new Array($),ie=new Array($),ue=new Array($),_e=E.words;_e.length=$,this.convert13b(y.words,y.length,le,$),this.convert13b(x.words,x.length,se,$),this.transform(le,W,Q,T,$,ee),this.transform(se,W,ie,ue,$,ee);for(var me=0;me<$;me++){var O=Q[me]*ie[me]-T[me]*ue[me];T[me]=Q[me]*ue[me]+T[me]*ie[me],Q[me]=O}return this.conjugate(Q,T,$),this.transform(Q,T,_e,W,$,ee),this.conjugate(_e,W,$),this.normalize13b(_e,$),E.negative=y.negative^x.negative,E.length=y.length+x.length,E.strip()},o.prototype.mul=function(y){var x=new o(null);return x.words=new Array(this.length+y.length),this.mulTo(y,x)},o.prototype.mulf=function(y){var x=new o(null);return x.words=new Array(this.length+y.length),N(this,y,x)},o.prototype.imul=function(y){return this.clone().mulTo(y,this)},o.prototype.imuln=function(y){r(typeof y=="number"),r(y<67108864);for(var x=0,E=0;E<this.length;E++){var $=(this.words[E]|0)*y,ee=($&67108863)+(x&67108863);x>>=26,x+=$/67108864|0,x+=ee>>>26,this.words[E]=ee&67108863}return x!==0&&(this.words[E]=x,this.length++),this},o.prototype.muln=function(y){return this.clone().imuln(y)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(y){var x=C(y);if(x.length===0)return new o(1);for(var E=this,$=0;$<x.length&&x[$]===0;$++,E=E.sqr());if(++$<x.length)for(var ee=E.sqr();$<x.length;$++,ee=ee.sqr())x[$]!==0&&(E=E.mul(ee));return E},o.prototype.iushln=function(y){r(typeof y=="number"&&y>=0);var x=y%26,E=(y-x)/26,$=67108863>>>26-x<<26-x,ee;if(x!==0){var W=0;for(ee=0;ee<this.length;ee++){var le=this.words[ee]&$,Q=(this.words[ee]|0)-le<<x;this.words[ee]=Q|W,W=le>>>26-x}W&&(this.words[ee]=W,this.length++)}if(E!==0){for(ee=this.length-1;ee>=0;ee--)this.words[ee+E]=this.words[ee];for(ee=0;ee<E;ee++)this.words[ee]=0;this.length+=E}return this.strip()},o.prototype.ishln=function(y){return r(this.negative===0),this.iushln(y)},o.prototype.iushrn=function(y,x,E){r(typeof y=="number"&&y>=0);var $;x?$=(x-x%26)/26:$=0;var ee=y%26,W=Math.min((y-ee)/26,this.length),le=67108863^67108863>>>ee<<ee,Q=E;if($-=W,$=Math.max(0,$),Q){for(var T=0;T<W;T++)Q.words[T]=this.words[T];Q.length=W}if(W!==0)if(this.length>W)for(this.length-=W,T=0;T<this.length;T++)this.words[T]=this.words[T+W];else this.words[0]=0,this.length=1;var se=0;for(T=this.length-1;T>=0&&(se!==0||T>=$);T--){var ie=this.words[T]|0;this.words[T]=se<<26-ee|ie>>>ee,se=ie&le}return Q&&se!==0&&(Q.words[Q.length++]=se),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(y,x,E){return r(this.negative===0),this.iushrn(y,x,E)},o.prototype.shln=function(y){return this.clone().ishln(y)},o.prototype.ushln=function(y){return this.clone().iushln(y)},o.prototype.shrn=function(y){return this.clone().ishrn(y)},o.prototype.ushrn=function(y){return this.clone().iushrn(y)},o.prototype.testn=function(y){r(typeof y=="number"&&y>=0);var x=y%26,E=(y-x)/26,$=1<<x;if(this.length<=E)return!1;var ee=this.words[E];return!!(ee&$)},o.prototype.imaskn=function(y){r(typeof y=="number"&&y>=0);var x=y%26,E=(y-x)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(x!==0&&E++,this.length=Math.min(E,this.length),x!==0){var $=67108863^67108863>>>x<<x;this.words[this.length-1]&=$}return this.strip()},o.prototype.maskn=function(y){return this.clone().imaskn(y)},o.prototype.iaddn=function(y){return r(typeof y=="number"),r(y<67108864),y<0?this.isubn(-y):this.negative!==0?this.length===1&&(this.words[0]|0)<y?(this.words[0]=y-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this):this._iaddn(y)},o.prototype._iaddn=function(y){this.words[0]+=y;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},o.prototype.isubn=function(y){if(r(typeof y=="number"),r(y<67108864),y<0)return this.iaddn(-y);if(this.negative!==0)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this.strip()},o.prototype.addn=function(y){return this.clone().iaddn(y)},o.prototype.subn=function(y){return this.clone().isubn(y)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(y,x,E){var $=y.length+E,ee;this._expand($);var W,le=0;for(ee=0;ee<y.length;ee++){W=(this.words[ee+E]|0)+le;var Q=(y.words[ee]|0)*x;W-=Q&67108863,le=(W>>26)-(Q/67108864|0),this.words[ee+E]=W&67108863}for(;ee<this.length-E;ee++)W=(this.words[ee+E]|0)+le,le=W>>26,this.words[ee+E]=W&67108863;if(le===0)return this.strip();for(r(le===-1),le=0,ee=0;ee<this.length;ee++)W=-(this.words[ee]|0)+le,le=W>>26,this.words[ee]=W&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(y,x){var E=this.length-y.length,$=this.clone(),ee=y,W=ee.words[ee.length-1]|0,le=this._countBits(W);E=26-le,E!==0&&(ee=ee.ushln(E),$.iushln(E),W=ee.words[ee.length-1]|0);var Q=$.length-ee.length,T;if(x!=="mod"){T=new o(null),T.length=Q+1,T.words=new Array(T.length);for(var se=0;se<T.length;se++)T.words[se]=0}var ie=$.clone()._ishlnsubmul(ee,1,Q);ie.negative===0&&($=ie,T&&(T.words[Q]=1));for(var ue=Q-1;ue>=0;ue--){var _e=($.words[ee.length+ue]|0)*67108864+($.words[ee.length+ue-1]|0);for(_e=Math.min(_e/W|0,67108863),$._ishlnsubmul(ee,_e,ue);$.negative!==0;)_e--,$.negative=0,$._ishlnsubmul(ee,1,ue),$.isZero()||($.negative^=1);T&&(T.words[ue]=_e)}return T&&T.strip(),$.strip(),x!=="div"&&E!==0&&$.iushrn(E),{div:T||null,mod:$}},o.prototype.divmod=function(y,x,E){if(r(!y.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var $,ee,W;return this.negative!==0&&y.negative===0?(W=this.neg().divmod(y,x),x!=="mod"&&($=W.div.neg()),x!=="div"&&(ee=W.mod.neg(),E&&ee.negative!==0&&ee.iadd(y)),{div:$,mod:ee}):this.negative===0&&y.negative!==0?(W=this.divmod(y.neg(),x),x!=="mod"&&($=W.div.neg()),{div:$,mod:W.mod}):(this.negative&y.negative)!==0?(W=this.neg().divmod(y.neg(),x),x!=="div"&&(ee=W.mod.neg(),E&&ee.negative!==0&&ee.isub(y)),{div:W.div,mod:ee}):y.length>this.length||this.cmp(y)<0?{div:new o(0),mod:this}:y.length===1?x==="div"?{div:this.divn(y.words[0]),mod:null}:x==="mod"?{div:null,mod:new o(this.modn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new o(this.modn(y.words[0]))}:this._wordDiv(y,x)},o.prototype.div=function(y){return this.divmod(y,"div",!1).div},o.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},o.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},o.prototype.divRound=function(y){var x=this.divmod(y);if(x.mod.isZero())return x.div;var E=x.div.negative!==0?x.mod.isub(y):x.mod,$=y.ushrn(1),ee=y.andln(1),W=E.cmp($);return W<0||ee===1&&W===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},o.prototype.modn=function(y){r(y<=67108863);for(var x=(1<<26)%y,E=0,$=this.length-1;$>=0;$--)E=(x*E+(this.words[$]|0))%y;return E},o.prototype.idivn=function(y){r(y<=67108863);for(var x=0,E=this.length-1;E>=0;E--){var $=(this.words[E]|0)+x*67108864;this.words[E]=$/y|0,x=$%y}return this.strip()},o.prototype.divn=function(y){return this.clone().idivn(y)},o.prototype.egcd=function(y){r(y.negative===0),r(!y.isZero());var x=this,E=y.clone();x.negative!==0?x=x.umod(y):x=x.clone();for(var $=new o(1),ee=new o(0),W=new o(0),le=new o(1),Q=0;x.isEven()&&E.isEven();)x.iushrn(1),E.iushrn(1),++Q;for(var T=E.clone(),se=x.clone();!x.isZero();){for(var ie=0,ue=1;(x.words[0]&ue)===0&&ie<26;++ie,ue<<=1);if(ie>0)for(x.iushrn(ie);ie-- >0;)($.isOdd()||ee.isOdd())&&($.iadd(T),ee.isub(se)),$.iushrn(1),ee.iushrn(1);for(var _e=0,me=1;(E.words[0]&me)===0&&_e<26;++_e,me<<=1);if(_e>0)for(E.iushrn(_e);_e-- >0;)(W.isOdd()||le.isOdd())&&(W.iadd(T),le.isub(se)),W.iushrn(1),le.iushrn(1);x.cmp(E)>=0?(x.isub(E),$.isub(W),ee.isub(le)):(E.isub(x),W.isub($),le.isub(ee))}return{a:W,b:le,gcd:E.iushln(Q)}},o.prototype._invmp=function(y){r(y.negative===0),r(!y.isZero());var x=this,E=y.clone();x.negative!==0?x=x.umod(y):x=x.clone();for(var $=new o(1),ee=new o(0),W=E.clone();x.cmpn(1)>0&&E.cmpn(1)>0;){for(var le=0,Q=1;(x.words[0]&Q)===0&&le<26;++le,Q<<=1);if(le>0)for(x.iushrn(le);le-- >0;)$.isOdd()&&$.iadd(W),$.iushrn(1);for(var T=0,se=1;(E.words[0]&se)===0&&T<26;++T,se<<=1);if(T>0)for(E.iushrn(T);T-- >0;)ee.isOdd()&&ee.iadd(W),ee.iushrn(1);x.cmp(E)>=0?(x.isub(E),$.isub(ee)):(E.isub(x),ee.isub($))}var ie;return x.cmpn(1)===0?ie=$:ie=ee,ie.cmpn(0)<0&&ie.iadd(y),ie},o.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var x=this.clone(),E=y.clone();x.negative=0,E.negative=0;for(var $=0;x.isEven()&&E.isEven();$++)x.iushrn(1),E.iushrn(1);do{for(;x.isEven();)x.iushrn(1);for(;E.isEven();)E.iushrn(1);var ee=x.cmp(E);if(ee<0){var W=x;x=E,E=W}else if(ee===0||E.cmpn(1)===0)break;x.isub(E)}while(!0);return E.iushln($)},o.prototype.invm=function(y){return this.egcd(y).a.umod(y)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(y){return this.words[0]&y},o.prototype.bincn=function(y){r(typeof y=="number");var x=y%26,E=(y-x)/26,$=1<<x;if(this.length<=E)return this._expand(E+1),this.words[E]|=$,this;for(var ee=$,W=E;ee!==0&&W<this.length;W++){var le=this.words[W]|0;le+=ee,ee=le>>>26,le&=67108863,this.words[W]=le}return ee!==0&&(this.words[W]=ee,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(y){var x=y<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;this.strip();var E;if(this.length>1)E=1;else{x&&(y=-y),r(y<=67108863,"Number is too big");var $=this.words[0]|0;E=$===y?0:$<y?-1:1}return this.negative!==0?-E|0:E},o.prototype.cmp=function(y){if(this.negative!==0&&y.negative===0)return-1;if(this.negative===0&&y.negative!==0)return 1;var x=this.ucmp(y);return this.negative!==0?-x|0:x},o.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var x=0,E=this.length-1;E>=0;E--){var $=this.words[E]|0,ee=y.words[E]|0;if($!==ee){$<ee?x=-1:$>ee&&(x=1);break}}return x},o.prototype.gtn=function(y){return this.cmpn(y)===1},o.prototype.gt=function(y){return this.cmp(y)===1},o.prototype.gten=function(y){return this.cmpn(y)>=0},o.prototype.gte=function(y){return this.cmp(y)>=0},o.prototype.ltn=function(y){return this.cmpn(y)===-1},o.prototype.lt=function(y){return this.cmp(y)===-1},o.prototype.lten=function(y){return this.cmpn(y)<=0},o.prototype.lte=function(y){return this.cmp(y)<=0},o.prototype.eqn=function(y){return this.cmpn(y)===0},o.prototype.eq=function(y){return this.cmp(y)===0},o.red=function(y){return new M(y)},o.prototype.toRed=function(y){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),y.convertTo(this)._forceRed(y)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(y){return this.red=y,this},o.prototype.forceRed=function(y){return r(!this.red,"Already a number in reduction context"),this._forceRed(y)},o.prototype.redAdd=function(y){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},o.prototype.redIAdd=function(y){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},o.prototype.redSub=function(y){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},o.prototype.redISub=function(y){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},o.prototype.redShl=function(y){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},o.prototype.redMul=function(y){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},o.prototype.redIMul=function(y){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(y){return r(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var q={k256:null,p224:null,p192:null,p25519:null};function G(A,y){this.name=A,this.p=new o(y,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}G.prototype._tmp=function(){var y=new o(null);return y.words=new Array(Math.ceil(this.n/13)),y},G.prototype.ireduce=function(y){var x=y,E;do this.split(x,this.tmp),x=this.imulK(x),x=x.iadd(this.tmp),E=x.bitLength();while(E>this.n);var $=E<this.n?-1:x.ucmp(this.p);return $===0?(x.words[0]=0,x.length=1):$>0?x.isub(this.p):x.strip(),x},G.prototype.split=function(y,x){y.iushrn(this.n,0,x)},G.prototype.imulK=function(y){return y.imul(this.k)};function he(){G.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(he,G),he.prototype.split=function(y,x){for(var E=4194303,$=Math.min(y.length,9),ee=0;ee<$;ee++)x.words[ee]=y.words[ee];if(x.length=$,y.length<=9){y.words[0]=0,y.length=1;return}var W=y.words[9];for(x.words[x.length++]=W&E,ee=10;ee<y.length;ee++){var le=y.words[ee]|0;y.words[ee-10]=(le&E)<<4|W>>>22,W=le}W>>>=22,y.words[ee-10]=W,W===0&&y.length>10?y.length-=10:y.length-=9},he.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var x=0,E=0;E<y.length;E++){var $=y.words[E]|0;x+=$*977,y.words[E]=x&67108863,x=$*64+(x/67108864|0)}return y.words[y.length-1]===0&&(y.length--,y.words[y.length-1]===0&&y.length--),y};function pe(){G.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(pe,G);function K(){G.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(K,G);function P(){G.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(P,G),P.prototype.imulK=function(y){for(var x=0,E=0;E<y.length;E++){var $=(y.words[E]|0)*19+x,ee=$&67108863;$>>>=26,y.words[E]=ee,x=$}return x!==0&&(y.words[y.length++]=x),y},o._prime=function(y){if(q[y])return q[y];var x;if(y==="k256")x=new he;else if(y==="p224")x=new pe;else if(y==="p192")x=new K;else if(y==="p25519")x=new P;else throw new Error("Unknown prime "+y);return q[y]=x,x};function M(A){if(typeof A=="string"){var y=o._prime(A);this.m=y.p,this.prime=y}else r(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}M.prototype._verify1=function(y){r(y.negative===0,"red works only with positives"),r(y.red,"red works only with red numbers")},M.prototype._verify2=function(y,x){r((y.negative|x.negative)===0,"red works only with positives"),r(y.red&&y.red===x.red,"red works only with red numbers")},M.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):y.umod(this.m)._forceRed(this)},M.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},M.prototype.add=function(y,x){this._verify2(y,x);var E=y.add(x);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},M.prototype.iadd=function(y,x){this._verify2(y,x);var E=y.iadd(x);return E.cmp(this.m)>=0&&E.isub(this.m),E},M.prototype.sub=function(y,x){this._verify2(y,x);var E=y.sub(x);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},M.prototype.isub=function(y,x){this._verify2(y,x);var E=y.isub(x);return E.cmpn(0)<0&&E.iadd(this.m),E},M.prototype.shl=function(y,x){return this._verify1(y),this.imod(y.ushln(x))},M.prototype.imul=function(y,x){return this._verify2(y,x),this.imod(y.imul(x))},M.prototype.mul=function(y,x){return this._verify2(y,x),this.imod(y.mul(x))},M.prototype.isqr=function(y){return this.imul(y,y.clone())},M.prototype.sqr=function(y){return this.mul(y,y)},M.prototype.sqrt=function(y){if(y.isZero())return y.clone();var x=this.m.andln(3);if(r(x%2===1),x===3){var E=this.m.add(new o(1)).iushrn(2);return this.pow(y,E)}for(var $=this.m.subn(1),ee=0;!$.isZero()&&$.andln(1)===0;)ee++,$.iushrn(1);r(!$.isZero());var W=new o(1).toRed(this),le=W.redNeg(),Q=this.m.subn(1).iushrn(1),T=this.m.bitLength();for(T=new o(2*T*T).toRed(this);this.pow(T,Q).cmp(le)!==0;)T.redIAdd(le);for(var se=this.pow(T,$),ie=this.pow(y,$.addn(1).iushrn(1)),ue=this.pow(y,$),_e=ee;ue.cmp(W)!==0;){for(var me=ue,O=0;me.cmp(W)!==0;O++)me=me.redSqr();r(O<_e);var Ae=this.pow(se,new o(1).iushln(_e-O-1));ie=ie.redMul(Ae),se=Ae.redSqr(),ue=ue.redMul(se),_e=O}return ie},M.prototype.invm=function(y){var x=y._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},M.prototype.pow=function(y,x){if(x.isZero())return new o(1).toRed(this);if(x.cmpn(1)===0)return y.clone();var E=4,$=new Array(1<<E);$[0]=new o(1).toRed(this),$[1]=y;for(var ee=2;ee<$.length;ee++)$[ee]=this.mul($[ee-1],y);var W=$[0],le=0,Q=0,T=x.bitLength()%26;for(T===0&&(T=26),ee=x.length-1;ee>=0;ee--){for(var se=x.words[ee],ie=T-1;ie>=0;ie--){var ue=se>>ie&1;if(W!==$[0]&&(W=this.sqr(W)),ue===0&&le===0){Q=0;continue}le<<=1,le|=ue,Q++,!(Q!==E&&(ee!==0||ie!==0))&&(W=this.mul(W,$[le]),Q=0,le=0)}T=26}return W},M.prototype.convertTo=function(y){var x=y.umod(this.m);return x===y?x.clone():x},M.prototype.convertFrom=function(y){var x=y.clone();return x.red=null,x},o.mont=function(y){return new H(y)};function H(A){M.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(H,M),H.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},H.prototype.convertFrom=function(y){var x=this.imod(y.mul(this.rinv));return x.red=null,x},H.prototype.imul=function(y,x){if(y.isZero()||x.isZero())return y.words[0]=0,y.length=1,y;var E=y.imul(x),$=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ee=E.isub($).iushrn(this.shift),W=ee;return ee.cmp(this.m)>=0?W=ee.isub(this.m):ee.cmpn(0)<0&&(W=ee.iadd(this.m)),W._forceRed(this)},H.prototype.mul=function(y,x){if(y.isZero()||x.isZero())return new o(0)._forceRed(this);var E=y.mul(x),$=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ee=E.isub($).iushrn(this.shift),W=ee;return ee.cmp(this.m)>=0?W=ee.isub(this.m):ee.cmpn(0)<0&&(W=ee.iadd(this.m)),W._forceRed(this)},H.prototype.invm=function(y){var x=this.imod(y._invmp(this.m).mul(this.r2));return x._forceRed(this)}})(n,IH)})(x0)),x0.exports}var RH=CH();const NH=lu(RH);var jx,T6;function NR(){if(T6)return jx;T6=1,jx=t,t.strict=r,t.loose=s;var n=Object.prototype.toString,e={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function t(o){return r(o)||s(o)}function r(o){return o instanceof Int8Array||o instanceof Int16Array||o instanceof Int32Array||o instanceof Uint8Array||o instanceof Uint8ClampedArray||o instanceof Uint16Array||o instanceof Uint32Array||o instanceof Float32Array||o instanceof Float64Array}function s(o){return e[n.call(o)]}return jx}NR();var Vx,k6;function DH(){if(k6)return Vx;k6=1;var n=NR().strict;return Vx=function(t){if(n(t)){var r=Buffer.from(t.buffer);return t.byteLength!==t.buffer.byteLength&&(r=r.slice(t.byteOffset,t.byteOffset+t.byteLength)),r}else return Buffer.from(t)},Vx}var MH=DH();const FH=lu(MH),DR="hex",MR="utf8",rw="0";function Td(n){return new Uint8Array(n)}function FR(n,e=!1){const t=n.toString(DR);return e?Ld(t):t}function OH(n){return n.toString(MR)}function iw(n){return FH(n)}function oh(n,e=!1){return FR(iw(n),e)}function PH(n){return OH(iw(n))}function jH(n){return Buffer.from(Tc(n),DR)}function ch(n){return Td(jH(n))}function fb(n){return Buffer.from(n,MR)}function VH(n){return Td(fb(n))}function BH(n,e=!1){return FR(fb(n),e)}function UH(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/))}function OR(...n){let e=[];return n.forEach(t=>e=e.concat(Array.from(t))),new Uint8Array([...e])}function LH(n,e=8){const t=n%e;return t?(n-t)/e*e+e:n}function zH(n,e=8,t=rw){return qH(n,LH(n.length,e),t)}function qH(n,e,t=rw){return HH(n,e,!0,t)}function Tc(n){return n.replace(/^0x/,"")}function Ld(n){return n.startsWith("0x")?n:`0x${n}`}function PR(n){return n=Tc(n),n=zH(n,2),n&&(n=Ld(n)),n}function $H(n){const e=n.startsWith("0x");return n=Tc(n),n=n.startsWith(rw)?n.substring(1):n,e?Ld(n):n}function HH(n,e,t,r=rw){const s=e-n.length;let o=n;return s>0&&(o=r.repeat(s)+n),o}function bS(n){return iw(new Uint8Array(n))}function GH(n,e){return oh(new Uint8Array(n),!1)}function KH(n){return Td(n).buffer}function WH(n){return fb(n)}function YH(n,e){return BH(n,!0)}function JH(n){return ch(n).buffer}function jR(n,e){const t=Tc(PR(new NH(n).toString(16)));return e?t:Ld(t)}var Bx={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */var I6;function QH(){return I6||(I6=1,(function(n){(function(){var e="input is invalid type",t="finalize already called",r=typeof window=="object",s=r?window:{};s.JS_SHA3_NO_WINDOW&&(r=!1);var o=!r&&typeof self=="object",l=!s.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;l?s=Va:o&&(s=self);var h=!s.JS_SHA3_NO_COMMON_JS&&!0&&n.exports,p=!s.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",f="0123456789abcdef".split(""),v=[31,7936,2031616,520093696],S=[4,1024,262144,67108864],C=[1,256,65536,16777216],R=[6,1536,393216,100663296],B=[0,8,16,24],re=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],N=[224,256,384,512],U=[128,256],q=["hex","buffer","arrayBuffer","array","digest"],G={128:168,256:136};(s.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(O){return Object.prototype.toString.call(O)==="[object Array]"}),p&&(s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(O){return typeof O=="object"&&O.buffer&&O.buffer.constructor===ArrayBuffer});for(var he=function(O,Ae,Pe){return function(ge){return new ue(O,Ae,O).update(ge)[Pe]()}},pe=function(O,Ae,Pe){return function(ge,be){return new ue(O,Ae,be).update(ge)[Pe]()}},K=function(O,Ae,Pe){return function(ge,be,L,J){return $["cshake"+O].update(ge,be,L,J)[Pe]()}},P=function(O,Ae,Pe){return function(ge,be,L,J){return $["kmac"+O].update(ge,be,L,J)[Pe]()}},M=function(O,Ae,Pe,ge){for(var be=0;be<q.length;++be){var L=q[be];O[L]=Ae(Pe,ge,L)}return O},H=function(O,Ae){var Pe=he(O,Ae,"hex");return Pe.create=function(){return new ue(O,Ae,O)},Pe.update=function(ge){return Pe.create().update(ge)},M(Pe,he,O,Ae)},A=function(O,Ae){var Pe=pe(O,Ae,"hex");return Pe.create=function(ge){return new ue(O,Ae,ge)},Pe.update=function(ge,be){return Pe.create(be).update(ge)},M(Pe,pe,O,Ae)},y=function(O,Ae){var Pe=G[O],ge=K(O,Ae,"hex");return ge.create=function(be,L,J){return!L&&!J?$["shake"+O].create(be):new ue(O,Ae,be).bytepad([L,J],Pe)},ge.update=function(be,L,J,ce){return ge.create(L,J,ce).update(be)},M(ge,K,O,Ae)},x=function(O,Ae){var Pe=G[O],ge=P(O,Ae,"hex");return ge.create=function(be,L,J){return new _e(O,Ae,L).bytepad(["KMAC",J],Pe).bytepad([be],Pe)},ge.update=function(be,L,J,ce){return ge.create(be,J,ce).update(L)},M(ge,P,O,Ae)},E=[{name:"keccak",padding:C,bits:N,createMethod:H},{name:"sha3",padding:R,bits:N,createMethod:H},{name:"shake",padding:v,bits:U,createMethod:A},{name:"cshake",padding:S,bits:U,createMethod:y},{name:"kmac",padding:S,bits:U,createMethod:x}],$={},ee=[],W=0;W<E.length;++W)for(var le=E[W],Q=le.bits,T=0;T<Q.length;++T){var se=le.name+"_"+Q[T];if(ee.push(se),$[se]=le.createMethod(Q[T],le.padding),le.name!=="sha3"){var ie=le.name+Q[T];ee.push(ie),$[ie]=$[se]}}function ue(O,Ae,Pe){this.blocks=[],this.s=[],this.padding=Ae,this.outputBits=Pe,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(O<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Pe>>5,this.extraBytes=(Pe&31)>>3;for(var ge=0;ge<50;++ge)this.s[ge]=0}ue.prototype.update=function(O){if(this.finalized)throw new Error(t);var Ae,Pe=typeof O;if(Pe!=="string"){if(Pe==="object"){if(O===null)throw new Error(e);if(p&&O.constructor===ArrayBuffer)O=new Uint8Array(O);else if(!Array.isArray(O)&&(!p||!ArrayBuffer.isView(O)))throw new Error(e)}else throw new Error(e);Ae=!0}for(var ge=this.blocks,be=this.byteCount,L=O.length,J=this.blockCount,ce=0,Ne=this.s,de,xe;ce<L;){if(this.reset)for(this.reset=!1,ge[0]=this.block,de=1;de<J+1;++de)ge[de]=0;if(Ae)for(de=this.start;ce<L&&de<be;++ce)ge[de>>2]|=O[ce]<<B[de++&3];else for(de=this.start;ce<L&&de<be;++ce)xe=O.charCodeAt(ce),xe<128?ge[de>>2]|=xe<<B[de++&3]:xe<2048?(ge[de>>2]|=(192|xe>>6)<<B[de++&3],ge[de>>2]|=(128|xe&63)<<B[de++&3]):xe<55296||xe>=57344?(ge[de>>2]|=(224|xe>>12)<<B[de++&3],ge[de>>2]|=(128|xe>>6&63)<<B[de++&3],ge[de>>2]|=(128|xe&63)<<B[de++&3]):(xe=65536+((xe&1023)<<10|O.charCodeAt(++ce)&1023),ge[de>>2]|=(240|xe>>18)<<B[de++&3],ge[de>>2]|=(128|xe>>12&63)<<B[de++&3],ge[de>>2]|=(128|xe>>6&63)<<B[de++&3],ge[de>>2]|=(128|xe&63)<<B[de++&3]);if(this.lastByteIndex=de,de>=be){for(this.start=de-be,this.block=ge[J],de=0;de<J;++de)Ne[de]^=ge[de];me(Ne),this.reset=!0}else this.start=de}return this},ue.prototype.encode=function(O,Ae){var Pe=O&255,ge=1,be=[Pe];for(O=O>>8,Pe=O&255;Pe>0;)be.unshift(Pe),O=O>>8,Pe=O&255,++ge;return Ae?be.push(ge):be.unshift(ge),this.update(be),be.length},ue.prototype.encodeString=function(O){var Ae,Pe=typeof O;if(Pe!=="string"){if(Pe==="object"){if(O===null)throw new Error(e);if(p&&O.constructor===ArrayBuffer)O=new Uint8Array(O);else if(!Array.isArray(O)&&(!p||!ArrayBuffer.isView(O)))throw new Error(e)}else throw new Error(e);Ae=!0}var ge=0,be=O.length;if(Ae)ge=be;else for(var L=0;L<O.length;++L){var J=O.charCodeAt(L);J<128?ge+=1:J<2048?ge+=2:J<55296||J>=57344?ge+=3:(J=65536+((J&1023)<<10|O.charCodeAt(++L)&1023),ge+=4)}return ge+=this.encode(ge*8),this.update(O),ge},ue.prototype.bytepad=function(O,Ae){for(var Pe=this.encode(Ae),ge=0;ge<O.length;++ge)Pe+=this.encodeString(O[ge]);var be=Ae-Pe%Ae,L=[];return L.length=be,this.update(L),this},ue.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var O=this.blocks,Ae=this.lastByteIndex,Pe=this.blockCount,ge=this.s;if(O[Ae>>2]|=this.padding[Ae&3],this.lastByteIndex===this.byteCount)for(O[0]=O[Pe],Ae=1;Ae<Pe+1;++Ae)O[Ae]=0;for(O[Pe-1]|=2147483648,Ae=0;Ae<Pe;++Ae)ge[Ae]^=O[Ae];me(ge)}},ue.prototype.toString=ue.prototype.hex=function(){this.finalize();for(var O=this.blockCount,Ae=this.s,Pe=this.outputBlocks,ge=this.extraBytes,be=0,L=0,J="",ce;L<Pe;){for(be=0;be<O&&L<Pe;++be,++L)ce=Ae[be],J+=f[ce>>4&15]+f[ce&15]+f[ce>>12&15]+f[ce>>8&15]+f[ce>>20&15]+f[ce>>16&15]+f[ce>>28&15]+f[ce>>24&15];L%O===0&&(me(Ae),be=0)}return ge&&(ce=Ae[be],J+=f[ce>>4&15]+f[ce&15],ge>1&&(J+=f[ce>>12&15]+f[ce>>8&15]),ge>2&&(J+=f[ce>>20&15]+f[ce>>16&15])),J},ue.prototype.arrayBuffer=function(){this.finalize();var O=this.blockCount,Ae=this.s,Pe=this.outputBlocks,ge=this.extraBytes,be=0,L=0,J=this.outputBits>>3,ce;ge?ce=new ArrayBuffer(Pe+1<<2):ce=new ArrayBuffer(J);for(var Ne=new Uint32Array(ce);L<Pe;){for(be=0;be<O&&L<Pe;++be,++L)Ne[L]=Ae[be];L%O===0&&me(Ae)}return ge&&(Ne[be]=Ae[be],ce=ce.slice(0,J)),ce},ue.prototype.buffer=ue.prototype.arrayBuffer,ue.prototype.digest=ue.prototype.array=function(){this.finalize();for(var O=this.blockCount,Ae=this.s,Pe=this.outputBlocks,ge=this.extraBytes,be=0,L=0,J=[],ce,Ne;L<Pe;){for(be=0;be<O&&L<Pe;++be,++L)ce=L<<2,Ne=Ae[be],J[ce]=Ne&255,J[ce+1]=Ne>>8&255,J[ce+2]=Ne>>16&255,J[ce+3]=Ne>>24&255;L%O===0&&me(Ae)}return ge&&(ce=L<<2,Ne=Ae[be],J[ce]=Ne&255,ge>1&&(J[ce+1]=Ne>>8&255),ge>2&&(J[ce+2]=Ne>>16&255)),J};function _e(O,Ae,Pe){ue.call(this,O,Ae,Pe)}_e.prototype=new ue,_e.prototype.finalize=function(){return this.encode(this.outputBits,!0),ue.prototype.finalize.call(this)};var me=function(O){var Ae,Pe,ge,be,L,J,ce,Ne,de,xe,Ve,we,ke,Me,Se,Be,Xe,We,lt,_t,Nt,z,_,I,ae,ve,Re,Fe,gt,pt,ot,At,Et,Qt,An,Xt,Vt,Rn,un,hn,Hr,jn,En,Gr,qn,an,li,F,Y,X,b,te,De,Te,ze,ct,kt,wt,on,bt,Ot,Lt,zt;for(ge=0;ge<48;ge+=2)be=O[0]^O[10]^O[20]^O[30]^O[40],L=O[1]^O[11]^O[21]^O[31]^O[41],J=O[2]^O[12]^O[22]^O[32]^O[42],ce=O[3]^O[13]^O[23]^O[33]^O[43],Ne=O[4]^O[14]^O[24]^O[34]^O[44],de=O[5]^O[15]^O[25]^O[35]^O[45],xe=O[6]^O[16]^O[26]^O[36]^O[46],Ve=O[7]^O[17]^O[27]^O[37]^O[47],we=O[8]^O[18]^O[28]^O[38]^O[48],ke=O[9]^O[19]^O[29]^O[39]^O[49],Ae=we^(J<<1|ce>>>31),Pe=ke^(ce<<1|J>>>31),O[0]^=Ae,O[1]^=Pe,O[10]^=Ae,O[11]^=Pe,O[20]^=Ae,O[21]^=Pe,O[30]^=Ae,O[31]^=Pe,O[40]^=Ae,O[41]^=Pe,Ae=be^(Ne<<1|de>>>31),Pe=L^(de<<1|Ne>>>31),O[2]^=Ae,O[3]^=Pe,O[12]^=Ae,O[13]^=Pe,O[22]^=Ae,O[23]^=Pe,O[32]^=Ae,O[33]^=Pe,O[42]^=Ae,O[43]^=Pe,Ae=J^(xe<<1|Ve>>>31),Pe=ce^(Ve<<1|xe>>>31),O[4]^=Ae,O[5]^=Pe,O[14]^=Ae,O[15]^=Pe,O[24]^=Ae,O[25]^=Pe,O[34]^=Ae,O[35]^=Pe,O[44]^=Ae,O[45]^=Pe,Ae=Ne^(we<<1|ke>>>31),Pe=de^(ke<<1|we>>>31),O[6]^=Ae,O[7]^=Pe,O[16]^=Ae,O[17]^=Pe,O[26]^=Ae,O[27]^=Pe,O[36]^=Ae,O[37]^=Pe,O[46]^=Ae,O[47]^=Pe,Ae=xe^(be<<1|L>>>31),Pe=Ve^(L<<1|be>>>31),O[8]^=Ae,O[9]^=Pe,O[18]^=Ae,O[19]^=Pe,O[28]^=Ae,O[29]^=Pe,O[38]^=Ae,O[39]^=Pe,O[48]^=Ae,O[49]^=Pe,Me=O[0],Se=O[1],an=O[11]<<4|O[10]>>>28,li=O[10]<<4|O[11]>>>28,Fe=O[20]<<3|O[21]>>>29,gt=O[21]<<3|O[20]>>>29,bt=O[31]<<9|O[30]>>>23,Ot=O[30]<<9|O[31]>>>23,jn=O[40]<<18|O[41]>>>14,En=O[41]<<18|O[40]>>>14,Qt=O[2]<<1|O[3]>>>31,An=O[3]<<1|O[2]>>>31,Be=O[13]<<12|O[12]>>>20,Xe=O[12]<<12|O[13]>>>20,F=O[22]<<10|O[23]>>>22,Y=O[23]<<10|O[22]>>>22,pt=O[33]<<13|O[32]>>>19,ot=O[32]<<13|O[33]>>>19,Lt=O[42]<<2|O[43]>>>30,zt=O[43]<<2|O[42]>>>30,Te=O[5]<<30|O[4]>>>2,ze=O[4]<<30|O[5]>>>2,Xt=O[14]<<6|O[15]>>>26,Vt=O[15]<<6|O[14]>>>26,We=O[25]<<11|O[24]>>>21,lt=O[24]<<11|O[25]>>>21,X=O[34]<<15|O[35]>>>17,b=O[35]<<15|O[34]>>>17,At=O[45]<<29|O[44]>>>3,Et=O[44]<<29|O[45]>>>3,I=O[6]<<28|O[7]>>>4,ae=O[7]<<28|O[6]>>>4,ct=O[17]<<23|O[16]>>>9,kt=O[16]<<23|O[17]>>>9,Rn=O[26]<<25|O[27]>>>7,un=O[27]<<25|O[26]>>>7,_t=O[36]<<21|O[37]>>>11,Nt=O[37]<<21|O[36]>>>11,te=O[47]<<24|O[46]>>>8,De=O[46]<<24|O[47]>>>8,Gr=O[8]<<27|O[9]>>>5,qn=O[9]<<27|O[8]>>>5,ve=O[18]<<20|O[19]>>>12,Re=O[19]<<20|O[18]>>>12,wt=O[29]<<7|O[28]>>>25,on=O[28]<<7|O[29]>>>25,hn=O[38]<<8|O[39]>>>24,Hr=O[39]<<8|O[38]>>>24,z=O[48]<<14|O[49]>>>18,_=O[49]<<14|O[48]>>>18,O[0]=Me^~Be&We,O[1]=Se^~Xe&lt,O[10]=I^~ve&Fe,O[11]=ae^~Re&gt,O[20]=Qt^~Xt&Rn,O[21]=An^~Vt&un,O[30]=Gr^~an&F,O[31]=qn^~li&Y,O[40]=Te^~ct&wt,O[41]=ze^~kt&on,O[2]=Be^~We&_t,O[3]=Xe^~lt&Nt,O[12]=ve^~Fe&pt,O[13]=Re^~gt&ot,O[22]=Xt^~Rn&hn,O[23]=Vt^~un&Hr,O[32]=an^~F&X,O[33]=li^~Y&b,O[42]=ct^~wt&bt,O[43]=kt^~on&Ot,O[4]=We^~_t&z,O[5]=lt^~Nt&_,O[14]=Fe^~pt&At,O[15]=gt^~ot&Et,O[24]=Rn^~hn&jn,O[25]=un^~Hr&En,O[34]=F^~X&te,O[35]=Y^~b&De,O[44]=wt^~bt&Lt,O[45]=on^~Ot&zt,O[6]=_t^~z&Me,O[7]=Nt^~_&Se,O[16]=pt^~At&I,O[17]=ot^~Et&ae,O[26]=hn^~jn&Qt,O[27]=Hr^~En&An,O[36]=X^~te&Gr,O[37]=b^~De&qn,O[46]=bt^~Lt&Te,O[47]=Ot^~zt&ze,O[8]=z^~Me&Be,O[9]=_^~Se&Xe,O[18]=At^~I&ve,O[19]=Et^~ae&Re,O[28]=jn^~Qt&Xt,O[29]=En^~An&Vt,O[38]=te^~Gr&an,O[39]=De^~qn&li,O[48]=Lt^~Te&ct,O[49]=zt^~ze&kt,O[0]^=re[ge],O[1]^=re[ge+1]};if(h)n.exports=$;else for(W=0;W<ee.length;++W)s[ee[W]]=$[ee[W]]})()})(Bx)),Bx.exports}var XH=QH(),Ux={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _S=function(n,e){return _S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)r.hasOwnProperty(s)&&(t[s]=r[s])},_S(n,e)};function ZH(n,e){_S(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var AS=function(){return AS=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},AS.apply(this,arguments)};function eG(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function tG(n,e,t,r){var s=arguments.length,o=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var h=n.length-1;h>=0;h--)(l=n[h])&&(o=(s<3?l(o):s>3?l(e,t,o):l(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o}function nG(n,e){return function(t,r){e(t,r,n)}}function rG(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function iG(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function h(v){try{f(r.next(v))}catch(S){l(S)}}function p(v){try{f(r.throw(v))}catch(S){l(S)}}function f(v){v.done?o(v.value):s(v.value).then(h,p)}f((r=r.apply(n,e||[])).next())})}function sG(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,l;return l={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function h(f){return function(v){return p([f,v])}}function p(f){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,s&&(o=f[0]&2?s.return:f[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,f[1])).done)return o;switch(s=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,s=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){t.label=f[1];break}if(f[0]===6&&t.label<o[1]){t.label=o[1],o=f;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(f);break}o[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(n,t)}catch(v){f=[6,v],s=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function aG(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}function oG(n,e){for(var t in n)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function TS(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function VR(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),s,o=[],l;try{for(;(e===void 0||e-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(h){l={error:h}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(l)throw l.error}}return o}function cG(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(VR(arguments[e]));return n}function lG(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),s=0,e=0;e<t;e++)for(var o=arguments[e],l=0,h=o.length;l<h;l++,s++)r[s]=o[l];return r}function np(n){return this instanceof np?(this.v=n,this):new np(n)}function uG(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),s,o=[];return s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s;function l(C){r[C]&&(s[C]=function(R){return new Promise(function(B,re){o.push([C,R,B,re])>1||h(C,R)})})}function h(C,R){try{p(r[C](R))}catch(B){S(o[0][3],B)}}function p(C){C.value instanceof np?Promise.resolve(C.value.v).then(f,v):S(o[0][2],C)}function f(C){h("next",C)}function v(C){h("throw",C)}function S(C,R){C(R),o.shift(),o.length&&h(o[0][0],o[0][1])}}function hG(n){var e,t;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,o){e[s]=n[s]?function(l){return(t=!t)?{value:np(n[s](l)),done:s==="return"}:o?o(l):l}:o}}function dG(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof TS=="function"?TS(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(l){return new Promise(function(h,p){l=n[o](l),s(h,p,l.done,l.value)})}}function s(o,l,h,p){Promise.resolve(p).then(function(f){o({value:f,done:h})},l)}}function fG(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function mG(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function pG(n){return n&&n.__esModule?n:{default:n}}function gG(n,e){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return e.get(n)}function yG(n,e,t){if(!e.has(n))throw new TypeError("attempted to set private field on non-instance");return e.set(n,t),t}const wG=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return AS},__asyncDelegator:hG,__asyncGenerator:uG,__asyncValues:dG,__await:np,__awaiter:iG,__classPrivateFieldGet:gG,__classPrivateFieldSet:yG,__createBinding:aG,__decorate:tG,__exportStar:oG,__extends:ZH,__generator:sG,__importDefault:pG,__importStar:mG,__makeTemplateObject:fG,__metadata:rG,__param:nG,__read:VR,__rest:eG,__spread:cG,__spreadArrays:lG,__values:TS},Symbol.toStringTag,{value:"Module"})),vG=r4(wG);var Pa={},C6;function xG(){if(C6)return Pa;C6=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.isBrowserCryptoAvailable=Pa.getSubtleCrypto=Pa.getBrowerCrypto=void 0;function n(){return Va?.crypto||Va?.msCrypto||{}}Pa.getBrowerCrypto=n;function e(){const r=n();return r.subtle||r.webkitSubtle}Pa.getSubtleCrypto=e;function t(){return!!n()&&!!e()}return Pa.isBrowserCryptoAvailable=t,Pa}var ja={},R6;function SG(){if(R6)return ja;R6=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.isBrowser=ja.isNode=ja.isReactNative=void 0;function n(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}ja.isReactNative=n;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}ja.isNode=e;function t(){return!n()&&!e()}return ja.isBrowser=t,ja}var N6;function EG(){return N6||(N6=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0});const e=vG;e.__exportStar(xG(),n),e.__exportStar(SG(),n)})(Ux)),Ux}var bp=EG();function bG(n=3){const e=Date.now()*Math.pow(10,n),t=Math.floor(Math.random()*Math.pow(10,n));return e+t}function Xg(n){return PR(n)}function _G(n){return $H(Ld(n))}const AG=bG;function Lx(){return((e,t)=>{for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t})()}function TG(n){return n===""||typeof n=="string"&&n.trim()===""}function kG(n){return!(n&&n.length)}function BR(n,e){return UH(n)}function IG(n){return typeof n.method<"u"}function Qf(n){return typeof n.result<"u"}function ry(n){return typeof n.error<"u"}function D6(n){return typeof n.event<"u"}function CG(n){return kH.includes(n)||n.startsWith("wc_")}function RG(n){return n.method.startsWith("wc_")?!0:!RR.includes(n.method)}function NG(n){n=Tc(n.toLowerCase());const e=Tc(XH.keccak_256(WH(n)));let t="";for(let r=0;r<n.length;r++)parseInt(e[r],16)>7?t+=n[r].toUpperCase():t+=n[r];return Ld(t)}const DG=n=>n?n.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(n)?/^(0x)?[0-9a-f]{40}$/.test(n)||/^(0x)?[0-9A-F]{40}$/.test(n)?!0:n===NG(n):!1:!1;function M6(n){return!kG(n)&&!BR(n[0])&&(n[0]=YH(n[0])),n}function zx(n){if(typeof n.type<"u"&&n.type!=="0")return n;if(typeof n.from>"u"||!DG(n.from))throw new Error("Transaction object must include a valid 'from' value.");function e(s){let o=s;return(typeof s=="number"||typeof s=="string"&&!TG(s))&&(BR(s)?typeof s=="string"&&(o=Xg(s)):o=jR(s)),typeof o=="string"&&(o=_G(o)),o}const t={from:Xg(n.from),to:typeof n.to>"u"?void 0:Xg(n.to),gasPrice:typeof n.gasPrice>"u"?"":e(n.gasPrice),gas:typeof n.gas>"u"?typeof n.gasLimit>"u"?"":e(n.gasLimit):e(n.gas),value:typeof n.value>"u"?"":e(n.value),nonce:typeof n.nonce>"u"?"":e(n.nonce),data:typeof n.data>"u"?"":Xg(n.data)||"0x"},r=["gasPrice","gas","value","nonce"];return Object.keys(t).forEach(s=>{(typeof t[s]>"u"||typeof t[s]=="string"&&!t[s].trim().length)&&r.includes(s)&&delete t[s]}),t}function MG(n){const e=n.message||"Failed or Rejected Request";let t=-32e3;if(n&&!n.code)switch(e){case"Parse error":t=-32700;break;case"Invalid request":t=-32600;break;case"Method not found":t=-32601;break;case"Invalid params":t=-32602;break;case"Internal error":t=-32603;break;default:t=-32e3;break}const r={code:t,message:e};return n.data&&(r.data=n.data),r}var qx={},$x,F6;function FG(){return F6||(F6=1,$x=n=>encodeURIComponent(n).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),$x}var Hx,O6;function OG(){if(O6)return Hx;O6=1;var n="%[a-f0-9]{2}",e=new RegExp("("+n+")|([^%]+?)","gi"),t=new RegExp("("+n+")+","gi");function r(l,h){try{return[decodeURIComponent(l.join(""))]}catch{}if(l.length===1)return l;h=h||1;var p=l.slice(0,h),f=l.slice(h);return Array.prototype.concat.call([],r(p),r(f))}function s(l){try{return decodeURIComponent(l)}catch{for(var h=l.match(e)||[],p=1;p<h.length;p++)l=r(h,p).join(""),h=l.match(e)||[];return l}}function o(l){for(var h={"%FE%FF":"","%FF%FE":""},p=t.exec(l);p;){try{h[p[0]]=decodeURIComponent(p[0])}catch{var f=s(p[0]);f!==p[0]&&(h[p[0]]=f)}p=t.exec(l)}h["%C2"]="";for(var v=Object.keys(h),S=0;S<v.length;S++){var C=v[S];l=l.replace(new RegExp(C,"g"),h[C])}return l}return Hx=function(l){if(typeof l!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof l+"`");try{return l=l.replace(/\+/g," "),decodeURIComponent(l)}catch{return o(l)}},Hx}var Gx,P6;function PG(){return P6||(P6=1,Gx=(n,e)=>{if(!(typeof n=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[n];const t=n.indexOf(e);return t===-1?[n]:[n.slice(0,t),n.slice(t+e.length)]}),Gx}var j6;function jG(){return j6||(j6=1,(function(n){const e=FG(),t=OG(),r=PG(),s=N=>N==null;function o(N){switch(N.arrayFormat){case"index":return U=>(q,G)=>{const he=q.length;return G===void 0||N.skipNull&&G===null||N.skipEmptyString&&G===""?q:G===null?[...q,[p(U,N),"[",he,"]"].join("")]:[...q,[p(U,N),"[",p(he,N),"]=",p(G,N)].join("")]};case"bracket":return U=>(q,G)=>G===void 0||N.skipNull&&G===null||N.skipEmptyString&&G===""?q:G===null?[...q,[p(U,N),"[]"].join("")]:[...q,[p(U,N),"[]=",p(G,N)].join("")];case"comma":case"separator":return U=>(q,G)=>G==null||G.length===0?q:q.length===0?[[p(U,N),"=",p(G,N)].join("")]:[[q,p(G,N)].join(N.arrayFormatSeparator)];default:return U=>(q,G)=>G===void 0||N.skipNull&&G===null||N.skipEmptyString&&G===""?q:G===null?[...q,p(U,N)]:[...q,[p(U,N),"=",p(G,N)].join("")]}}function l(N){let U;switch(N.arrayFormat){case"index":return(q,G,he)=>{if(U=/\[(\d*)\]$/.exec(q),q=q.replace(/\[\d*\]$/,""),!U){he[q]=G;return}he[q]===void 0&&(he[q]={}),he[q][U[1]]=G};case"bracket":return(q,G,he)=>{if(U=/(\[\])$/.exec(q),q=q.replace(/\[\]$/,""),!U){he[q]=G;return}if(he[q]===void 0){he[q]=[G];return}he[q]=[].concat(he[q],G)};case"comma":case"separator":return(q,G,he)=>{const K=typeof G=="string"&&G.split("").indexOf(N.arrayFormatSeparator)>-1?G.split(N.arrayFormatSeparator).map(P=>f(P,N)):G===null?G:f(G,N);he[q]=K};default:return(q,G,he)=>{if(he[q]===void 0){he[q]=G;return}he[q]=[].concat(he[q],G)}}}function h(N){if(typeof N!="string"||N.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function p(N,U){return U.encode?U.strict?e(N):encodeURIComponent(N):N}function f(N,U){return U.decode?t(N):N}function v(N){return Array.isArray(N)?N.sort():typeof N=="object"?v(Object.keys(N)).sort((U,q)=>Number(U)-Number(q)).map(U=>N[U]):N}function S(N){const U=N.indexOf("#");return U!==-1&&(N=N.slice(0,U)),N}function C(N){let U="";const q=N.indexOf("#");return q!==-1&&(U=N.slice(q)),U}function R(N){N=S(N);const U=N.indexOf("?");return U===-1?"":N.slice(U+1)}function B(N,U){return U.parseNumbers&&!Number.isNaN(Number(N))&&typeof N=="string"&&N.trim()!==""?N=Number(N):U.parseBooleans&&N!==null&&(N.toLowerCase()==="true"||N.toLowerCase()==="false")&&(N=N.toLowerCase()==="true"),N}function re(N,U){U=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},U),h(U.arrayFormatSeparator);const q=l(U),G=Object.create(null);if(typeof N!="string"||(N=N.trim().replace(/^[?#&]/,""),!N))return G;for(const he of N.split("&")){let[pe,K]=r(U.decode?he.replace(/\+/g," "):he,"=");K=K===void 0?null:["comma","separator"].includes(U.arrayFormat)?K:f(K,U),q(f(pe,U),K,G)}for(const he of Object.keys(G)){const pe=G[he];if(typeof pe=="object"&&pe!==null)for(const K of Object.keys(pe))pe[K]=B(pe[K],U);else G[he]=B(pe,U)}return U.sort===!1?G:(U.sort===!0?Object.keys(G).sort():Object.keys(G).sort(U.sort)).reduce((he,pe)=>{const K=G[pe];return K&&typeof K=="object"&&!Array.isArray(K)?he[pe]=v(K):he[pe]=K,he},Object.create(null))}n.extract=R,n.parse=re,n.stringify=(N,U)=>{if(!N)return"";U=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},U),h(U.arrayFormatSeparator);const q=K=>U.skipNull&&s(N[K])||U.skipEmptyString&&N[K]==="",G=o(U),he={};for(const K of Object.keys(N))q(K)||(he[K]=N[K]);const pe=Object.keys(he);return U.sort!==!1&&pe.sort(U.sort),pe.map(K=>{const P=N[K];return P===void 0?"":P===null?p(K,U):Array.isArray(P)?P.reduce(G(K),[]).join("&"):p(K,U)+"="+p(P,U)}).filter(K=>K.length>0).join("&")},n.parseUrl=(N,U)=>{U=Object.assign({decode:!0},U);const[q,G]=r(N,"#");return Object.assign({url:q.split("?")[0]||"",query:re(R(N),U)},U&&U.parseFragmentIdentifier&&G?{fragmentIdentifier:f(G,U)}:{})},n.stringifyUrl=(N,U)=>{U=Object.assign({encode:!0,strict:!0},U);const q=S(N.url).split("?")[0]||"",G=n.extract(N.url),he=n.parse(G,{sort:!1}),pe=Object.assign(he,N.query);let K=n.stringify(pe,U);K&&(K=`?${K}`);let P=C(N.url);return N.fragmentIdentifier&&(P=`#${p(N.fragmentIdentifier,U)}`),`${q}${K}${P}`}})(qx)),qx}var UR=jG();function VG(n){const e=n.indexOf("?")!==-1?n.indexOf("?"):void 0;return typeof e<"u"?n.substr(e):""}function BG(n,e){let t=LR(n);return t=Object.assign(Object.assign({},t),e),n=UG(t),n}function LR(n){return UR.parse(n)}function UG(n){return UR.stringify(n)}function LG(n){return typeof n.bridge<"u"}function zG(n){const e=n.indexOf(":"),t=n.indexOf("?")!==-1?n.indexOf("?"):void 0,r=n.substring(0,e),s=n.substring(e+1,t);function o(S){const R=S.split("@");return{handshakeTopic:R[0],version:parseInt(R[1],10)}}const l=o(s),h=typeof t<"u"?n.substr(t):"";function p(S){const C=LR(S);return{key:C.key||"",bridge:C.bridge||""}}const f=p(h);return Object.assign(Object.assign({protocol:r},l),f)}class qG{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(e,t){this._eventEmitters.push({event:e,callback:t})}trigger(e){let t=[];e&&(t=this._eventEmitters.filter(r=>r.event===e)),t.forEach(r=>{r.callback()})}}const $G=typeof global.WebSocket<"u"?global.WebSocket:require("ws");class HG{constructor(e){if(this.opts=e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=e.protocol,this._version=e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=e.subscriptions||[],this._netMonitor=e.netMonitor||new qG,!e.url||typeof e.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=e.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(e){}get connecting(){return this.readyState===0}set connected(e){}get connected(){return this.readyState===1}set closing(e){}get closing(){return this.readyState===2}set closed(e){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(e,t,r){if(!t||typeof t!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:t,type:"pub",payload:e,silent:!!r})}subscribe(e){this._socketSend({topic:e,type:"sub",payload:"",silent:!0})}on(e,t){this._events.push({event:e,callback:t})}_socketCreate(){if(this._nextSocket)return;const e=GG(this._url,this._protocol,this._version);if(this._nextSocket=new $G(e),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=t=>this._socketReceive(t),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=t=>this._socketError(t),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(e){const t=JSON.stringify(e);this._socket&&this._socket.readyState===1?this._socket.send(t):(this._setToQueue(e),this._socketCreate())}async _socketReceive(e){let t;try{t=JSON.parse(e.data)}catch{return}if(this._socketSend({topic:t.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const r=this._events.filter(s=>s.event==="message");r&&r.length&&r.forEach(s=>s.callback(t))}}_socketError(e){const t=this._events.filter(r=>r.event==="error");t&&t.length&&t.forEach(r=>r.callback(e))}_queueSubscriptions(){this._subscriptions.forEach(t=>this._queue.push({topic:t,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(e){this._queue.push(e)}_pushQueue(){this._queue.forEach(t=>this._socketSend(t)),this._queue=[]}}function GG(n,e,t){var r,s;const l=(n.startsWith("https")?n.replace("https","wss"):n.startsWith("http")?n.replace("http","ws"):n).split("?"),h=vH()?{protocol:e,version:t,env:"browser",host:((r=SH())===null||r===void 0?void 0:r.host)||""}:{protocol:e,version:t,env:((s=ub())===null||s===void 0?void 0:s.name)||""},p=BG(VG(l[1]||""),h);return l[0]+"?"+p}const Kx="Session currently connected",tl="Session currently disconnected",KG="Session Rejected",WG="Missing JSON RPC response",YG='JSON-RPC success response must include "result" field',JG='JSON-RPC error response must include "error" field',QG='JSON RPC request must have valid "method" value',XG='JSON RPC request must have valid "id" value',ZG="Missing one of the required parameters: bridge / uri / session",V6="JSON RPC response format is invalid",eK="URI format is invalid",tK="QRCode Modal not provided",B6="User close QRCode Modal";class nK{constructor(){this._eventEmitters=[]}subscribe(e){this._eventEmitters.push(e)}unsubscribe(e){this._eventEmitters=this._eventEmitters.filter(t=>t.event!==e)}trigger(e){let t=[],r;IG(e)?r=e.method:Qf(e)||ry(e)?r=`response:${e.id}`:D6(e)?r=e.event:r="",r&&(t=this._eventEmitters.filter(s=>s.event===r)),(!t||!t.length)&&!CG(r)&&!D6(r)&&(t=this._eventEmitters.filter(s=>s.event==="call_request")),t.forEach(s=>{if(ry(e)){const o=new Error(e.error.message);s.callback(o,null)}else s.callback(null,e)})}}class rK{constructor(e="walletconnect"){this.storageId=e}getSession(){let e=null;const t=IR(this.storageId);return t&&LG(t)&&(e=t),e}setSession(e){return TH(this.storageId,e),e}removeSession(){CR(this.storageId)}}const iK="walletconnect.org",sK="abcdefghijklmnopqrstuvwxyz0123456789",zR=sK.split("").map(n=>`https://${n}.bridge.walletconnect.org`);function aK(n){let e=n.indexOf("//")>-1?n.split("/")[2]:n.split("/")[0];return e=e.split(":")[0],e=e.split("?")[0],e}function oK(n){return aK(n).split(".").slice(-2).join(".")}function cK(){return Math.floor(Math.random()*zR.length)}function lK(){return zR[cK()]}function uK(n){return oK(n)===iK}function hK(n){return uK(n)?lK():n}class dK{constructor(e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new nK,this._clientMeta=b6()||e.connectorOpts.clientMeta||null,this._cryptoLib=e.cryptoLib,this._sessionStorage=e.sessionStorage||new rK(e.connectorOpts.storageId),this._qrcodeModal=e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...RR,...e.connectorOpts.signingMethods||[]],!e.connectorOpts.bridge&&!e.connectorOpts.uri&&!e.connectorOpts.session)throw new Error(ZG);e.connectorOpts.bridge&&(this.bridge=hK(e.connectorOpts.bridge)),e.connectorOpts.uri&&(this.uri=e.connectorOpts.uri);const t=e.connectorOpts.session||this._getStorageSession();t&&(this.session=t),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=e.transport||new HG({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),e.connectorOpts.uri&&this._subscribeToSessionRequest(),e.pushServerOpts&&this._registerPushServer(e.pushServerOpts)}set bridge(e){e&&(this._bridge=e)}get bridge(){return this._bridge}set key(e){if(!e)return;const t=JH(e);this._key=t}get key(){return this._key?GH(this._key):""}set clientId(e){e&&(this._clientId=e)}get clientId(){let e=this._clientId;return e||(e=this._clientId=Lx()),this._clientId}set peerId(e){e&&(this._peerId=e)}get peerId(){return this._peerId}set clientMeta(e){}get clientMeta(){let e=this._clientMeta;return e||(e=this._clientMeta=b6()),e}set peerMeta(e){this._peerMeta=e}get peerMeta(){return this._peerMeta}set handshakeTopic(e){e&&(this._handshakeTopic=e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(e){e&&(this._handshakeId=e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(e){if(!e)return;const{handshakeTopic:t,bridge:r,key:s}=this._parseUri(e);this.handshakeTopic=t,this.bridge=r,this.key=s}set chainId(e){this._chainId=e}get chainId(){return this._chainId}set networkId(e){this._networkId=e}get networkId(){return this._networkId}set accounts(e){this._accounts=e}get accounts(){return this._accounts}set rpcUrl(e){this._rpcUrl=e}get rpcUrl(){return this._rpcUrl}set connected(e){}get connected(){return this._connected}set pending(e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(e){e&&(this._connected=e.connected,this.accounts=e.accounts,this.chainId=e.chainId,this.bridge=e.bridge,this.key=e.key,this.clientId=e.clientId,this.clientMeta=e.clientMeta,this.peerId=e.peerId,this.peerMeta=e.peerMeta,this.handshakeId=e.handshakeId,this.handshakeTopic=e.handshakeTopic)}on(e,t){const r={event:e,callback:t};this._eventManager.subscribe(r)}off(e){this._eventManager.unsubscribe(e)}async createInstantRequest(e){this._key=await this._generateKey();const t=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(e)}]});this.handshakeId=t.id,this.handshakeTopic=Lx(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(B6)});const r=()=>{this.killSession()};try{const s=await this._sendCallRequest(t);return s&&r(),s}catch(s){throw r(),s}}async connect(e){if(!this._qrcodeModal)throw new Error(tK);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(e),new Promise(async(t,r)=>{this.on("modal_closed",()=>r(new Error(B6))),this.on("connect",(s,o)=>{if(s)return r(s);t(o.params[0])})}))}async createSession(e){if(this._connected)throw new Error(Kx);if(this.pending)return;this._key=await this._generateKey();const t=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:e&&e.chainId?e.chainId:null}]});this.handshakeId=t.id,this.handshakeTopic=Lx(),this._sendSessionRequest(t,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(e){if(this._connected)throw new Error(Kx);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const t={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},r={id:this.handshakeId,jsonrpc:"2.0",result:t};this._sendResponse(r),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(e){if(this._connected)throw new Error(Kx);const t=e&&e.message?e.message:KG,r=this._formatResponse({id:this.handshakeId,error:{message:t}});this._sendResponse(r),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:t}]}),this._removeStorageSession()}updateSession(e){if(!this._connected)throw new Error(tl);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const t={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},r=this._formatRequest({method:"wc_sessionUpdate",params:[t]});this._sendSessionRequest(r,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(e){const t=e?e.message:"Session Disconnected",r={approved:!1,chainId:null,networkId:null,accounts:null},s=this._formatRequest({method:"wc_sessionUpdate",params:[r]});await this._sendRequest(s),this._handleSessionDisconnect(t)}async sendTransaction(e){if(!this._connected)throw new Error(tl);const t=zx(e),r=this._formatRequest({method:"eth_sendTransaction",params:[t]});return await this._sendCallRequest(r)}async signTransaction(e){if(!this._connected)throw new Error(tl);const t=zx(e),r=this._formatRequest({method:"eth_signTransaction",params:[t]});return await this._sendCallRequest(r)}async signMessage(e){if(!this._connected)throw new Error(tl);const t=this._formatRequest({method:"eth_sign",params:e});return await this._sendCallRequest(t)}async signPersonalMessage(e){if(!this._connected)throw new Error(tl);e=M6(e);const t=this._formatRequest({method:"personal_sign",params:e});return await this._sendCallRequest(t)}async signTypedData(e){if(!this._connected)throw new Error(tl);const t=this._formatRequest({method:"eth_signTypedData",params:e});return await this._sendCallRequest(t)}async updateChain(e){if(!this._connected)throw new Error("Session currently disconnected");const t=this._formatRequest({method:"wallet_updateChain",params:[e]});return await this._sendCallRequest(t)}unsafeSend(e,t){return this._sendRequest(e,t),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:t}]}),new Promise((r,s)=>{this._subscribeToResponse(e.id,(o,l)=>{if(o){s(o);return}if(!l)throw new Error(WG);r(l)})})}async sendCustomRequest(e,t){if(!this._connected)throw new Error(tl);switch(e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return jR(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":e.params&&(e.params[0]=zx(e.params[0]));break;case"personal_sign":e.params&&(e.params=M6(e.params));break}const r=this._formatRequest(e);return await this._sendCallRequest(r,t)}approveRequest(e){if(Qf(e)){const t=this._formatResponse(e);this._sendResponse(t)}else throw new Error(YG)}rejectRequest(e){if(ry(e)){const t=this._formatResponse(e);this._sendResponse(t)}else throw new Error(JG)}transportClose(){this._transport.close()}async _sendRequest(e,t){const r=this._formatRequest(e),s=await this._encrypt(r),o=typeof t?.topic<"u"?t.topic:this.peerId,l=JSON.stringify(s),h=typeof t?.forcePushNotification<"u"?!t.forcePushNotification:RG(r);this._transport.send(l,o,h)}async _sendResponse(e){const t=await this._encrypt(e),r=this.peerId,s=JSON.stringify(t);this._transport.send(s,r,!0)}async _sendSessionRequest(e,t,r){this._sendRequest(e,r),this._subscribeToSessionResponse(e.id,t)}_sendCallRequest(e,t){return this._sendRequest(e,t),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:t}]}),this._subscribeToCallResponse(e.id)}_formatRequest(e){if(typeof e.method>"u")throw new Error(QG);return{id:typeof e.id>"u"?AG():e.id,jsonrpc:"2.0",method:e.method,params:typeof e.params>"u"?[]:e.params}}_formatResponse(e){if(typeof e.id>"u")throw new Error(XG);const t={id:e.id,jsonrpc:"2.0"};if(ry(e)){const r=MG(e.error);return Object.assign(Object.assign(Object.assign({},t),e),{error:r})}else if(Qf(e))return Object.assign(Object.assign({},t),e);throw new Error(V6)}_handleSessionDisconnect(e){const t=e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),CR(_6)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:t}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(e,t){t?t.approved?(this._connected?(t.chainId&&(this.chainId=t.chainId),t.accounts&&(this.accounts=t.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,t.chainId&&(this.chainId=t.chainId),t.accounts&&(this.accounts=t.accounts),t.peerId&&!this.peerId&&(this.peerId=t.peerId),t.peerMeta&&!this.peerMeta&&(this.peerMeta=t.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(e):this._handleSessionDisconnect(e)}async _handleIncomingMessages(e){if(![this.clientId,this.handshakeTopic].includes(e.topic))return;let r;try{r=JSON.parse(e.payload)}catch{return}const s=await this._decrypt(r);s&&this._eventManager.trigger(s)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(e,t){this.on(`response:${e}`,t)}_subscribeToSessionResponse(e,t){this._subscribeToResponse(e,(r,s)=>{if(r){this._handleSessionResponse(r.message);return}Qf(s)?this._handleSessionResponse(t,s.result):s.error&&s.error.message?this._handleSessionResponse(s.error.message):this._handleSessionResponse(t)})}_subscribeToCallResponse(e){return new Promise((t,r)=>{this._subscribeToResponse(e,(s,o)=>{if(s){r(s);return}Qf(o)?t(o.result):o.error&&o.error.message?r(o.error):r(new Error(V6))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(e,t)=>{const{request:r}=t.params[0];if(yH()&&this._signingMethods.includes(r.method)){const s=IR(_6);s&&(window.location.href=s.href)}}),this.on("wc_sessionRequest",(e,t)=>{e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:e.toString()}]}),this.handshakeId=t.id,this.peerId=t.params[0].peerId,this.peerMeta=t.params[0].peerMeta;const r=Object.assign(Object.assign({},t),{method:"session_request"});this._eventManager.trigger(r)}),this.on("wc_sessionUpdate",(e,t)=>{e&&this._handleSessionResponse(e.message),this._handleSessionResponse("Session disconnected",t.params[0])})}_initTransport(){this._transport.on("message",e=>this._handleIncomingMessages(e)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const e=this.protocol,t=this.handshakeTopic,r=this.version,s=encodeURIComponent(this.bridge),o=this.key;return`${e}:${t}@${r}?bridge=${s}&key=${o}`}_parseUri(e){const t=zG(e);if(t.protocol===this.protocol){if(!t.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const r=t.handshakeTopic;if(!t.bridge)throw Error("Invalid or missing bridge url parameter value");const s=decodeURIComponent(t.bridge);if(!t.key)throw Error("Invalid or missing key parameter value");const o=t.key;return{handshakeTopic:r,bridge:s,key:o}}else throw new Error(eK)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(e){const t=this._key;return this._cryptoLib&&t?await this._cryptoLib.encrypt(e,t):null}async _decrypt(e){const t=this._key;return this._cryptoLib&&t?await this._cryptoLib.decrypt(e,t):null}_getStorageSession(){let e=null;return this._sessionStorage&&(e=this._sessionStorage.getSession()),e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(e){if(!e.url||typeof e.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!e.type||typeof e.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!e.token||typeof e.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const t={bridge:this.bridge,topic:this.clientId,type:e.type,token:e.token,peerName:"",language:e.language||""};this.on("connect",async(r,s)=>{if(r)throw r;if(e.peerMeta){const o=s.params[0].peerMeta.name;t.peerName=o}try{if(!(await(await fetch(`${e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function fK(n){return bp.getBrowerCrypto().getRandomValues(new Uint8Array(n))}const qR=256,$R=qR,mK=qR,kc="AES-CBC",pK=`SHA-${$R}`,kS="HMAC",gK="encrypt",yK="decrypt",wK="sign",vK="verify";function xK(n){return n===kc?{length:$R,name:kc}:{hash:{name:pK},name:kS}}function SK(n){return n===kc?[gK,yK]:[wK,vK]}async function mb(n,e=kc){return bp.getSubtleCrypto().importKey("raw",n,xK(e),!0,SK(e))}async function EK(n,e,t){const r=bp.getSubtleCrypto(),s=await mb(e,kc),o=await r.encrypt({iv:n,name:kc},s,t);return new Uint8Array(o)}async function bK(n,e,t){const r=bp.getSubtleCrypto(),s=await mb(e,kc),o=await r.decrypt({iv:n,name:kc},s,t);return new Uint8Array(o)}async function _K(n,e){const t=bp.getSubtleCrypto(),r=await mb(n,kS),s=await t.sign({length:mK,name:kS},r,e);return new Uint8Array(s)}function AK(n,e,t){return EK(n,e,t)}function TK(n,e,t){return bK(n,e,t)}async function HR(n,e){return await _K(n,e)}async function GR(n){const e=(n||256)/8,t=fK(e);return KH(iw(t))}async function KR(n,e){const t=ch(n.data),r=ch(n.iv),s=ch(n.hmac),o=oh(s,!1),l=OR(t,r),h=await HR(e,l),p=oh(h,!1);return Tc(o)===Tc(p)}async function kK(n,e,t){const r=Td(bS(e)),s=t||await GR(128),o=Td(bS(s)),l=oh(o,!1),h=JSON.stringify(n),p=VH(h),f=await AK(o,r,p),v=oh(f,!1),S=OR(f,o),C=await HR(r,S),R=oh(C,!1);return{data:v,hmac:R,iv:l}}async function IK(n,e){const t=Td(bS(e));if(!t)throw new Error("Missing key: required for decryption");if(!await KR(n,t))return null;const s=ch(n.data),o=ch(n.iv),l=await TK(o,t,s),h=PH(l);let p;try{p=JSON.parse(h)}catch{return null}return p}const CK=Object.freeze(Object.defineProperty({__proto__:null,decrypt:IK,encrypt:kK,generateKey:GR,verifyHmac:KR},Symbol.toStringTag,{value:"Module"}));class U6 extends dK{constructor(e,t){super({cryptoLib:CK,connectorOpts:e,pushServerOpts:t})}}const RK={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},WR={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Cr={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Ei={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Lo={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class ht{static getFirstMatch(e,t){const r=t.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,t){const r=t.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,t,r){if(e.test(t))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const t=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(t.push(0),t[0]===10)switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const t=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(t.push(0),!(t[0]===1&&t[1]<5)){if(t[0]===1&&t[1]<6)return"Cupcake";if(t[0]===1&&t[1]>=6)return"Donut";if(t[0]===2&&t[1]<2)return"Eclair";if(t[0]===2&&t[1]===2)return"Froyo";if(t[0]===2&&t[1]>2)return"Gingerbread";if(t[0]===3)return"Honeycomb";if(t[0]===4&&t[1]<1)return"Ice Cream Sandwich";if(t[0]===4&&t[1]<4)return"Jelly Bean";if(t[0]===4&&t[1]>=4)return"KitKat";if(t[0]===5)return"Lollipop";if(t[0]===6)return"Marshmallow";if(t[0]===7)return"Nougat";if(t[0]===8)return"Oreo";if(t[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,t,r=!1){const s=ht.getVersionPrecision(e),o=ht.getVersionPrecision(t);let l=Math.max(s,o),h=0;const p=ht.map([e,t],f=>{const v=l-ht.getVersionPrecision(f),S=f+new Array(v+1).join(".0");return ht.map(S.split("."),C=>new Array(20-C.length).join("0")+C).reverse()});for(r&&(h=l-Math.min(s,o)),l-=1;l>=h;){if(p[0][l]>p[1][l])return 1;if(p[0][l]===p[1][l]){if(l===h)return 0;l-=1}else if(p[0][l]<p[1][l])return-1}}static map(e,t){const r=[];let s;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(s=0;s<e.length;s+=1)r.push(t(e[s]));return r}static find(e,t){let r,s;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,s=e.length;r<s;r+=1){const o=e[r];if(t(o,r))return o}}static assign(e,...t){const r=e;let s,o;if(Object.assign)return Object.assign(e,...t);for(s=0,o=t.length;s<o;s+=1){const l=t[s];typeof l=="object"&&l!==null&&Object.keys(l).forEach(p=>{r[p]=l[p]})}return e}static getBrowserAlias(e){return RK[e]}static getBrowserTypeByAlias(e){return WR[e]||""}}const or=/version\/(\d+(\.?_?\d+)+)/i,NK=[{test:[/googlebot/i],describe(n){const e={name:"Googlebot"},t=ht.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,n)||ht.getFirstMatch(or,n);return t&&(e.version=t),e}},{test:[/opera/i],describe(n){const e={name:"Opera"},t=ht.getFirstMatch(or,n)||ht.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/opr\/|opios/i],describe(n){const e={name:"Opera"},t=ht.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,n)||ht.getFirstMatch(or,n);return t&&(e.version=t),e}},{test:[/SamsungBrowser/i],describe(n){const e={name:"Samsung Internet for Android"},t=ht.getFirstMatch(or,n)||ht.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/Whale/i],describe(n){const e={name:"NAVER Whale Browser"},t=ht.getFirstMatch(or,n)||ht.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/MZBrowser/i],describe(n){const e={name:"MZ Browser"},t=ht.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,n)||ht.getFirstMatch(or,n);return t&&(e.version=t),e}},{test:[/focus/i],describe(n){const e={name:"Focus"},t=ht.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,n)||ht.getFirstMatch(or,n);return t&&(e.version=t),e}},{test:[/swing/i],describe(n){const e={name:"Swing"},t=ht.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,n)||ht.getFirstMatch(or,n);return t&&(e.version=t),e}},{test:[/coast/i],describe(n){const e={name:"Opera Coast"},t=ht.getFirstMatch(or,n)||ht.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(n){const e={name:"Opera Touch"},t=ht.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,n)||ht.getFirstMatch(or,n);return t&&(e.version=t),e}},{test:[/yabrowser/i],describe(n){const e={name:"Yandex Browser"},t=ht.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,n)||ht.getFirstMatch(or,n);return t&&(e.version=t),e}},{test:[/ucbrowser/i],describe(n){const e={name:"UC Browser"},t=ht.getFirstMatch(or,n)||ht.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/Maxthon|mxios/i],describe(n){const e={name:"Maxthon"},t=ht.getFirstMatch(or,n)||ht.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/epiphany/i],describe(n){const e={name:"Epiphany"},t=ht.getFirstMatch(or,n)||ht.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/puffin/i],describe(n){const e={name:"Puffin"},t=ht.getFirstMatch(or,n)||ht.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/sleipnir/i],describe(n){const e={name:"Sleipnir"},t=ht.getFirstMatch(or,n)||ht.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/k-meleon/i],describe(n){const e={name:"K-Meleon"},t=ht.getFirstMatch(or,n)||ht.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/micromessenger/i],describe(n){const e={name:"WeChat"},t=ht.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,n)||ht.getFirstMatch(or,n);return t&&(e.version=t),e}},{test:[/qqbrowser/i],describe(n){const e={name:/qqbrowserlite/i.test(n)?"QQ Browser Lite":"QQ Browser"},t=ht.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,n)||ht.getFirstMatch(or,n);return t&&(e.version=t),e}},{test:[/msie|trident/i],describe(n){const e={name:"Internet Explorer"},t=ht.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/\sedg\//i],describe(n){const e={name:"Microsoft Edge"},t=ht.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/edg([ea]|ios)/i],describe(n){const e={name:"Microsoft Edge"},t=ht.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/vivaldi/i],describe(n){const e={name:"Vivaldi"},t=ht.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/seamonkey/i],describe(n){const e={name:"SeaMonkey"},t=ht.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/sailfish/i],describe(n){const e={name:"Sailfish"},t=ht.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,n);return t&&(e.version=t),e}},{test:[/silk/i],describe(n){const e={name:"Amazon Silk"},t=ht.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/phantom/i],describe(n){const e={name:"PhantomJS"},t=ht.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/slimerjs/i],describe(n){const e={name:"SlimerJS"},t=ht.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(n){const e={name:"BlackBerry"},t=ht.getFirstMatch(or,n)||ht.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/(web|hpw)[o0]s/i],describe(n){const e={name:"WebOS Browser"},t=ht.getFirstMatch(or,n)||ht.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/bada/i],describe(n){const e={name:"Bada"},t=ht.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/tizen/i],describe(n){const e={name:"Tizen"},t=ht.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,n)||ht.getFirstMatch(or,n);return t&&(e.version=t),e}},{test:[/qupzilla/i],describe(n){const e={name:"QupZilla"},t=ht.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,n)||ht.getFirstMatch(or,n);return t&&(e.version=t),e}},{test:[/firefox|iceweasel|fxios/i],describe(n){const e={name:"Firefox"},t=ht.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/electron/i],describe(n){const e={name:"Electron"},t=ht.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/MiuiBrowser/i],describe(n){const e={name:"Miui"},t=ht.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/chromium/i],describe(n){const e={name:"Chromium"},t=ht.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,n)||ht.getFirstMatch(or,n);return t&&(e.version=t),e}},{test:[/chrome|crios|crmo/i],describe(n){const e={name:"Chrome"},t=ht.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/GSA/i],describe(n){const e={name:"Google Search"},t=ht.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test(n){const e=!n.test(/like android/i),t=n.test(/android/i);return e&&t},describe(n){const e={name:"Android Browser"},t=ht.getFirstMatch(or,n);return t&&(e.version=t),e}},{test:[/playstation 4/i],describe(n){const e={name:"PlayStation 4"},t=ht.getFirstMatch(or,n);return t&&(e.version=t),e}},{test:[/safari|applewebkit/i],describe(n){const e={name:"Safari"},t=ht.getFirstMatch(or,n);return t&&(e.version=t),e}},{test:[/.*/i],describe(n){const e=/^(.*)\/(.*) /,t=/^(.*)\/(.*)[ \t]\((.*)/,s=n.search("\\(")!==-1?t:e;return{name:ht.getFirstMatch(s,n),version:ht.getSecondMatch(s,n)}}}],DK=[{test:[/Roku\/DVP/],describe(n){const e=ht.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,n);return{name:Ei.Roku,version:e}}},{test:[/windows phone/i],describe(n){const e=ht.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,n);return{name:Ei.WindowsPhone,version:e}}},{test:[/windows /i],describe(n){const e=ht.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,n),t=ht.getWindowsVersionName(e);return{name:Ei.Windows,version:e,versionName:t}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(n){const e={name:Ei.iOS},t=ht.getSecondMatch(/(Version\/)(\d[\d.]+)/,n);return t&&(e.version=t),e}},{test:[/macintosh/i],describe(n){const e=ht.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,n).replace(/[_\s]/g,"."),t=ht.getMacOSVersionName(e),r={name:Ei.MacOS,version:e};return t&&(r.versionName=t),r}},{test:[/(ipod|iphone|ipad)/i],describe(n){const e=ht.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,n).replace(/[_\s]/g,".");return{name:Ei.iOS,version:e}}},{test(n){const e=!n.test(/like android/i),t=n.test(/android/i);return e&&t},describe(n){const e=ht.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,n),t=ht.getAndroidVersionName(e),r={name:Ei.Android,version:e};return t&&(r.versionName=t),r}},{test:[/(web|hpw)[o0]s/i],describe(n){const e=ht.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,n),t={name:Ei.WebOS};return e&&e.length&&(t.version=e),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(n){const e=ht.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,n)||ht.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,n)||ht.getFirstMatch(/\bbb(\d+)/i,n);return{name:Ei.BlackBerry,version:e}}},{test:[/bada/i],describe(n){const e=ht.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,n);return{name:Ei.Bada,version:e}}},{test:[/tizen/i],describe(n){const e=ht.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,n);return{name:Ei.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:Ei.Linux}}},{test:[/CrOS/],describe(){return{name:Ei.ChromeOS}}},{test:[/PlayStation 4/],describe(n){const e=ht.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,n);return{name:Ei.PlayStation4,version:e}}}],MK=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(n){const e=ht.getFirstMatch(/(can-l01)/i,n)&&"Nova",t={type:Cr.mobile,vendor:"Huawei"};return e&&(t.model=e),t}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:Cr.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:Cr.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:Cr.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:Cr.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:Cr.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:Cr.tablet}}},{test(n){const e=n.test(/ipod|iphone/i),t=n.test(/like (ipod|iphone)/i);return e&&!t},describe(n){const e=ht.getFirstMatch(/(ipod|iphone)/i,n);return{type:Cr.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:Cr.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:Cr.mobile}}},{test(n){return n.getBrowserName(!0)==="blackberry"},describe(){return{type:Cr.mobile,vendor:"BlackBerry"}}},{test(n){return n.getBrowserName(!0)==="bada"},describe(){return{type:Cr.mobile}}},{test(n){return n.getBrowserName()==="windows phone"},describe(){return{type:Cr.mobile,vendor:"Microsoft"}}},{test(n){const e=Number(String(n.getOSVersion()).split(".")[0]);return n.getOSName(!0)==="android"&&e>=3},describe(){return{type:Cr.tablet}}},{test(n){return n.getOSName(!0)==="android"},describe(){return{type:Cr.mobile}}},{test(n){return n.getOSName(!0)==="macos"},describe(){return{type:Cr.desktop,vendor:"Apple"}}},{test(n){return n.getOSName(!0)==="windows"},describe(){return{type:Cr.desktop}}},{test(n){return n.getOSName(!0)==="linux"},describe(){return{type:Cr.desktop}}},{test(n){return n.getOSName(!0)==="playstation 4"},describe(){return{type:Cr.tv}}},{test(n){return n.getOSName(!0)==="roku"},describe(){return{type:Cr.tv}}}],FK=[{test(n){return n.getBrowserName(!0)==="microsoft edge"},describe(n){if(/\sedg\//i.test(n))return{name:Lo.Blink};const t=ht.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,n);return{name:Lo.EdgeHTML,version:t}}},{test:[/trident/i],describe(n){const e={name:Lo.Trident},t=ht.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test(n){return n.test(/presto/i)},describe(n){const e={name:Lo.Presto},t=ht.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test(n){const e=n.test(/gecko/i),t=n.test(/like gecko/i);return e&&!t},describe(n){const e={name:Lo.Gecko},t=ht.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Lo.Blink}}},{test:[/(apple)?webkit/i],describe(n){const e={name:Lo.WebKit},t=ht.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}}];class L6{constructor(e,t=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},t!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=ht.find(NK,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=ht.find(DK,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:t}=this.getOS();return e?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:t}=this.getPlatform();return e?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};const e=ht.find(MK,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=ht.find(FK,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return ht.assign({},this.parsedResult)}satisfies(e){const t={};let r=0;const s={};let o=0;if(Object.keys(e).forEach(h=>{const p=e[h];typeof p=="string"?(s[h]=p,o+=1):typeof p=="object"&&(t[h]=p,r+=1)}),r>0){const h=Object.keys(t),p=ht.find(h,v=>this.isOS(v));if(p){const v=this.satisfies(t[p]);if(v!==void 0)return v}const f=ht.find(h,v=>this.isPlatform(v));if(f){const v=this.satisfies(t[f]);if(v!==void 0)return v}}if(o>0){const h=Object.keys(s),p=ht.find(h,f=>this.isBrowser(f,!0));if(p!==void 0)return this.compareVersion(s[p])}}isBrowser(e,t=!1){const r=this.getBrowserName().toLowerCase();let s=e.toLowerCase();const o=ht.getBrowserTypeByAlias(s);return t&&o&&(s=o.toLowerCase()),s===r}compareVersion(e){let t=[0],r=e,s=!1;const o=this.getBrowserVersion();if(typeof o=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(s=!0,r=e.substr(2)):t=[],e[0]===">"?t.push(1):t.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(s=!0,r=e.substr(1)),t.indexOf(ht.compareVersions(o,r,s))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(t=>this.is(t))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class OK{static getParser(e,t=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new L6(e,t)}static parse(e){return new L6(e).getResult()}static get BROWSER_MAP(){return WR}static get ENGINE_MAP(){return Lo}static get OS_MAP(){return Ei}static get PLATFORMS_MAP(){return Cr}}var z6=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},Gs=[],is=[],PK=typeof Uint8Array<"u"?Uint8Array:Array,pb=!1;function YR(){pb=!0;for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0;e<64;++e)Gs[e]=n[e],is[n.charCodeAt(e)]=e;is[45]=62,is[95]=63}function jK(n,e,t){for(var r,s,o=[],l=e;l<t;l+=3)r=(n[l]<<16)+(n[l+1]<<8)+n[l+2],o.push(Gs[(s=r)>>18&63]+Gs[s>>12&63]+Gs[s>>6&63]+Gs[63&s]);return o.join("")}function q6(n){var e;pb||YR();for(var t=n.length,r=t%3,s="",o=[],l=16383,h=0,p=t-r;h<p;h+=l)o.push(jK(n,h,h+l>p?p:h+l));return r===1?(e=n[t-1],s+=Gs[e>>2],s+=Gs[e<<4&63],s+="=="):r===2&&(e=(n[t-2]<<8)+n[t-1],s+=Gs[e>>10],s+=Gs[e>>4&63],s+=Gs[e<<2&63],s+="="),o.push(s),o.join("")}function Zg(n,e,t,r,s){var o,l,h=8*s-r-1,p=(1<<h)-1,f=p>>1,v=-7,S=t?s-1:0,C=t?-1:1,R=n[e+S];for(S+=C,o=R&(1<<-v)-1,R>>=-v,v+=h;v>0;o=256*o+n[e+S],S+=C,v-=8);for(l=o&(1<<-v)-1,o>>=-v,v+=r;v>0;l=256*l+n[e+S],S+=C,v-=8);if(o===0)o=1-f;else{if(o===p)return l?NaN:1/0*(R?-1:1);l+=Math.pow(2,r),o-=f}return(R?-1:1)*l*Math.pow(2,o-r)}function JR(n,e,t,r,s,o){var l,h,p,f=8*o-s-1,v=(1<<f)-1,S=v>>1,C=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=r?0:o-1,B=r?1:-1,re=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,l=v):(l=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-l))<1&&(l--,p*=2),(e+=l+S>=1?C/p:C*Math.pow(2,1-S))*p>=2&&(l++,p/=2),l+S>=v?(h=0,l=v):l+S>=1?(h=(e*p-1)*Math.pow(2,s),l+=S):(h=e*Math.pow(2,S-1)*Math.pow(2,s),l=0));s>=8;n[t+R]=255&h,R+=B,h/=256,s-=8);for(l=l<<s|h,f+=s;f>0;n[t+R]=255&l,R+=B,l/=256,f-=8);n[t+R-B]|=128*re}var VK={}.toString,QR=Array.isArray||function(n){return VK.call(n)=="[object Array]"};function iy(){return mt.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Ha(n,e){if(iy()<e)throw new RangeError("Invalid typed array length");return mt.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(e)).__proto__=mt.prototype:(n===null&&(n=new mt(e)),n.length=e),n}function mt(n,e,t){if(!(mt.TYPED_ARRAY_SUPPORT||this instanceof mt))return new mt(n,e,t);if(typeof n=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return IS(this,n)}return XR(this,n,e,t)}function XR(n,e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?(function(s,o,l,h){if(o.byteLength,l<0||o.byteLength<l)throw new RangeError("'offset' is out of bounds");if(o.byteLength<l+(h||0))throw new RangeError("'length' is out of bounds");return o=l===void 0&&h===void 0?new Uint8Array(o):h===void 0?new Uint8Array(o,l):new Uint8Array(o,l,h),mt.TYPED_ARRAY_SUPPORT?(s=o).__proto__=mt.prototype:s=Wx(s,o),s})(n,e,t,r):typeof e=="string"?(function(s,o,l){if(typeof l=="string"&&l!==""||(l="utf8"),!mt.isEncoding(l))throw new TypeError('"encoding" must be a valid string encoding');var h=0|eN(o,l);s=Ha(s,h);var p=s.write(o,l);return p!==h&&(s=s.slice(0,p)),s})(n,e,t):(function(s,o){if(Ks(o)){var l=0|gb(o.length);return(s=Ha(s,l)).length===0||o.copy(s,0,0,l),s}if(o){if(typeof ArrayBuffer<"u"&&o.buffer instanceof ArrayBuffer||"length"in o)return typeof o.length!="number"||(h=o.length)!=h?Ha(s,0):Wx(s,o);if(o.type==="Buffer"&&QR(o.data))return Wx(s,o.data)}var h;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")})(n,e)}function ZR(n){if(typeof n!="number")throw new TypeError('"size" argument must be a number');if(n<0)throw new RangeError('"size" argument must not be negative')}function IS(n,e){if(ZR(e),n=Ha(n,e<0?0:0|gb(e)),!mt.TYPED_ARRAY_SUPPORT)for(var t=0;t<e;++t)n[t]=0;return n}function Wx(n,e){var t=e.length<0?0:0|gb(e.length);n=Ha(n,t);for(var r=0;r<t;r+=1)n[r]=255&e[r];return n}function gb(n){if(n>=iy())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+iy().toString(16)+" bytes");return 0|n}function Ks(n){return!(n==null||!n._isBuffer)}function eN(n,e){if(Ks(n))return n.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(n)||n instanceof ArrayBuffer))return n.byteLength;typeof n!="string"&&(n=""+n);var t=n.length;if(t===0)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return sy(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return iN(n).length;default:if(r)return sy(n).length;e=(""+e).toLowerCase(),r=!0}}function BK(n,e,t){var r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0)<=(e>>>=0))return"";for(n||(n="utf8");;)switch(n){case"hex":return WK(this,e,t);case"utf8":case"utf-8":return nN(this,e,t);case"ascii":return GK(this,e,t);case"latin1":case"binary":return KK(this,e,t);case"base64":return HK(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return YK(this,e,t);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),r=!0}}function nl(n,e,t){var r=n[e];n[e]=n[t],n[t]=r}function $6(n,e,t,r,s){if(n.length===0)return-1;if(typeof t=="string"?(r=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=s?0:n.length-1),t<0&&(t=n.length+t),t>=n.length){if(s)return-1;t=n.length-1}else if(t<0){if(!s)return-1;t=0}if(typeof e=="string"&&(e=mt.from(e,r)),Ks(e))return e.length===0?-1:H6(n,e,t,r,s);if(typeof e=="number")return e&=255,mt.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(n,e,t):Uint8Array.prototype.lastIndexOf.call(n,e,t):H6(n,[e],t,r,s);throw new TypeError("val must be string, number or Buffer")}function H6(n,e,t,r,s){var o,l=1,h=n.length,p=e.length;if(r!==void 0&&((r=String(r).toLowerCase())==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(n.length<2||e.length<2)return-1;l=2,h/=2,p/=2,t/=2}function f(R,B){return l===1?R[B]:R.readUInt16BE(B*l)}if(s){var v=-1;for(o=t;o<h;o++)if(f(n,o)===f(e,v===-1?0:o-v)){if(v===-1&&(v=o),o-v+1===p)return v*l}else v!==-1&&(o-=o-v),v=-1}else for(t+p>h&&(t=h-p),o=t;o>=0;o--){for(var S=!0,C=0;C<p;C++)if(f(n,o+C)!==f(e,C)){S=!1;break}if(S)return o}return-1}function UK(n,e,t,r){t=Number(t)||0;var s=n.length-t;r?(r=Number(r))>s&&(r=s):r=s;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var l=0;l<r;++l){var h=parseInt(e.substr(2*l,2),16);if(isNaN(h))return l;n[t+l]=h}return l}function LK(n,e,t,r){return sw(sy(e,n.length-t),n,t,r)}function tN(n,e,t,r){return sw((function(s){for(var o=[],l=0;l<s.length;++l)o.push(255&s.charCodeAt(l));return o})(e),n,t,r)}function zK(n,e,t,r){return tN(n,e,t,r)}function qK(n,e,t,r){return sw(iN(e),n,t,r)}function $K(n,e,t,r){return sw((function(s,o){for(var l,h,p,f=[],v=0;v<s.length&&!((o-=2)<0);++v)h=(l=s.charCodeAt(v))>>8,p=l%256,f.push(p),f.push(h);return f})(e,n.length-t),n,t,r)}function HK(n,e,t){return e===0&&t===n.length?q6(n):q6(n.slice(e,t))}function nN(n,e,t){t=Math.min(n.length,t);for(var r=[],s=e;s<t;){var o,l,h,p,f=n[s],v=null,S=f>239?4:f>223?3:f>191?2:1;if(s+S<=t)switch(S){case 1:f<128&&(v=f);break;case 2:(192&(o=n[s+1]))==128&&(p=(31&f)<<6|63&o)>127&&(v=p);break;case 3:o=n[s+1],l=n[s+2],(192&o)==128&&(192&l)==128&&(p=(15&f)<<12|(63&o)<<6|63&l)>2047&&(p<55296||p>57343)&&(v=p);break;case 4:o=n[s+1],l=n[s+2],h=n[s+3],(192&o)==128&&(192&l)==128&&(192&h)==128&&(p=(15&f)<<18|(63&o)<<12|(63&l)<<6|63&h)>65535&&p<1114112&&(v=p)}v===null?(v=65533,S=1):v>65535&&(v-=65536,r.push(v>>>10&1023|55296),v=56320|1023&v),r.push(v),s+=S}return(function(C){var R=C.length;if(R<=G6)return String.fromCharCode.apply(String,C);for(var B="",re=0;re<R;)B+=String.fromCharCode.apply(String,C.slice(re,re+=G6));return B})(r)}mt.TYPED_ARRAY_SUPPORT=z6.TYPED_ARRAY_SUPPORT===void 0||z6.TYPED_ARRAY_SUPPORT,iy(),mt.poolSize=8192,mt._augment=function(n){return n.__proto__=mt.prototype,n},mt.from=function(n,e,t){return XR(null,n,e,t)},mt.TYPED_ARRAY_SUPPORT&&(mt.prototype.__proto__=Uint8Array.prototype,mt.__proto__=Uint8Array),mt.alloc=function(n,e,t){return(function(r,s,o,l){return ZR(s),s<=0?Ha(r,s):o!==void 0?typeof l=="string"?Ha(r,s).fill(o,l):Ha(r,s).fill(o):Ha(r,s)})(null,n,e,t)},mt.allocUnsafe=function(n){return IS(null,n)},mt.allocUnsafeSlow=function(n){return IS(null,n)},mt.isBuffer=function(n){return n!=null&&(!!n._isBuffer||Y6(n)||(function(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&Y6(e.slice(0,0))})(n))},mt.compare=function(n,e){if(!Ks(n)||!Ks(e))throw new TypeError("Arguments must be Buffers");if(n===e)return 0;for(var t=n.length,r=e.length,s=0,o=Math.min(t,r);s<o;++s)if(n[s]!==e[s]){t=n[s],r=e[s];break}return t<r?-1:r<t?1:0},mt.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},mt.concat=function(n,e){if(!QR(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return mt.alloc(0);var t;if(e===void 0)for(e=0,t=0;t<n.length;++t)e+=n[t].length;var r=mt.allocUnsafe(e),s=0;for(t=0;t<n.length;++t){var o=n[t];if(!Ks(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,s),s+=o.length}return r},mt.byteLength=eN,mt.prototype._isBuffer=!0,mt.prototype.swap16=function(){var n=this.length;if(n%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<n;e+=2)nl(this,e,e+1);return this},mt.prototype.swap32=function(){var n=this.length;if(n%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<n;e+=4)nl(this,e,e+3),nl(this,e+1,e+2);return this},mt.prototype.swap64=function(){var n=this.length;if(n%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<n;e+=8)nl(this,e,e+7),nl(this,e+1,e+6),nl(this,e+2,e+5),nl(this,e+3,e+4);return this},mt.prototype.toString=function(){var n=0|this.length;return n===0?"":arguments.length===0?nN(this,0,n):BK.apply(this,arguments)},mt.prototype.equals=function(n){if(!Ks(n))throw new TypeError("Argument must be a Buffer");return this===n||mt.compare(this,n)===0},mt.prototype.inspect=function(){var n="";return this.length>0&&(n=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(n+=" ... ")),"<Buffer "+n+">"},mt.prototype.compare=function(n,e,t,r,s){if(!Ks(n))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),t===void 0&&(t=n?n.length:0),r===void 0&&(r=0),s===void 0&&(s=this.length),e<0||t>n.length||r<0||s>this.length)throw new RangeError("out of range index");if(r>=s&&e>=t)return 0;if(r>=s)return-1;if(e>=t)return 1;if(this===n)return 0;for(var o=(s>>>=0)-(r>>>=0),l=(t>>>=0)-(e>>>=0),h=Math.min(o,l),p=this.slice(r,s),f=n.slice(e,t),v=0;v<h;++v)if(p[v]!==f[v]){o=p[v],l=f[v];break}return o<l?-1:l<o?1:0},mt.prototype.includes=function(n,e,t){return this.indexOf(n,e,t)!==-1},mt.prototype.indexOf=function(n,e,t){return $6(this,n,e,t,!0)},mt.prototype.lastIndexOf=function(n,e,t){return $6(this,n,e,t,!1)},mt.prototype.write=function(n,e,t,r){if(e===void 0)r="utf8",t=this.length,e=0;else if(t===void 0&&typeof e=="string")r=e,t=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(t)?(t|=0,r===void 0&&(r="utf8")):(r=t,t=void 0)}var s=this.length-e;if((t===void 0||t>s)&&(t=s),n.length>0&&(t<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return UK(this,n,e,t);case"utf8":case"utf-8":return LK(this,n,e,t);case"ascii":return tN(this,n,e,t);case"latin1":case"binary":return zK(this,n,e,t);case"base64":return qK(this,n,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $K(this,n,e,t);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},mt.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var G6=4096;function GK(n,e,t){var r="";t=Math.min(n.length,t);for(var s=e;s<t;++s)r+=String.fromCharCode(127&n[s]);return r}function KK(n,e,t){var r="";t=Math.min(n.length,t);for(var s=e;s<t;++s)r+=String.fromCharCode(n[s]);return r}function WK(n,e,t){var r=n.length;(!e||e<0)&&(e=0),(!t||t<0||t>r)&&(t=r);for(var s="",o=e;o<t;++o)s+=QK(n[o]);return s}function YK(n,e,t){for(var r=n.slice(e,t),s="",o=0;o<r.length;o+=2)s+=String.fromCharCode(r[o]+256*r[o+1]);return s}function Wr(n,e,t){if(n%1!=0||n<0)throw new RangeError("offset is not uint");if(n+e>t)throw new RangeError("Trying to access beyond buffer length")}function Ri(n,e,t,r,s,o){if(!Ks(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<o)throw new RangeError('"value" argument is out of bounds');if(t+r>n.length)throw new RangeError("Index out of range")}function e0(n,e,t,r){e<0&&(e=65535+e+1);for(var s=0,o=Math.min(n.length-t,2);s<o;++s)n[t+s]=(e&255<<8*(r?s:1-s))>>>8*(r?s:1-s)}function t0(n,e,t,r){e<0&&(e=4294967295+e+1);for(var s=0,o=Math.min(n.length-t,4);s<o;++s)n[t+s]=e>>>8*(r?s:3-s)&255}function rN(n,e,t,r,s,o){if(t+r>n.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function K6(n,e,t,r,s){return s||rN(n,0,t,4),JR(n,e,t,r,23,4),t+4}function W6(n,e,t,r,s){return s||rN(n,0,t,8),JR(n,e,t,r,52,8),t+8}mt.prototype.slice=function(n,e){var t,r=this.length;if((n=~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),(e=e===void 0?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<n&&(e=n),mt.TYPED_ARRAY_SUPPORT)(t=this.subarray(n,e)).__proto__=mt.prototype;else{var s=e-n;t=new mt(s,void 0);for(var o=0;o<s;++o)t[o]=this[o+n]}return t},mt.prototype.readUIntLE=function(n,e,t){n|=0,e|=0,t||Wr(n,e,this.length);for(var r=this[n],s=1,o=0;++o<e&&(s*=256);)r+=this[n+o]*s;return r},mt.prototype.readUIntBE=function(n,e,t){n|=0,e|=0,t||Wr(n,e,this.length);for(var r=this[n+--e],s=1;e>0&&(s*=256);)r+=this[n+--e]*s;return r},mt.prototype.readUInt8=function(n,e){return e||Wr(n,1,this.length),this[n]},mt.prototype.readUInt16LE=function(n,e){return e||Wr(n,2,this.length),this[n]|this[n+1]<<8},mt.prototype.readUInt16BE=function(n,e){return e||Wr(n,2,this.length),this[n]<<8|this[n+1]},mt.prototype.readUInt32LE=function(n,e){return e||Wr(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]},mt.prototype.readUInt32BE=function(n,e){return e||Wr(n,4,this.length),16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])},mt.prototype.readIntLE=function(n,e,t){n|=0,e|=0,t||Wr(n,e,this.length);for(var r=this[n],s=1,o=0;++o<e&&(s*=256);)r+=this[n+o]*s;return r>=(s*=128)&&(r-=Math.pow(2,8*e)),r},mt.prototype.readIntBE=function(n,e,t){n|=0,e|=0,t||Wr(n,e,this.length);for(var r=e,s=1,o=this[n+--r];r>0&&(s*=256);)o+=this[n+--r]*s;return o>=(s*=128)&&(o-=Math.pow(2,8*e)),o},mt.prototype.readInt8=function(n,e){return e||Wr(n,1,this.length),128&this[n]?-1*(255-this[n]+1):this[n]},mt.prototype.readInt16LE=function(n,e){e||Wr(n,2,this.length);var t=this[n]|this[n+1]<<8;return 32768&t?4294901760|t:t},mt.prototype.readInt16BE=function(n,e){e||Wr(n,2,this.length);var t=this[n+1]|this[n]<<8;return 32768&t?4294901760|t:t},mt.prototype.readInt32LE=function(n,e){return e||Wr(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},mt.prototype.readInt32BE=function(n,e){return e||Wr(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},mt.prototype.readFloatLE=function(n,e){return e||Wr(n,4,this.length),Zg(this,n,!0,23,4)},mt.prototype.readFloatBE=function(n,e){return e||Wr(n,4,this.length),Zg(this,n,!1,23,4)},mt.prototype.readDoubleLE=function(n,e){return e||Wr(n,8,this.length),Zg(this,n,!0,52,8)},mt.prototype.readDoubleBE=function(n,e){return e||Wr(n,8,this.length),Zg(this,n,!1,52,8)},mt.prototype.writeUIntLE=function(n,e,t,r){n=+n,e|=0,t|=0,r||Ri(this,n,e,t,Math.pow(2,8*t)-1,0);var s=1,o=0;for(this[e]=255&n;++o<t&&(s*=256);)this[e+o]=n/s&255;return e+t},mt.prototype.writeUIntBE=function(n,e,t,r){n=+n,e|=0,t|=0,r||Ri(this,n,e,t,Math.pow(2,8*t)-1,0);var s=t-1,o=1;for(this[e+s]=255&n;--s>=0&&(o*=256);)this[e+s]=n/o&255;return e+t},mt.prototype.writeUInt8=function(n,e,t){return n=+n,e|=0,t||Ri(this,n,e,1,255,0),mt.TYPED_ARRAY_SUPPORT||(n=Math.floor(n)),this[e]=255&n,e+1},mt.prototype.writeUInt16LE=function(n,e,t){return n=+n,e|=0,t||Ri(this,n,e,2,65535,0),mt.TYPED_ARRAY_SUPPORT?(this[e]=255&n,this[e+1]=n>>>8):e0(this,n,e,!0),e+2},mt.prototype.writeUInt16BE=function(n,e,t){return n=+n,e|=0,t||Ri(this,n,e,2,65535,0),mt.TYPED_ARRAY_SUPPORT?(this[e]=n>>>8,this[e+1]=255&n):e0(this,n,e,!1),e+2},mt.prototype.writeUInt32LE=function(n,e,t){return n=+n,e|=0,t||Ri(this,n,e,4,4294967295,0),mt.TYPED_ARRAY_SUPPORT?(this[e+3]=n>>>24,this[e+2]=n>>>16,this[e+1]=n>>>8,this[e]=255&n):t0(this,n,e,!0),e+4},mt.prototype.writeUInt32BE=function(n,e,t){return n=+n,e|=0,t||Ri(this,n,e,4,4294967295,0),mt.TYPED_ARRAY_SUPPORT?(this[e]=n>>>24,this[e+1]=n>>>16,this[e+2]=n>>>8,this[e+3]=255&n):t0(this,n,e,!1),e+4},mt.prototype.writeIntLE=function(n,e,t,r){if(n=+n,e|=0,!r){var s=Math.pow(2,8*t-1);Ri(this,n,e,t,s-1,-s)}var o=0,l=1,h=0;for(this[e]=255&n;++o<t&&(l*=256);)n<0&&h===0&&this[e+o-1]!==0&&(h=1),this[e+o]=(n/l|0)-h&255;return e+t},mt.prototype.writeIntBE=function(n,e,t,r){if(n=+n,e|=0,!r){var s=Math.pow(2,8*t-1);Ri(this,n,e,t,s-1,-s)}var o=t-1,l=1,h=0;for(this[e+o]=255&n;--o>=0&&(l*=256);)n<0&&h===0&&this[e+o+1]!==0&&(h=1),this[e+o]=(n/l|0)-h&255;return e+t},mt.prototype.writeInt8=function(n,e,t){return n=+n,e|=0,t||Ri(this,n,e,1,127,-128),mt.TYPED_ARRAY_SUPPORT||(n=Math.floor(n)),n<0&&(n=255+n+1),this[e]=255&n,e+1},mt.prototype.writeInt16LE=function(n,e,t){return n=+n,e|=0,t||Ri(this,n,e,2,32767,-32768),mt.TYPED_ARRAY_SUPPORT?(this[e]=255&n,this[e+1]=n>>>8):e0(this,n,e,!0),e+2},mt.prototype.writeInt16BE=function(n,e,t){return n=+n,e|=0,t||Ri(this,n,e,2,32767,-32768),mt.TYPED_ARRAY_SUPPORT?(this[e]=n>>>8,this[e+1]=255&n):e0(this,n,e,!1),e+2},mt.prototype.writeInt32LE=function(n,e,t){return n=+n,e|=0,t||Ri(this,n,e,4,2147483647,-2147483648),mt.TYPED_ARRAY_SUPPORT?(this[e]=255&n,this[e+1]=n>>>8,this[e+2]=n>>>16,this[e+3]=n>>>24):t0(this,n,e,!0),e+4},mt.prototype.writeInt32BE=function(n,e,t){return n=+n,e|=0,t||Ri(this,n,e,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),mt.TYPED_ARRAY_SUPPORT?(this[e]=n>>>24,this[e+1]=n>>>16,this[e+2]=n>>>8,this[e+3]=255&n):t0(this,n,e,!1),e+4},mt.prototype.writeFloatLE=function(n,e,t){return K6(this,n,e,!0,t)},mt.prototype.writeFloatBE=function(n,e,t){return K6(this,n,e,!1,t)},mt.prototype.writeDoubleLE=function(n,e,t){return W6(this,n,e,!0,t)},mt.prototype.writeDoubleBE=function(n,e,t){return W6(this,n,e,!1,t)},mt.prototype.copy=function(n,e,t,r){if(t||(t=0),r||r===0||(r=this.length),e>=n.length&&(e=n.length),e||(e=0),r>0&&r<t&&(r=t),r===t||n.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),n.length-e<r-t&&(r=n.length-e+t);var s,o=r-t;if(this===n&&t<e&&e<r)for(s=o-1;s>=0;--s)n[s+e]=this[s+t];else if(o<1e3||!mt.TYPED_ARRAY_SUPPORT)for(s=0;s<o;++s)n[s+e]=this[s+t];else Uint8Array.prototype.set.call(n,this.subarray(t,t+o),e);return o},mt.prototype.fill=function(n,e,t,r){if(typeof n=="string"){if(typeof e=="string"?(r=e,e=0,t=this.length):typeof t=="string"&&(r=t,t=this.length),n.length===1){var s=n.charCodeAt(0);s<256&&(n=s)}if(r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!mt.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else typeof n=="number"&&(n&=255);if(e<0||this.length<e||this.length<t)throw new RangeError("Out of range index");if(t<=e)return this;var o;if(e>>>=0,t=t===void 0?this.length:t>>>0,n||(n=0),typeof n=="number")for(o=e;o<t;++o)this[o]=n;else{var l=Ks(n)?n:sy(new mt(n,r).toString()),h=l.length;for(o=0;o<t-e;++o)this[o+e]=l[o%h]}return this};var JK=/[^+\/0-9A-Za-z-_]/g;function QK(n){return n<16?"0"+n.toString(16):n.toString(16)}function sy(n,e){var t;e=e||1/0;for(var r=n.length,s=null,o=[],l=0;l<r;++l){if((t=n.charCodeAt(l))>55295&&t<57344){if(!s){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(l+1===r){(e-=3)>-1&&o.push(239,191,189);continue}s=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),s=t;continue}t=65536+(s-55296<<10|t-56320)}else s&&(e-=3)>-1&&o.push(239,191,189);if(s=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,63&t|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return o}function iN(n){return(function(e){var t,r,s,o,l,h;pb||YR();var p=e.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");l=e[p-2]==="="?2:e[p-1]==="="?1:0,h=new PK(3*p/4-l),s=l>0?p-4:p;var f=0;for(t=0,r=0;t<s;t+=4,r+=3)o=is[e.charCodeAt(t)]<<18|is[e.charCodeAt(t+1)]<<12|is[e.charCodeAt(t+2)]<<6|is[e.charCodeAt(t+3)],h[f++]=o>>16&255,h[f++]=o>>8&255,h[f++]=255&o;return l===2?(o=is[e.charCodeAt(t)]<<2|is[e.charCodeAt(t+1)]>>4,h[f++]=255&o):l===1&&(o=is[e.charCodeAt(t)]<<10|is[e.charCodeAt(t+1)]<<4|is[e.charCodeAt(t+2)]>>2,h[f++]=o>>8&255,h[f++]=255&o),h})((function(e){if((e=(function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")})(e).replace(JK,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e})(n))}function sw(n,e,t,r){for(var s=0;s<r&&!(s+t>=e.length||s>=n.length);++s)e[s+t]=n[s];return s}function Y6(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function qs(n,e,t,r){return new(t||(t=Promise))((function(s,o){function l(f){try{p(r.next(f))}catch(v){o(v)}}function h(f){try{p(r.throw(f))}catch(v){o(v)}}function p(f){var v;f.done?s(f.value):(v=f.value,v instanceof t?v:new t((function(S){S(v)}))).then(l,h)}p((r=r.apply(n,[])).next())}))}class pi extends Error{constructor(e,t,...r){super(...r),Error.captureStackTrace&&Error.captureStackTrace(this,pi),this.name="PeraWalletConnectError",this.data=e,this.message=t}}const kd=new class{constructor(n){this.listener=void 0,this.channel=n.channel}setupListener({onReceiveMessage:n}){this.close(),this.listener=e=>{if(typeof e.data=="object")try{e.data.channel===this.channel&&n(e)}catch(t){console.error(t)}},window.addEventListener("message",this.listener)}sendMessage({message:n,targetWindow:e,origin:t,timeout:r=1e3}){setTimeout((()=>{const s={channel:this.channel,message:n};e.postMessage(s,{targetOrigin:t||"*"})}),r)}close(){this.listener&&(window.removeEventListener("message",this.listener),this.listener=void 0)}}({channel:"pera-web-wallet"}),XK=700,ZK=50;function eW(){const n=document.querySelector('meta[name="name"]'),e=document.querySelector('meta[name="description"]');let{title:t}=document,r="";return n instanceof HTMLMetaElement&&(t=n.content),e instanceof HTMLMetaElement&&(r=e.content),{title:t,description:r,url:window.location.origin,favicon:tW()[0]}}function tW(){const n=document.getElementsByTagName("link"),e=[];for(let t=0;t<n.length;t++){const r=n[t],s=r.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){const o=r.getAttribute("href");if(o&&o.toLowerCase().indexOf("https:")===-1&&o.toLowerCase().indexOf("http:")===-1&&o.indexOf("//")!==0){let l=`${window.location.protocol}//${window.location.host}`;if(o.indexOf("/")===0)l+=o;else{const h=window.location.pathname.split("/");h.pop(),l+=`${h.join("/")}/${o}`}e.push(l)}else if(o?.indexOf("//")===0){const l=window.location.protocol+o;e.push(l)}else o&&e.push(o)}}return e}function sN(n){return new Promise(((e,t)=>{try{const r=window.open(n,"_blank");let s=0;const o=setInterval((()=>{if(s+=1,s===ZK)return clearInterval(o),void t(new pi({type:"MESSAGE_NOT_RECEIVED"},"Couldn't open Pera Wallet, please try again."));r&&(r.closed===!0&&(clearInterval(o),t(new pi({type:"OPERATION_CANCELLED"},"Operation cancelled by user"))),kd.sendMessage({message:{type:"TAB_OPEN"},origin:n,targetWindow:r}))}),XK);kd.setupListener({onReceiveMessage:l=>{l.data.message.type==="TAB_OPEN_RECEIVED"&&(clearInterval(o),e(r))}})}catch(r){t(r)}}))}const yl="pera-wallet-connect-modal-wrapper",CS="pera-wallet-redirect-modal-wrapper",RS="pera-wallet-sign-txn-toast-wrapper",DW="pera-wallet-sign-txn-modal-wrapper",nW="pera-wallet-modal";function yb(n){const e=document.createElement("div");return e.setAttribute("id",n),document.body.appendChild(e),e}function J6(){yb(CS).innerHTML="<pera-wallet-redirect-modal></pera-wallet-redirect-modal>"}function Q6(){yb(RS).innerHTML="<pera-wallet-sign-txn-toast></pera-wallet-sign-txn-toast>"}function Ua(n){const e=document.getElementById(n);e&&e.remove()}const rp={WALLET:"PeraWallet.Wallet",WALLETCONNECT:"walletconnect"};function ip(){return typeof localStorage>"u"?void 0:localStorage}function aN(n,e){var t;(t=ip())===null||t===void 0||t.setItem(rp.WALLET,JSON.stringify({type:e||"pera-wallet",accounts:n,selectedAccount:n[0]}))}function Yx(){var n;const e=(n=ip())===null||n===void 0?void 0:n.getItem(rp.WALLET);return e?JSON.parse(e):null}function oN(){return new Promise(((n,e)=>{var t,r;try{(t=ip())===null||t===void 0||t.removeItem(rp.WALLETCONNECT),(r=ip())===null||r===void 0||r.removeItem(rp.WALLET),n(void 0)}catch(s){e(s)}}))}function rW(n){const e=n.slice();for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e}const iW="https://wc.perawallet.app/config.json";function sW(){return(function(n,e={}){return fetch(n,e).then((t=>t.json())).then((t=>t))})(iW,{cache:"no-store"})}function Yu(){return qs(this,void 0,void 0,(function*(){let n={bridgeURL:"",webWalletURL:"",isWebWalletAvailable:!1,shouldDisplayNewBadge:!1,shouldUseSound:!0,silent:!1,promoteMobile:!1};try{const e=yield sW();e.web_wallet!==void 0&&e.web_wallet_url&&(n.isWebWalletAvailable=e.web_wallet),e.display_new_badge!==void 0&&(n.shouldDisplayNewBadge=e.display_new_badge),e.use_sound!==void 0&&(n.shouldUseSound=e.use_sound),e.silent!==void 0&&(n.silent=e.silent),e.promote_mobile!==void 0&&(n.promoteMobile=e.promote_mobile),n=Object.assign(Object.assign({},n),{bridgeURL:rW(e.servers||[])[0]||"",webWalletURL:e.web_wallet_url||""})}catch(e){console.log(e)}return n}))}function ay(n){return Uint8Array.from(window.atob(n),(e=>e.charCodeAt(0)))}function X6(n,e){return{id:Date.now()*Math.pow(10,3)+Math.floor(Math.random()*Math.pow(10,3)),jsonrpc:"2.0",method:n,params:e}}function aw(){return typeof navigator<"u"}function MW(){return aw()&&/Android/i.test(navigator.userAgent)}function FW(){return aw()&&/iPhone|iPad|iPod/i.test(navigator.userAgent)}function n0(){return aw()&&/iPhone|iPod|Android/i.test(navigator.userAgent)}function OW(){if(!aw())return null;const{userAgent:n}=navigator;let e;return e=n.match(/DuckDuckGo/i)?"DuckDuckGo":n.match(/OPX/i)?"Opera GX":navigator.brave?"Brave":OK.getParser(navigator.userAgent).getBrowserName(),e}const PW="perawallet-wc://",jW="https://perawallet.app/download/";function cN(n){return{ROOT:`https://${n}`,CONNECT:`https://${n}/connect`,TRANSACTION_SIGN:`https://${n}/transaction/sign`}}function Z6({method:n,signTxnRequestParams:e,signer:t,chainId:r,webWalletURL:s,resolve:o,reject:l}){const h=cN(s);(function(){qs(this,void 0,void 0,(function*(){try{const p=yield sN(h.TRANSACTION_SIGN);if(p){let v;n==="SIGN_TXN"?v={type:"SIGN_TXN",txn:e}:n==="SIGN_DATA"&&t&&r&&(v={type:"SIGN_DATA",data:e,signer:t,chainId:r}),v&&kd.sendMessage({message:v,origin:h.TRANSACTION_SIGN,targetWindow:p})}const f=setInterval((()=>{p?.closed===!0&&(l(new pi({type:`${n}_CANCELLED`},"Transaction signing is cancelled by user.")),clearInterval(f))}),2e3);kd.setupListener({onReceiveMessage:v=>(function({event:S,newPeraWalletTab:C,method:R,resolve:B,reject:re}){switch(S.data.message.type){case"SIGN_TXN_CALLBACK":C?.close(),B(S.data.message.signedTxns.map((N=>ay(N.signedTxn))));break;case"SIGN_DATA_CALLBACK":C?.close(),B(S.data.message.signedData.map((N=>ay(N.signedData))));break;case"SIGN_TXN_NETWORK_MISMATCH":re(new pi({type:`${R}_NETWORK_MISMATCH`,detail:S.data.message.error},S.data.message.error||"Network mismatch"));break;case"SIGN_TXN_CALLBACK_ERROR":C?.close(),re(new pi({type:`${R}_CANCELLED`},S.data.message.error));break;case"SESSION_DISCONNECTED":C?.close(),oN(),re(new pi({type:"SESSION_DISCONNECTED",detail:S.data.message.error},S.data.message.error))}})({event:v,newPeraWalletTab:p,method:n,resolve:o,reject:l})})}catch(p){l(p)}}))})()}function aW({webWalletURL:n,chainId:e,resolve:t,reject:r}){const s=cN(n);return function(){return qs(this,void 0,void 0,(function*(){try{const l=yield sN(s.CONNECT);l&&kd.sendMessage({message:{type:"CONNECT",data:Object.assign(Object.assign({},eW()),{chainId:e})},origin:s.CONNECT,targetWindow:l});const h=setInterval((()=>{l?.closed===!0&&(r(new pi({type:"CONNECT_CANCELLED"},"Connect is cancelled by user")),clearInterval(h),o())}),2e3);kd.setupListener({onReceiveMessage:p=>(function({event:f,newPeraWalletTab:v,resolve:S,reject:C}){if(S&&f.data.message.type==="CONNECT_CALLBACK"){const R=f.data.message.data.addresses;aN(R,"pera-wallet-web"),S(R),Ua(yl),v?.close()}else f.data.message.type==="CONNECT_NETWORK_MISMATCH"&&(C(new pi({type:"CONNECT_NETWORK_MISMATCH",detail:f.data.message.error},f.data.message.error||"Your wallet is connected to a different network to this dApp. Update your wallet to the correct network (MainNet or TestNet) to continue.")),Ua(yl),v?.close())})({event:p,newPeraWalletTab:l,resolve:t,reject:r})})}catch(l){o(),r(l)}}))};function o(){Ua(yl)}}function oW({isWebWalletAvailable:n,shouldDisplayNewBadge:e,shouldUseSound:t,compactMode:r,promoteMobile:s,singleAccount:o,selectedAccount:l}){return{open:(h={isWebWalletAvailable:n,shouldDisplayNewBadge:e,shouldUseSound:t,compactMode:r,promoteMobile:s,singleAccount:o,selectedAccount:l},p=>{if(!document.getElementById(yl)){const f=yb(yl),v=`${p}&algorand=true`,{isWebWalletAvailable:S,shouldDisplayNewBadge:C,shouldUseSound:R,compactMode:B,promoteMobile:re,singleAccount:N,selectedAccount:U}=h;f.innerHTML=`<pera-wallet-connect-modal uri="${v}" is-web-wallet-avaliable="${S}" should-display-new-badge="${C}" should-use-sound="${R}" compact-mode="${B}" promote-mobile="${re}" single-account="${N}" selected-account="${U||""}"></pera-wallet-connect-modal>`}}),close:()=>Ua(yl)};var h}class wb{constructor(e){this.bridge=e?.bridge||"",this.connector=null,this.shouldShowSignTxnToast=e?.shouldShowSignTxnToast===void 0||e.shouldShowSignTxnToast,this.chainId=e?.chainId,this.compactMode=e?.compactMode||!1,this.singleAccount=e?.singleAccount||!1}get platform(){return(function(){const e=Yx();let t=null;return e?.type==="pera-wallet"?t="mobile":e?.type==="pera-wallet-web"&&(t="web"),t})()}get isConnected(){var e;return this.platform==="mobile"?!!this.connector:this.platform==="web"&&!!(!((e=Yx())===null||e===void 0)&&e.accounts.length)}get isPeraDiscoverBrowser(){return this.checkIsPeraDiscoverBrowser()}connect(e){return new Promise(((t,r)=>qs(this,void 0,void 0,(function*(){var s;try{if(!((s=this.connector)===null||s===void 0)&&s.connected)try{yield this.connector.killSession()}catch{}const{isWebWalletAvailable:o,bridgeURL:l,webWalletURL:h,shouldDisplayNewBadge:p,shouldUseSound:f,promoteMobile:v}=yield Yu(),S=aW({resolve:t,reject:r,webWalletURL:h,chainId:this.chainId,isCompactMode:this.compactMode});o&&(window.onWebWalletConnect=S),this.connector=new U6({bridge:this.bridge||l||"https://bridge.walletconnect.org",qrcodeModal:oW({isWebWalletAvailable:o,shouldDisplayNewBadge:p,shouldUseSound:f,compactMode:this.compactMode,promoteMobile:v,singleAccount:this.singleAccount,selectedAccount:e?.selectedAccount})}),yield this.connector.createSession({chainId:this.chainId||4160}),(function(C,R){var B,re,N,U;const q=document.getElementById(C),G=(re=(B=q?.querySelector(C.replace("-wrapper","")))===null||B===void 0?void 0:B.shadowRoot)===null||re===void 0?void 0:re.querySelector(`.${nW}`),he=(U=(N=G?.querySelector("pera-wallet-modal-header"))===null||N===void 0?void 0:N.shadowRoot)===null||U===void 0?void 0:U.getElementById("pera-wallet-modal-header-close-button");he?.addEventListener("click",(()=>{R(),Ua(C)}))})(yl,(()=>r(new pi({type:"CONNECT_MODAL_CLOSED"},"Connect modal is closed by user")))),this.connector.on("connect",((C,R)=>{var B,re;C&&r(C),t(((B=this.connector)===null||B===void 0?void 0:B.accounts)||[]),aN(((re=this.connector)===null||re===void 0?void 0:re.accounts)||[])}))}catch(o){console.log(o),r(new pi({type:"SESSION_CONNECT",detail:o},o.message||"There was an error while connecting to Pera Wallet"))}}))))}reconnectSession(){return new Promise(((e,t)=>qs(this,void 0,void 0,(function*(){var r,s;try{const o=Yx();if(!o)return void e([]);if(o?.type==="pera-wallet-web"){const{isWebWalletAvailable:l}=yield Yu();l?e(o.accounts||[]):t(new pi({type:"SESSION_RECONNECT",detail:"Pera Web is not available"},"Pera Web is not available"))}this.connector&&e(this.connector.accounts||[]),this.bridge=((r=(function(){var l;const h=(l=ip())===null||l===void 0?void 0:l.getItem(rp.WALLETCONNECT);return h?JSON.parse(h):null})())===null||r===void 0?void 0:r.bridge)||"",this.bridge&&(this.connector=new U6({bridge:this.bridge}),e(((s=this.connector)===null||s===void 0?void 0:s.accounts)||[])),this.isConnected||e([])}catch(o){yield this.disconnect(),t(new pi({type:"SESSION_RECONNECT",detail:o},o.message||"There was an error while reconnecting to Pera Wallet"))}}))))}disconnect(){var e;return qs(this,void 0,void 0,(function*(){let t;this.isConnected&&this.platform==="mobile"&&(t=(e=this.connector)===null||e===void 0?void 0:e.killSession(),t?.then((()=>{this.connector=null}))),yield oN()}))}signTransactionWithMobile(e){return qs(this,void 0,void 0,(function*(){const t=X6("algo_signTxn",[e]);try{try{const{silent:r}=yield Yu(),s=(yield this.connector.sendCustomRequest(t,{forcePushNotification:!r})).filter(Boolean);return typeof s[0]=="string"?s.map(ay):s.map((o=>Uint8Array.from(o)))}catch(r){return yield Promise.reject(new pi({type:"SIGN_TRANSACTIONS",detail:r},r.message||"Failed to sign transaction"))}}finally{Ua(CS),Ua(RS)}}))}signTransactionWithWeb(e,t){return new Promise(((r,s)=>Z6({signTxnRequestParams:e,webWalletURL:t,method:"SIGN_TXN",resolve:r,reject:s})))}signDataWithMobile({data:e,signer:t,chainId:r}){return qs(this,void 0,void 0,(function*(){const s=X6("algo_signData",e.map((o=>Object.assign(Object.assign({},o),{signer:t,chainId:r}))));try{try{const{silent:o}=yield Yu(),l=(yield this.connector.sendCustomRequest(s,{forcePushNotification:!o})).filter(Boolean);return typeof l[0]=="string"?l.map(ay):l.map((h=>Uint8Array.from(h)))}catch(o){return yield Promise.reject(new pi({type:"SIGN_TRANSACTIONS",detail:o},o.message||"Failed to sign transaction"))}}finally{Ua(CS),Ua(RS)}}))}signDataWithWeb({data:e,signer:t,chainId:r,webWalletURL:s}){return new Promise(((o,l)=>Z6({method:"SIGN_DATA",signTxnRequestParams:e,signer:t,chainId:r,webWalletURL:s,resolve:o,reject:l})))}checkIsPeraDiscoverBrowser(){return window.navigator.userAgent.includes("pera")}signTransaction(e,t){return qs(this,void 0,void 0,(function*(){if(this.platform==="mobile"&&(n0()?J6():!n0()&&this.shouldShowSignTxnToast&&Q6(),!this.connector))throw new Error("PeraWalletConnect was not initialized correctly.");const r=e.flatMap((s=>s.map((o=>(function(l,h){let p;h&&!(l.signers||[]).includes(h)&&(p=[]);const f={txn:(v=l.txn,Buffer.from(nr.encodeUnsignedTransaction(v)).toString("base64"))};var v;return Array.isArray(p)&&(f.signers=p),l.authAddr&&(f.authAddr=l.authAddr),l.message&&(f.message=l.message),l.msig&&(f.msig=l.msig),f})(o,t)))));if(this.platform==="web"){const{webWalletURL:s}=yield Yu();return this.signTransactionWithWeb(r,s)}return this.signTransactionWithMobile(r)}))}signData(e,t){return qs(this,void 0,void 0,(function*(){const r=this.chainId||4160;if(this.platform==="mobile"&&(n0()?J6():!n0()&&this.shouldShowSignTxnToast&&Q6(),!this.connector))throw new Error("PeraWalletConnect was not initialized correctly.");if(this.platform==="web"){const{webWalletURL:o}=yield Yu();return this.signDataWithWeb({data:e,signer:t,chainId:r,webWalletURL:o})}const s=e.map((o=>Object.assign(Object.assign({},o),{data:Buffer.from(o.data).toString("base64")})));return this.signDataWithMobile({data:s,signer:t,chainId:r})}))}}typeof window<"u"&&(window.global=window,window.Buffer=window.Buffer||mt,Q$(()=>import("./App-428f5096-Cc_Xfbfl.js"),[]));window.Buffer=window.Buffer||TC.Buffer;const Hf=new wb({shouldShowSignTxnToast:!0}),cW=()=>{const[n,e]=Ee.useState(1),[t,r]=Ee.useState(""),[s,o]=Ee.useState({companyName:"",escrowAmount:"",freelancerAddress:""}),[l,h]=Ee.useState(!1),[p,f]=Ee.useState(""),[v,S]=Ee.useState(""),[C,R]=Ee.useState("");Ee.useEffect(()=>{(async()=>{try{const M=await Hf.reconnectSession();M&&M.length>0&&r(M[0])}catch{console.log("No existing Pera session to reconnect.")}})()},[]);const B=()=>new nr.Algodv2("","https://testnet-api.algonode.cloud",""),re=async()=>{try{h(!0),R("");const P=await Hf.connect();P&&P.length>0?(r(P[0]),console.log("Connected wallet:",P[0])):R("No accounts found. Please try again.")}catch(P){P?.message?.includes("cancelled")||P?.data?.type==="CONNECT_CANCELLED"?R("Connection cancelled by user."):R("Failed to connect wallet: "+(P.message||"Please try again")),console.error("Connection error:",P)}finally{h(!1)}},N=async()=>{try{await Hf.disconnect(),r("")}catch(P){console.error("Disconnect error:",P)}},U=P=>{const{name:M,value:H}=P.target;o(A=>({...A,[M]:H})),R("")},q=P=>P&&P.length===58&&/^[A-Z2-7]+$/.test(P),G=()=>{if(R(""),!t){R("Please connect your wallet first.");return}if(!s.companyName.trim()){R("Please enter the Company/Client Name.");return}if(!s.escrowAmount||parseFloat(s.escrowAmount)<=0){R("Please enter a valid escrow amount (must be greater than 0).");return}e(2)},he=async()=>{if(R(""),!s.freelancerAddress||!s.freelancerAddress.trim()){R("Please enter the freelancer wallet address.");return}if(!q(s.freelancerAddress)){R("Invalid Algorand address. Must be 58 characters (A-Z, 2-7 only).");return}h(!0);let P="",M;try{const H=B(),A="CyAEAAEIICYGBnN0YXR1cwtjbGllbnRfYWRkcg1lc2Nyb3dfYW1vdW50CGFzc2V0X2lkD2ZyZWVsYW5jZXJfYWRkcg11bml0YXJ5X3ByaWNlgAQzs0meNhoAjgEAOzEZFEQxGEEAJIIEBMx2ADcEFXRTWgR5C/WfBAeP1Qc2GgCOBABeAHMAzQENAIAEBlO3FzYaAI4BAA0AMRmBBRIxGBBEQgEgNhoBSRUlEkQ2GgJJFSQSRBc2GgNJFSQSRBc2GgRJFSQSRBdLAzEAE0QpMQBnJwRPBGcqTwNnK08CZygiZycFTGcjQzYaAUkVJBJEFzEAMgkSRCcFTGcjQzEWIwlJOBAjEkQiKGVEFEQiKWVESTEAEkRLATgAEkRJOAcyChJEIitlRBREOAgiKmVEMgAID0QoI2ciK2VEQQAXsTIAIitlRDIKIrISshSyEYEEshCyAbMjQzEWIwk4ECMSRDYaARUkEkQiKWVEMQASRCIoZUQjEkSxMgAiJwRlREkVJRJEIiplRLIIsgcjshCyAbMogQJnI0MiKWVESTEAEkQiKGVEIxJEsTIASwEVJRJEIiplRLIITLIHI7IQsgGzKIEDZyNDIillRDEAEkQiKGVEgQISQAAKIihlRIEDEkEAHiNEsTIAIillREkVJRJESbIJIrIIsgcjshCyAbMjQyJC/98=",y="C4EBQw==";let x=await H.getTransactionParams().do();const E=Uint8Array.from(atob(A),be=>be.charCodeAt(0)),$=Uint8Array.from(atob(y),be=>be.charCodeAt(0)),ee=Math.floor(parseFloat(s.escrowAmount)*1e6),W=s.freelancerAddress.trim();if(W===t)throw new Error("Freelancer address must be different from your wallet address (client address)");let le;try{le=nr.decodeAddress(W).publicKey}catch(be){throw new Error("Invalid address format: "+be.message)}const T=nr.ABIMethod.fromSignature("create_application(address,uint64,uint64,uint64)void").getSelector(),se=new Uint8Array(8);new DataView(se.buffer).setBigUint64(0,BigInt(ee),!1);const ue=new Uint8Array(8),_e=new Uint8Array(8),O=[{txn:nr.makeApplicationCreateTxnFromObject({sender:t,suggestedParams:x,onComplete:nr.OnApplicationComplete.NoOpOC,approvalProgram:E,clearProgram:$,numLocalInts:0,numLocalByteSlices:0,numGlobalInts:6,numGlobalByteSlices:2,appArgs:[T,le,se,ue,_e]}),signers:[t]}],Ae=await Hf.signTransaction([O]),Pe=await H.sendRawTransaction(Ae).do();P=Pe.txId||Pe.txid;let ge;if(ge=await nr.waitForConfirmation(H,P,10),M=ge["application-index"]||ge.applicationIndex,M==null)throw new Error("Application ID not found in confirmation response. Check browser console.");f(P),S(String(M));try{await dc(Fi(wi,"escrows"),{appId:Number(M),clientAddress:t,freelancerAddress:W,escrowAmount:parseFloat(s.escrowAmount),companyName:s.companyName,createdAt:new Date,status:"initialized"})}catch(be){console.error("Failed to save escrow to Firestore:",be),R(`Contract deployed (ID: ${M}), but failed to record in database. Please manually record the App ID.`)}e(3)}catch(H){let A="Failed to initialize contract: ";H.message?.includes("Submission rejected")?A="Transaction rejected: "+H.message:H.message?.includes("overspend")?A+="Insufficient ALGO balance.":H.message?.includes("logic eval error")?A+="Smart contract validation failed.":A+=H.message||"Unknown error",R(A)}finally{h(!1)}},pe=async()=>{h(!0),R("");try{if(!v||!t)throw new Error("Missing required data: appId or walletAddress");const P=B();let M=await P.getTransactionParams().do();const H=parseInt(v,10),A=nr.getApplicationAddress(H),y=parseFloat(s.escrowAmount)+.1,x=Math.floor(y*1e6),E=nr.makePaymentTxnWithSuggestedParamsFromObject({sender:t,receiver:A,amount:x,suggestedParams:M}),$=nr.ABIMethod.fromSignature("opt_in_to_asset(pay)void").getSelector(),ee=nr.makeApplicationNoOpTxnFromObject({sender:t,appIndex:H,suggestedParams:M,appArgs:[$]}),W=[E,ee];nr.assignGroupID(W);const le=await Hf.signTransaction([[{txn:W[0],signers:[t]},{txn:W[1],signers:[t]}]]),Q=await P.sendRawTransaction(le).do();let T=Q.txId||Q.txid;await nr.waitForConfirmation(P,T,10);try{const se=gh(Fi(wi,"escrows"),b1("appId","==",H)),ie=await yh(se);if(!ie.empty){const ue=ie.docs[0].ref;await IE(ue,{status:"funded"})}}catch(se){console.error("Failed to update Firestore status to 'funded'.",se)}e(4)}catch(P){console.error("Funding error:",P);let M="Failed to fund contract: ";P.message?.includes("logic eval error")?M="Smart contract rejected the transaction. Check contract logs for errors.":P.message?.includes("below min")?M="Insufficient ALGO balance. Please add funds from the TestNet faucet.":M+=P.message||"Unknown error",R(M)}finally{h(!1)}},K=({num:P,label:M})=>{const H=n===P,A=n>P;let y="bg-gray-300 text-gray-600",x=P;return A?(y="bg-teal-600 text-white",x=d.jsx(Ws,{className:"w-5 h-5"})):H&&(y="bg-teal-600 text-white shadow-lg shadow-teal-300/50"),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:`w-9 h-9 rounded-full flex items-center justify-center font-semibold transition-all duration-300 ${y}`,children:x}),d.jsx("span",{className:`text-xs mt-2 text-center transition-colors duration-300 ${H?"text-gray-900 font-medium":"text-gray-500"}`,children:M})]})};return d.jsx("div",{className:"min-h-screen bg-gray-50 py-16 px-4",children:d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-10",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-teal-600 rounded-lg mb-4 shadow-xl",children:d.jsx(gI,{className:"w-8 h-8 text-white"})}),d.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 mb-2",children:"Initialize Escrow Contract"}),d.jsx("p",{className:"text-gray-500",children:"Secure client funds on the Algorand blockchain"})]}),!t&&n===1&&d.jsx("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-xl p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(jE,{className:"w-6 h-6 text-blue-600"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-blue-900",children:"Connect Your Wallet"}),d.jsx("p",{className:"text-sm text-blue-700",children:"Connect to get started with the escrow"})]})]}),d.jsx("button",{onClick:re,disabled:l,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:bg-gray-400",children:l?"Connecting...":"Connect Wallet"})]})}),t&&d.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Ws,{className:"w-5 h-5 text-green-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Wallet Connected"}),d.jsxs("p",{className:"text-xs text-green-600 font-mono",children:[t.substring(0,10),"...",t.substring(48)]})]})]}),d.jsx("button",{onClick:N,className:"text-sm text-red-600 hover:text-red-700 font-medium",children:"Disconnect"})]}),d.jsx("div",{className:"mb-10",children:d.jsx("div",{className:"flex items-center justify-between max-w-2xl mx-auto",children:[{num:1,label:"Details & Budget"},{num:2,label:"Configure Contract"},{num:3,label:"Fund Escrow"},{num:4,label:"Complete"}].map((P,M)=>d.jsxs(_s.Fragment,{children:[d.jsx(K,{num:P.num,label:P.label}),M<3&&d.jsx("div",{className:`flex-1 h-1 mx-2 rounded-full transition-colors duration-500 ${n>P.num?"bg-teal-600":"bg-gray-300"}`})]},P.num))})}),d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 lg:p-10 border border-gray-100",children:[n===1&&d.jsxs("div",{className:"space-y-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 border-b pb-4",children:"Project & Funding Details"}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Company/Client Name *"}),d.jsx("input",{type:"text",id:"companyName",name:"companyName",value:s.companyName,onChange:U,placeholder:"e.g., Acme Solutions",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"escrowAmount",className:"block text-sm font-medium text-gray-700 mb-2",children:"Escrow Budget (ALGO) *"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",id:"escrowAmount",name:"escrowAmount",value:s.escrowAmount,onChange:U,placeholder:"Enter total amount to be secured",step:"0.001",min:"0.1",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors"}),d.jsx(to,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 0.1 ALGO required for contract operation"})]})]}),C&&d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex gap-3",children:[d.jsx(Ss,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),d.jsx("p",{className:"text-sm text-red-800 font-medium",children:C})]}),d.jsx("button",{onClick:G,className:"w-full bg-teal-600 text-white py-3 rounded-lg font-semibold hover:bg-teal-700 transition-colors shadow-lg",children:"Continue to Freelancer Address"})]}),n===2&&d.jsxs("div",{className:"space-y-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6 border-b pb-4",children:"Contract Configuration"}),d.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-4 border border-gray-200",children:[d.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[d.jsx(Ny,{className:"w-4 h-4 text-teal-600"}),"Contract Summary"]}),d.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[d.jsxs("p",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"font-medium",children:"Company/Client:"})," ",d.jsx("span",{className:"text-gray-900 font-semibold",children:s.companyName})]}),d.jsxs("p",{className:"flex justify-between items-center border-t pt-2",children:[d.jsx("span",{className:"font-medium text-lg",children:"Escrow Amount:"})," ",d.jsxs("span",{className:"text-teal-600 font-extrabold text-xl",children:[s.escrowAmount," ALGO"]})]})]})]}),d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{children:[d.jsx("label",{className:"block text-lg font-bold text-gray-800 mb-2",children:"Freelancer Algorand Wallet Address *"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",name:"freelancerAddress",value:s.freelancerAddress,onChange:U,placeholder:"Enter 58-character Algorand address",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500",maxLength:58}),d.jsx(ym,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 transform -translate-y-1/2"})]}),d.jsxs("p",{className:"text-xs text-red-500 mt-1 flex items-center pt-2",children:[d.jsx(Ss,{className:"w-4 h-4 inline mr-1"}),d.jsx("span",{className:"font-semibold",children:"CRITICAL:"})," Double-check this address. Funds will be sent here upon approval."]})]})}),C&&d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex gap-3",children:[d.jsx(Ss,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),d.jsx("p",{className:"text-sm text-red-800 font-medium",children:C})]}),d.jsxs("div",{className:"flex gap-4 pt-2",children:[d.jsx("button",{onClick:()=>e(1),className:"flex-1 border border-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",disabled:l,children:" Back"}),d.jsx("button",{onClick:he,disabled:l,className:"flex-1 bg-teal-600 text-white py-3 rounded-lg font-semibold hover:bg-teal-700 transition-colors disabled:bg-gray-400 flex items-center justify-center gap-2 shadow-lg",children:l?d.jsxs(d.Fragment,{children:[d.jsx(ia,{className:"w-5 h-5 animate-spin"}),"Creating..."]}):"Initialize Contract"})]})]}),n===3&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:d.jsx(Ws,{className:"w-8 h-8 text-green-600"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Contract Created!"}),d.jsxs("p",{className:"text-gray-600",children:["Application ID: ",d.jsx("span",{className:"font-mono font-bold text-teal-600",children:v})]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Transaction: ",p]})]}),d.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[d.jsx("h4",{className:"font-semibold text-amber-900 mb-2",children:"Next: Fund the Escrow"}),d.jsxs("p",{className:"text-sm text-amber-800",children:["You need to fund the contract with ",s.escrowAmount," ALGO + 0.1 ALGO for fees and minimum balance."]})]}),C&&d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex gap-3",children:[d.jsx(Ss,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),d.jsx("p",{className:"text-sm text-red-800 font-medium",children:C})]}),d.jsx("button",{onClick:pe,disabled:l,className:"w-full bg-teal-600 text-white py-3 rounded-lg font-semibold hover:bg-teal-700 transition-colors disabled:bg-gray-400 flex items-center justify-center gap-2",children:l?d.jsxs(d.Fragment,{children:[d.jsx(ia,{className:"w-5 h-5 animate-spin"}),"Funding..."]}):`Fund Contract (${(parseFloat(s.escrowAmount)+.1).toFixed(2)} ALGO)`})]}),n===4&&d.jsxs("div",{className:"text-center space-y-6",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-4",children:d.jsx(Ws,{className:"w-10 h-10 text-green-600"})}),d.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Escrow Active! "}),d.jsxs("p",{className:"text-gray-600",children:["Your ",d.jsxs("strong",{children:[s.escrowAmount," ALGO"]})," escrow for ",d.jsx("strong",{children:s.companyName})," is now live on Algorand TestNet."]}),d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[d.jsxs("p",{className:"text-sm font-mono text-gray-700",children:["App ID: ",d.jsx("span",{className:"font-bold text-teal-600",children:v})]}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Freelancer: ",s.freelancerAddress.substring(0,10),"...",s.freelancerAddress.substring(48)]})]}),d.jsx("button",{onClick:()=>window.location.reload(),className:"bg-teal-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-teal-700 transition-colors",children:"Create Another Escrow"})]})]}),d.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:d.jsx("p",{children:"Powered by Algorand Blockchain  TestNet"})})]})})};window.Buffer=window.Buffer||TC.Buffer;const r0=new wb({shouldShowSignTxnToast:!0}),e4=({label:n,address:e,isCurrent:t=!1})=>d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:n}),d.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 p-3 rounded-lg border border-gray-200",children:[d.jsx(ym,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),d.jsx("span",{className:"font-mono text-sm text-gray-800 truncate",children:e}),t&&d.jsx("span",{className:"ml-auto text-xs bg-teal-100 text-teal-700 px-2 py-0.5 rounded-full font-bold",children:"YOU"})]})]}),lW=()=>{const[n,e]=Ee.useState(""),[t,r]=Ee.useState(!1),[s,o]=Ee.useState(""),[l,h]=Ee.useState(""),[p,f]=Ee.useState([]),[v,S]=Ee.useState(!1),C=()=>new nr.Algodv2("","https://testnet-api.algonode.cloud",""),R=Ee.useCallback(async G=>{try{const he=C(),pe=parseInt(G,10),P=(await he.getApplicationByID(pe).do()).params?.globalState;if(!P||P.length===0)return null;const H=(y=>{const x={};return y.forEach(E=>{try{const $=new TextDecoder().decode(E.key),ee=E.value;$==="client_addr"||$==="freelancer_addr"?ee.bytes&&ee.bytes.length>0&&(x[$]=nr.encodeAddress(ee.bytes)):($==="status"||$==="escrow_amount"||$==="asset_id"||$==="unitary_price")&&ee.uint!==void 0&&ee.uint!==null&&(x[$]=Number(ee.uint))}catch{}}),x})(P),A={0:"Initialized",1:"Funded",2:"Completed",3:"Cancelled"};return{appId:pe,clientAddress:H.client_addr||"N/A",freelancerAddress:H.freelancer_addr||"N/A",escrowAmount:H.escrow_amount?(H.escrow_amount/1e6).toFixed(6):"0",status:A[H.status]||"Unknown",statusCode:H.status,assetId:H.asset_id||0,unitaryPrice:H.unitary_price||0}}catch{return null}},[]),B=Ee.useCallback(async G=>{if(S(!0),o(""),f([]),!G){S(!1);return}try{const he=gh(Fi(wi,"escrows"),b1("clientAddress","==",G)),pe=await yh(he);if(pe.empty){S(!1),f([]);return}const K=pe.docs.map(M=>{const A=M.data().appId;return A?R(A):null}),P=await Promise.all(K);f(P.filter(M=>M!==null))}catch(he){console.error("Firestore/Escrow fetch error:",he),o("Failed to load escrow list from database: "+he.message)}finally{S(!1)}},[R]);Ee.useEffect(()=>{(async()=>{try{const he=await r0.reconnectSession();he&&he.length>0&&e(he[0])}catch{}})()},[]),Ee.useEffect(()=>{n?B(n):f([])},[n,B]);const re=async()=>{try{r(!0),o("");const G=await r0.connect();G&&G.length>0?e(G[0]):o("No accounts found.")}catch(G){G?.message?.includes("cancelled")||o("Failed to connect wallet: "+(G.message||"Please try again"))}finally{r(!1)}},N=async()=>{try{await r0.disconnect(),e(""),f([])}catch(G){console.error("Disconnect error:",G)}},U=async(G,he)=>{if(G.statusCode!==1){o('Escrow must be in "Funded" status to approve.');return}he(!0),o(""),h("");try{const pe=C(),K=await pe.getTransactionParams().do(),P=G.appId,M=2e5,H=nr.getApplicationAddress(P),A=nr.makePaymentTxnWithSuggestedParamsFromObject({sender:n,receiver:H,amount:M,suggestedParams:K}),E=nr.ABIMethod.fromSignature("buy(pay,uint64)void").getSelector(),$=nr.encodeUint64(0),ee=nr.makeApplicationNoOpTxnFromObject({sender:n,appIndex:P,suggestedParams:K,appArgs:[E,$],accounts:[G.freelancerAddress],foreignAssets:G.assetId>0?[G.assetId]:void 0}),W=[A,ee];nr.assignGroupID(W);const le=await r0.signTransaction([W.map(ue=>({txn:ue,signers:[n]}))]),Q=await pe.sendRawTransaction(le).do(),T=Q.txId||Q.txid;await nr.waitForConfirmation(pe,T,10);const se=gh(Fi(wi,"escrows"),b1("appId","==",P)),ie=await yh(se);if(!ie.empty){const ue=ie.docs[0].ref;await IE(ue,{status:"completed"})}h(` Work approved! ${G.escrowAmount} ALGO released. Transaction ID: ${T.substring(0,8)}...`),setTimeout(()=>{B(n)},2e3)}catch(pe){console.error("Approve error:",pe);let K="Failed to approve work: ";pe.message?.includes("logic eval error")?K="Smart contract rejected the approval. This likely means the contract failed the status check or the inner transaction failed.":pe.message?.includes("transaction rejected")||pe.message?.includes("status 400")||pe.message?.includes("below min")?K="Insufficient balance. You need at least 0.2 ALGO available (beyond minimum balance requirements) to approve this transaction. Please add more ALGO to your wallet.":pe.message?.includes("cancelled")?K="Transaction cancelled by user.":K+=pe.message||"Unknown error",o(K)}finally{he(!1)}},q=({escrowDetails:G})=>{const[he,pe]=Ee.useState(!1),K=n===G.clientAddress;return d.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:[d.jsxs("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 px-8 py-4",children:[d.jsxs("h2",{className:"text-xl font-bold text-white",children:["Application ID: ",G.appId]}),d.jsxs("p",{className:"text-teal-100 text-sm",children:["Status: ",G.status]})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Current Status"}),d.jsx("span",{className:`px-4 py-1 rounded-full text-xs font-semibold ${G.statusCode===0?"bg-yellow-100 text-yellow-800":G.statusCode===1?"bg-blue-100 text-blue-800":G.statusCode===2?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:G.status})]}),d.jsx("div",{className:"bg-teal-50 rounded-lg p-4 border border-teal-200",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-gray-600 font-medium",children:"Escrow Amount"}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(to,{className:"w-5 h-5 text-teal-600"}),d.jsx("span",{className:"text-2xl font-bold text-teal-600",children:G.escrowAmount}),d.jsx("span",{className:"text-lg text-teal-600 font-semibold",children:"ALGO"})]})]})}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(e4,{label:"Client Address",address:G.clientAddress,isCurrent:K}),d.jsx(e4,{label:"Freelancer Address",address:G.freelancerAddress})]}),K&&G.statusCode===1&&d.jsxs("div",{className:"pt-4 border-t space-y-3",children:[d.jsx("h3",{className:"text-md font-semibold text-gray-900",children:"Client Actions"}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-sm text-blue-800 flex items-start gap-2",children:[d.jsx(Ss,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),d.jsx("span",{children:"Note: Approving work will send an additional 0.2 ALGO to cover transaction fees and minimum balance requirements."})]}),d.jsx("button",{onClick:()=>U(G,pe),disabled:he,className:"w-full bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors disabled:bg-gray-400 flex items-center justify-center gap-2 shadow-md",children:he?d.jsxs(d.Fragment,{children:[" ",d.jsx(ia,{className:"w-5 h-5 animate-spin"})," Processing... "]}):d.jsxs(d.Fragment,{children:[" ",d.jsx(Ws,{className:"w-5 h-5"})," Approve Work & Release ALGO "]})})]}),K&&G.statusCode===0&&d.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-sm text-yellow-800 flex items-center gap-2",children:[d.jsx(Ss,{className:"w-5 h-5 flex-shrink-0"}),"This escrow is initialized but not funded yet. Please fund it before approval."]}),K&&G.statusCode===2&&d.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 text-sm text-green-800 flex items-center gap-2",children:[d.jsx(Ws,{className:"w-5 h-5 flex-shrink-0"}),"This escrow has been completed and funds have been released."]}),!K&&d.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-sm text-yellow-800 flex items-center gap-2",children:[d.jsx(Ss,{className:"w-5 h-5 flex-shrink-0"}),"You are viewing this as a spectator. Actions are disabled."]})]})]})};return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-teal-600 rounded-lg mb-4 shadow-xl",children:d.jsx(gI,{className:"w-8 h-8 text-white"})}),d.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-2",children:"Client Dashboard"}),d.jsx("p",{className:"text-gray-600",children:"Manage your escrow contracts on Algorand"})]}),n?d.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 mb-6 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Ws,{className:"w-5 h-5 text-green-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-green-700 font-medium",children:"Wallet Connected"}),d.jsxs("p",{className:"text-xs text-green-600 font-mono",children:[n.substring(0,10),"...",n.substring(48)]})]})]}),d.jsx("button",{onClick:N,className:"text-sm text-red-600 hover:text-red-700 font-medium",children:"Disconnect"})]}):d.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-6",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Connect Your Wallet"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Connect your Pera Wallet to manage escrows"}),d.jsx("button",{onClick:re,disabled:t,className:"bg-teal-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-teal-700 transition-colors disabled:bg-gray-400",children:t?"Connecting...":"Connect Pera Wallet"})]})}),n&&d.jsxs("div",{className:"mb-6",children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[d.jsx(pI,{className:"w-6 h-6 text-teal-600"})," My Active Escrows"]}),v&&d.jsxs("div",{className:"p-8 text-center bg-white rounded-xl shadow-lg",children:[d.jsx(ia,{className:"w-8 h-8 text-teal-600 animate-spin mx-auto mb-3"}),d.jsx("p",{className:"text-gray-600",children:"Loading contracts from the blockchain..."})]}),!v&&p.length===0&&d.jsx("div",{className:"p-8 text-center bg-white rounded-xl shadow-lg border border-gray-200",children:d.jsx("p",{className:"text-gray-500",children:"No active escrows found linked to this address in our database."})}),!v&&p.length>0&&d.jsx("div",{className:"space-y-6",children:p.map(G=>d.jsx(q,{escrowDetails:G},G.appId))})]}),s&&d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex gap-3",children:[d.jsx(Ss,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),d.jsx("p",{className:"text-sm text-red-800 whitespace-pre-line",children:s})]}),l&&d.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6 flex gap-3",children:[d.jsx(Ws,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),d.jsx("p",{className:"text-sm text-green-800",children:l})]}),d.jsx("div",{className:"text-center text-sm text-gray-500 mt-8",children:d.jsx("p",{children:"Powered by Algorand Blockchain  TestNet"})})]})})},t4="https://cdn.shopify.com/s/files/1/0066/4574/3686/files/Real_Estate_LinkedIn_Background_Photo.png?v=1627912075",uW=({jobTitle:n,show:e,onClose:t})=>{const[r,s]=Ee.useState(null),[o,l]=Ee.useState(!1),[h,p]=Ee.useState(!1),f=C=>{const R=C.target.files[0];R&&(s(R),p(!1))},v=()=>{r&&(l(!0),setTimeout(()=>{l(!1),p(!0)},1500))},S=()=>{s(null),l(!1),p(!1),t()};return e?d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-75 transition-opacity duration-300",onClick:S,children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg p-8 transform transition-all duration-300 scale-100",onClick:C=>C.stopPropagation(),children:[d.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4",children:[d.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[d.jsx(yI,{className:"w-6 h-6 mr-3 text-teal-600"}),"Upload Document"]}),d.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600",children:d.jsx(bl,{className:"w-6 h-6"})})]}),d.jsxs("p",{className:"text-gray-600 mb-6",children:["Optional: Upload your CV, Portfolio, or a supporting document for **",n,"**."]}),d.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center mb-6",children:[d.jsx("input",{type:"file",id:"file-upload",className:"hidden",onChange:f,accept:".pdf,.doc,.docx"}),d.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer text-teal-600 font-semibold hover:text-teal-700 block",children:[d.jsx(Ny,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),"Click to select file"]}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"PDF, DOC, or DOCX up to 5MB"}),r&&d.jsxs("div",{className:"mt-4 flex items-center justify-between bg-teal-50 p-3 rounded-lg border border-teal-200",children:[d.jsx("span",{className:"text-sm text-gray-700 font-medium truncate",children:r.name}),d.jsx("button",{onClick:()=>s(null),className:"text-red-500 hover:text-red-700 ml-3",children:d.jsx(bl,{className:"w-4 h-4"})})]})]}),d.jsx("button",{onClick:v,disabled:!r||o||h,className:`w-full inline-flex items-center justify-center px-6 py-3 font-semibold rounded-lg transition-colors ${r?o?"bg-teal-700 text-white cursor-wait":h?"bg-green-600 text-white hover:bg-green-700":"bg-teal-600 text-white hover:bg-teal-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:o?d.jsxs(d.Fragment,{children:[d.jsx(gp,{className:"w-4 h-4 mr-2 animate-spin"})," Uploading..."]}):h?d.jsxs(d.Fragment,{children:[d.jsx(dl,{className:"w-4 h-4 mr-2"})," Upload Complete!"]}):d.jsxs(d.Fragment,{children:[d.jsx(My,{className:"w-4 h-4 mr-2"})," Finalize Upload"]})}),d.jsx("button",{onClick:S,className:"w-full mt-2 text-sm text-gray-500 hover:text-gray-700",children:"Close"})]})}):null},Jx=({icon:n,title:e,value:t,valueColor:r="text-gray-700"})=>d.jsxs("div",{className:"flex items-start",children:[d.jsx(n,{className:"w-4 h-4 mr-3 text-gray-400 mt-1 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-gray-600",children:e}),d.jsx("p",{className:`text-base ${r}`,children:t})]})]}),hW=()=>{const{id:n}=f4(),[e,t]=Ee.useState(null),[r,s]=Ee.useState(!0),[o,l]=Ee.useState(null),[h,p]=Ee.useState(!1);if(Ee.useEffect(()=>{n&&(async()=>{s(!0),l(null);try{const S=ph(wi,"jobs",n),C=await P0(S);if(!C.exists()){t(null),s(!1);return}const R=C.data(),B=R.clientId;let re={};if(B){const G=ph(wi,"clients",B),he=await P0(G);he.exists()&&(re=he.data())}const N=R.jobPostedAt?.toDate?.()||new Date,U=R.applicationDeadline?.toDate?.()||"N/A",q={id:C.id,jobTitle:R.jobTitle||"Untitled Job",jobDescription:R.jobDescription||"No description provided.",companyName:re.companyName||"Company Name Not Provided",companyBio:re.companyBio||"No company biography available.",companyWebsite:re.companyWebsite||null,companyLocation:R.companyLocation||"Remote",logoUrl:re.companyLogo||R.companyLogo||t4,employmentType:R.employmentType||"Fixed Project",budgetMin:R.budgetMin||0,budgetMax:R.budgetMax||0,paymentASA:R.paymentASA||"ALGO",proposalLink:R.proposalLink||"#",requiresFileUpload:R.requiresFileUpload||!1,postedDate:N.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),deadline:U!=="N/A"?U.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",isFeatured:R.isFeatured||!1};t(q)}catch(S){console.error("Error fetching job details:",S),l(`Failed to load job details. Error: ${S.message}`)}finally{s(!1)}})()},[n]),r)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx(ia,{className:"w-10 h-10 text-teal-600 animate-spin mx-auto mb-3"}),d.jsx("p",{className:"text-xl text-gray-700",children:"Loading gig details..."})]})});if(o)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-8",children:d.jsxs("div",{className:"text-center p-8 bg-red-50 border border-red-300 rounded-lg max-w-lg",children:[d.jsx(PE,{className:"w-8 h-8 text-red-500 mx-auto mb-3"}),d.jsx("h1",{className:"text-2xl font-bold text-red-800 mb-2",children:"Data Load Failed"}),d.jsx("p",{className:"text-red-700",children:o}),d.jsx(As,{to:"/jobs",className:"mt-4 inline-block text-red-600 hover:text-red-700 font-semibold",children:" Back to Jobs"})]})});if(!e)return d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Job Not Found"}),d.jsx(As,{to:"/jobs",className:"text-teal-600 hover:text-teal-700 font-semibold",children:" Back to Jobs"})]})});let f="bg-gray-100 text-gray-700";switch(e.employmentType){case"Fixed Project":f="bg-red-100 text-red-700";break;case"Hourly Contract":f="bg-blue-100 text-blue-700";break;case"Retainer":f="bg-green-100 text-green-700";break;case"Part Time":f="bg-purple-100 text-purple-700";break}return d.jsxs("div",{className:"min-h-screen bg-gray-50 py-10",children:[d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsx("div",{className:"max-w-7xl mx-auto mb-6",children:d.jsxs(As,{to:"/jobs",className:"inline-flex items-center text-teal-600 hover:text-teal-700 font-semibold transition-colors",children:[d.jsx(uI,{className:"w-4 h-4 mr-2"}),"Back to Gigs"]})}),d.jsx("div",{className:"max-w-4xl mx-auto px-4 mb-8",children:d.jsx("div",{className:"w-full rounded-2xl shadow-xl overflow-hidden h-[250px] sm:h-[350px]",children:d.jsx("img",{src:e.logoUrl,alt:e.companyName,className:"w-full h-full object-cover",onError:v=>{v.target.onerror=null,v.target.src=t4}})})}),d.jsxs("div",{className:"max-w-3xl mx-auto pt-4 pb-12 text-center px-4",children:[d.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Posted by ",d.jsx("span",{className:"font-medium text-teal-700",children:e.companyName})," on ",e.postedDate]}),d.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 leading-tight mb-4",children:e.jobTitle}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[d.jsxs("span",{className:`px-4 py-2 rounded-full text-sm font-medium flex items-center ${f}`,children:[d.jsx(Cs,{className:"w-4 h-4 mr-2"}),e.employmentType]}),d.jsxs("span",{className:"px-4 py-2 rounded-full text-sm font-medium flex items-center bg-teal-50 text-teal-700",children:[d.jsx(to,{className:"w-4 h-4 mr-2"}),e.budgetMin," - ",e.budgetMax," ",e.paymentASA]}),d.jsxs("span",{className:"px-4 py-2 rounded-full text-sm font-medium flex items-center bg-gray-100 text-gray-700",children:[d.jsx(FE,{className:"w-4 h-4 mr-2"}),e.companyLocation]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-100",children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center border-b pb-3",children:[d.jsx(Cs,{className:"w-6 h-6 mr-3 text-teal-600"}),"Job Details"]}),d.jsx("div",{className:"prose prose-base max-w-none text-gray-700 whitespace-pre-line",children:e.jobDescription})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-100",children:[d.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center border-b pb-3",children:[d.jsx(dI,{className:"w-6 h-6 mr-3 text-teal-600"}),"About ",e.companyName]}),d.jsx("p",{className:"text-gray-700 mb-6",children:e.companyBio}),e.companyWebsite&&d.jsxs("a",{href:e.companyWebsite,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-teal-600 hover:text-teal-700 font-semibold transition-colors bg-teal-50 p-3 rounded-lg",children:[d.jsx(fI,{className:"w-4 h-4 mr-2"}),"Visit Company Website",d.jsx(_1,{className:"w-3 h-3 ml-1"})]})]})]}),d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 border border-gray-100 sticky top-10",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-5 border-b pb-3",children:"Apply Now"}),d.jsxs("div",{className:"space-y-4 mb-6 text-sm",children:[d.jsx(Jx,{icon:RE,title:"Posted",value:e.postedDate}),d.jsx(Jx,{icon:gp,title:"Deadline",value:e.deadline}),d.jsx(Jx,{icon:to,title:"Budget Range",value:`${e.budgetMin} - ${e.budgetMax} ${e.paymentASA}`,valueColor:"text-teal-600 font-semibold"})]}),d.jsxs("div",{className:"border-t pt-6",children:[d.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Requirements Checklist"}),d.jsxs("ul",{className:"space-y-2 mb-6 text-sm text-gray-600",children:[d.jsxs("li",{className:"flex items-start",children:[d.jsx(dl,{className:"w-4 h-4 mr-2 text-teal-500 flex-shrink-0 mt-0.5"}),d.jsx("span",{children:"Submit proposal via external form"})]}),e.requiresFileUpload&&d.jsxs("li",{className:"flex items-start",children:[d.jsx(dl,{className:"w-4 h-4 mr-2 text-teal-500 flex-shrink-0 mt-0.5"}),d.jsx("span",{children:"Upload CV/Portfolio document"})]}),d.jsxs("li",{className:"flex items-start",children:[d.jsx(dl,{className:"w-4 h-4 mr-2 text-teal-500 flex-shrink-0 mt-0.5"}),d.jsx("span",{children:"Connect Algorand wallet for escrow"})]})]}),d.jsxs("a",{href:e.proposalLink,target:"_blank",rel:"noopener noreferrer",className:"w-full inline-flex items-center justify-center px-6 py-3 bg-teal-600 text-white font-semibold rounded-lg hover:bg-teal-700 transition-colors mb-3",children:[d.jsx(_1,{className:"w-4 h-4 mr-2"}),"Submit Proposal Form"]}),e.requiresFileUpload&&d.jsxs("button",{onClick:()=>p(!0),className:"w-full inline-flex items-center justify-center px-6 py-3 bg-white border-2 border-teal-600 text-teal-600 font-semibold rounded-lg hover:bg-teal-50 transition-colors",children:[d.jsx(yI,{className:"w-4 h-4 mr-2"}),"Upload Supporting Document"]})]})]})})]})]}),d.jsx(uW,{jobTitle:e.jobTitle,show:h,onClose:()=>p(!1)})]})},dW="https://testnet-api.algonode.cloud",fW="",Id=new nr.Algodv2("",dW,fW),mW=`#pragma version 5

// ARC-72 style stateless escrow for atomic sale (group of 2)
// Placeholders: __ASSET_ID__, __ASSET_AMOUNT__, __SELLER_ADDR__, __PRICE__

global GroupSize
int 2
==
bnz check_tx0
err

check_tx0:
gtxn 0 TypeEnum
int 1
==
bnz check_payment
err

check_payment:
gtxn 1 TypeEnum
int 4
==
bnz check_amount
err

check_amount:
gtxn 0 Amount
int __PRICE__
>=
bnz check_receiver
err

check_receiver:
gtxn 0 Receiver
addr __SELLER_ADDR__
==
bnz check_xfer_asset
err

check_xfer_asset:
gtxn 1 XferAsset
int __ASSET_ID__
==
bnz check_asset_amount
err

check_asset_amount:
gtxn 1 AssetAmount
int __ASSET_AMOUNT__
==
bnz check_receiver_match
err

check_receiver_match:
gtxn 1 AssetReceiver
gtxn 0 Sender
==
bnz check_rekey_0
err

check_rekey_0:
gtxn 0 RekeyTo
global ZeroAddress
==
bnz check_rekey_1
err

check_rekey_1:
gtxn 1 RekeyTo
global ZeroAddress
==
bnz check_close_0
err

check_close_0:
gtxn 0 CloseRemainderTo
global ZeroAddress
==
bnz check_close_1
err

check_close_1:
gtxn 1 CloseRemainderTo
global ZeroAddress
==
bnz check_fee_0
err

check_fee_0:
gtxn 0 Fee
int 1000
<=
bnz check_fee_1
err

check_fee_1:
gtxn 1 Fee
int 1000
<=
bnz success
err

success:
int 1
return
`,pW=(n,e,t,r=1)=>{let s=mW;return s=s.replace(/__ASSET_ID__/g,String(n)),s=s.replace(/__ASSET_AMOUNT__/g,String(r)),s=s.replace(/__SELLER_ADDR__/g,e),s=s.replace(/__PRICE__/g,String(t)),s},gW=async n=>{try{const e=await Id.compile(n).do(),t=new Uint8Array(Buffer.from(e.result,"base64")),r=new nr.LogicSigAccount(t),s=r.address();return{escrowAddress:typeof s=="string"?s:s.toString(),compiledProgram:e.result,lsig:r,programBytes:t}}catch(e){throw console.error("Error compiling TEAL:",e),new Error(`Failed to compile escrow contract: ${e.message}`)}},yW=async n=>{try{const e={...n,buyerAddress:typeof n.buyerAddress=="string"?n.buyerAddress:n.buyerAddress?.toString()||"",sellerAddress:typeof n.sellerAddress=="string"?n.sellerAddress:n.sellerAddress?.toString()||"",createdAt:new Date,status:"initialized"};return(await dc(Fi(wi,"escrows"),e)).id}catch(e){throw console.error("Error creating escrow record:",e),new Error(`Failed to create escrow record: ${e.message}`)}},wW=async(n,e,t={})=>{try{const r=ph(wi,"escrows",n);await IE(r,{status:e,updatedAt:new Date,...t})}catch(r){throw console.error("Error updating escrow:",r),new Error(`Failed to update escrow: ${r.message}`)}},vW=async(n,e,t,r,s,o=1)=>{try{const l=await Id.getTransactionParams().do(),h=nr.makePaymentTxnWithSuggestedParamsFromObject({from:n,to:e,amount:s,suggestedParams:{...l,fee:1e3,flatFee:!0}}),p=nr.makeAssetTransferTxnWithSuggestedParamsFromObject({from:t,to:n,assetIndex:r,amount:o,suggestedParams:{...l,fee:1e3,flatFee:!0}}),f=nr.computeGroupID([h,p]);return h.group=f,p.group=f,{paymentTxn:h,assetTransferTxn:p,groupId:f.toString("base64"),params:l}}catch(l){throw console.error("Error building atomic transaction:",l),new Error(`Failed to build transaction group: ${l.message}`)}},xW=(n,e)=>{try{return n.signTxn(e)}catch(t){throw console.error("Error signing payment:",t),new Error(`Failed to sign payment transaction: ${t.message}`)}},SW=(n,e)=>{try{return nr.signLogicSigTransactionObject(n,e).blob}catch(t){throw console.error("Error signing with logic sig:",t),new Error(`Failed to sign asset transfer: ${t.message}`)}},EW=async(n,e)=>{try{const t=[Buffer.from(n).toString("base64"),Buffer.from(e).toString("base64")];return(await Id.sendRawTransaction(t).do()).txId}catch(t){throw console.error("Error submitting transaction:",t),new Error(`Failed to submit transaction: ${t.message}`)}},bW=async(n,e=1e3)=>{try{let t=(await Id.status().do())["last-round"];for(;t<e;){const r=await Id.pendingTransactionInformation(n).do();if(r["confirmed-round"]!==void 0&&r["confirmed-round"]>0)return r;t++,await new Promise(s=>setTimeout(s,1e3))}throw new Error("Transaction not confirmed within timeout")}catch(t){throw console.error("Error waiting for confirmation:",t),new Error(`Transaction confirmation failed: ${t.message}`)}},lN=async n=>{try{return await Id.accountInformation(n).do()}catch(e){throw console.error("Error getting account info:",e),new Error(`Failed to get account info: ${e.message}`)}},_W=async(n,e)=>{try{return((await lN(n)).assets||[]).some(s=>s["asset-id"]===e)}catch(t){return console.error("Error checking opt-in:",t),!1}},Gf={renderTeal:pW,compileAndGetEscrowAddress:gW,createEscrowRecord:yW,updateEscrowStatus:wW,buildAtomicGroupTransaction:vW,signPaymentTransaction:xW,signAssetTransferWithLogicSig:SW,submitAtomicTransaction:EW,waitForConfirmation:bW,getAccountInfo:lN,hasOptedIntoAsset:_W},Qx=new wb,n4=[{id:1,title:"Decentralized Voting DApp UI Kit",author:"PixelForge Studios",description:"Figma design files and React components for a complete DAO voting application interface.",price:"500 ALGO",assetType:"UI/UX",logoUrl:"https://www.vectorlogo.zone/logos/figma/figma-icon.svg",tags:["Figma","React","Design","DAO"],rating:4.9,demoLink:"https://tailwindui.com/components",qrCodeUrl:"https://placehold.co/150x150/228B22/FFFFFF?text=QR1",assetId:0,authorWallet:"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY5HFKQ"},{id:2,title:"PyTeal Escrow Template",author:"SmartContract Ninja",description:"Ready-to-deploy PyTeal/Beaker template for a simple fixed-price escrow contract.",price:"1200 ALGO",assetType:"Smart Contract",logoUrl:"https://www.vectorlogo.zone/logos/python/python-icon.svg",tags:["PyTeal","Beaker","Security","Algorand"],rating:4.7,demoLink:"https://algorand.com",qrCodeUrl:"https://placehold.co/150x150/228B22/FFFFFF?text=QR2",assetId:0,authorWallet:"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY5HFKQ"},{id:3,title:"React Dashboard Template",author:"Template Masters",description:"Production-ready React dashboard with charts, tables, and authentication.",price:"750 ALGO",assetType:"Full Codebase",logoUrl:"https://www.vectorlogo.zone/logos/reactjs/reactjs-icon.svg",tags:["React","Dashboard","Template"],rating:4.8,demoLink:"https://react.dev",qrCodeUrl:"https://placehold.co/150x150/228B22/FFFFFF?text=QR3",assetId:0,authorWallet:"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY5HFKQ"}],AW=()=>{const{projectId:n}=f4(),e=MS(),t=lo(),[r,s]=Ee.useState(null),[o,l]=Ee.useState(!0),[h,p]=Ee.useState(null),[f,v]=Ee.useState(!1),[S,C]=Ee.useState(""),[R,B]=Ee.useState(1),[re,N]=Ee.useState(!1),[U,q]=Ee.useState(null),[G,he]=Ee.useState(null),[pe,K]=Ee.useState(!1);Ee.useEffect(()=>{n&&(async()=>{try{if(t.state?.project){s(t.state.project),l(!1);return}const x=parseInt(n),E=ph(wi,"projects",n),$=await P0(E);if($.exists())s({id:$.id,...$.data()});else{const ee=n4.find(W=>W.id===x);ee?s(ee):p("Project not found")}l(!1)}catch(x){console.error("Error fetching project:",x);const E=parseInt(n),$=n4.find(ee=>ee.id===E);$?(s($),l(!1)):(p("Failed to load project details"),l(!1))}})()},[n,t.state]);const P=async()=>{try{await Qx.connect();const y=await Qx.reconnectSession();if(y.length>0){const x=typeof y[0]=="string"?y[0]:y[0].toString();C(x),v(!0),B(2)}}catch(y){console.error("Wallet connection failed:",y),p("Failed to connect wallet. Make sure Pera Wallet is installed.")}},M=()=>{Qx.disconnect(),v(!1),C(""),B(1)},H=async()=>{if(!r||!f){p("Please connect wallet and select a project");return}N(!0),p(null),B(3);try{const y=r.price.match(/(\d+)/),x=y?parseFloat(y[1]):0,E=x*1e6,$=typeof S=="string"?S:S.toString(),ee=Gf.renderTeal(r.assetId||0,r.authorWallet||"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY5HFKQ",E,1),W=await Gf.compileAndGetEscrowAddress(ee);he(W);const le=typeof W.escrowAddress=="string"?W.escrowAddress:W.escrowAddress.toString(),Q=await Gf.createEscrowRecord({projectId:r.id,projectTitle:r.title,buyerAddress:$,sellerAddress:le,assetId:r.assetId||0,priceAlgo:x,priceInMicroAlgos:E,status:"initialized",escrowCompiledProgram:W.compiledProgram}),T=await Gf.buildAtomicGroupTransaction($,r.authorWallet||"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY5HFKQ",le,r.assetId||0,E,1);console.log("Transaction group built:",T);const se="DEMO_"+Math.random().toString(36).substr(2,9).toUpperCase();q(se),await Gf.updateEscrowStatus(Q,"confirmed",{transactionId:se,confirmedAt:new Date}),B(4)}catch(y){console.error("Purchase error:",y),p(y.message||"Failed to process purchase. Ensure you have the required ALGO balance."),N(!1),B(2)}},A=y=>{navigator.clipboard.writeText(y),K(!0),setTimeout(()=>K(!1),2e3)};return o?d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-50 to-white",children:d.jsxs("div",{className:"text-center",children:[d.jsx(ia,{className:"w-12 h-12 text-teal-600 animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Loading project details..."})]})}):r?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-white py-12 px-4",children:d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Purchase NFT Project"}),d.jsx("p",{className:"text-gray-600",children:"Secure atomic transaction via Algorand escrow"})]}),d.jsx("div",{className:"flex items-center justify-between mb-12",children:[1,2,3,4].map(y=>d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold transition ${R>=y?"bg-teal-600 text-white":"bg-gray-200 text-gray-600"}`,children:R>y?d.jsx(dk,{className:"w-6 h-6"}):y}),y<4&&d.jsx("div",{className:`h-1 w-20 mx-2 transition ${R>y?"bg-teal-600":"bg-gray-200"}`})]},y))}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[d.jsxs("div",{className:"mb-8 pb-8 border-b",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Project Details"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Project:"}),d.jsx("span",{className:"font-semibold text-gray-900",children:r.title})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Price:"}),d.jsx("span",{className:"font-semibold text-teal-600",children:r.price})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Asset Type:"}),d.jsx("span",{className:"font-semibold text-gray-900",children:r.assetType||"Digital Asset"})]})]})]}),R===1&&d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Ss,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Connect Your Wallet"}),d.jsx("p",{className:"text-blue-800 text-sm",children:"You'll need to connect your Algorand wallet to complete this purchase. Make sure you have enough ALGO to cover the purchase price plus transaction fees."})]})]})}),d.jsxs("button",{onClick:P,className:"w-full py-4 bg-teal-600 text-white font-semibold rounded-lg hover:bg-teal-700 transition flex items-center justify-center gap-2",children:[d.jsx(jE,{className:"w-5 h-5"}),"Connect Pera Wallet"]})]}),R===2&&d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Ws,{className:"w-6 h-6 text-green-600"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-green-900",children:"Wallet Connected"}),d.jsx("p",{className:"text-sm text-green-800 break-all",children:S})]})]})}),d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(ME,{className:"w-6 h-6 text-yellow-600 flex-shrink-0 mt-1"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"How It Works"}),d.jsxs("ul",{className:"text-sm text-yellow-800 space-y-2",children:[d.jsx("li",{children:" An escrow contract will be created on Algorand"}),d.jsx("li",{children:" Your payment will be sent to the seller"}),d.jsx("li",{children:" The NFT will be transferred to your wallet"}),d.jsx("li",{children:" Both transactions happen atomically (all-or-nothing)"})]})]})]})}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("button",{onClick:H,disabled:re,className:"w-full py-4 bg-teal-600 text-white font-semibold rounded-lg hover:bg-teal-700 transition disabled:opacity-50 flex items-center justify-center gap-2",children:re?d.jsxs(d.Fragment,{children:[d.jsx(ia,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):d.jsxs(d.Fragment,{children:[d.jsx(CE,{className:"w-5 h-5"}),"Complete Purchase"]})}),d.jsx("button",{onClick:M,className:"w-full py-2 border border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition",children:"Disconnect Wallet"})]})]}),R===3&&d.jsxs("div",{className:"space-y-6 text-center",children:[d.jsx(ia,{className:"w-16 h-16 text-teal-600 animate-spin mx-auto"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Processing Purchase"}),d.jsx("p",{className:"text-gray-600",children:"Please wait while your transaction is being processed on the Algorand blockchain..."})]}),d.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:d.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"This may take a few moments"})})]}),R===4&&d.jsxs("div",{className:"space-y-6 text-center",children:[d.jsx(Ws,{className:"w-16 h-16 text-green-500 mx-auto"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Purchase Confirmed!"}),d.jsx("p",{className:"text-gray-600",children:"Your NFT has been successfully transferred to your wallet."})]}),U&&d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-left",children:[d.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Transaction ID"}),d.jsxs("div",{className:"flex items-center gap-2 bg-white border border-gray-200 rounded p-3",children:[d.jsx("span",{className:"text-sm text-gray-600 break-all flex-1",children:U}),d.jsx("button",{onClick:()=>A(U),className:"flex-shrink-0",children:pe?d.jsx(dk,{className:"w-5 h-5 text-green-600"}):d.jsx(Fj,{className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("button",{onClick:()=>window.open(`https://testnet.algoexplorer.io/tx/${U}`,"_blank"),className:"w-full py-3 bg-teal-600 text-white font-semibold rounded-lg hover:bg-teal-700 transition",children:"View on AlgoExplorer"}),d.jsx("button",{onClick:()=>e("/catalog"),className:"w-full py-3 border border-teal-600 text-teal-600 font-semibold rounded-lg hover:bg-teal-50 transition",children:"Back to Catalog"})]})]}),h&&d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-800",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Ss,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold mb-1",children:"Error"}),d.jsx("p",{className:"text-sm",children:h})]})]})})]}),d.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[d.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"Security Information"}),d.jsxs("ul",{className:"text-sm text-blue-800 space-y-2",children:[d.jsx("li",{children:" This transaction uses Algorand's atomic swap feature for security"}),d.jsx("li",{children:" Your private keys never leave your wallet"}),d.jsx("li",{children:" The escrow ensures fair exchange: money and NFT transfer simultaneously"}),d.jsx("li",{children:" All transactions are immutable and transparent on the blockchain"})]})]})]})}):d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-50 to-white",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md text-center",children:[d.jsx(Ss,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-700 mb-6",children:h||"Project not found"}),d.jsx("button",{onClick:()=>e("/catalog"),className:"px-6 py-2 bg-teal-600 text-white rounded-full hover:bg-teal-700 transition",children:"Back to Catalog"})]})})},TW=()=>d.jsx("div",{children:d.jsx("main",{children:d.jsxs(BM,{children:[d.jsx(rs,{path:"/",element:d.jsx(LV,{})}),d.jsx(rs,{path:"/jobs",element:d.jsx(c9,{})}),d.jsx(rs,{path:"/consultations",element:d.jsx(_L,{})}),d.jsx(rs,{path:"/catalog",element:d.jsx(g9,{})}),d.jsx(rs,{path:"/articles",element:d.jsx(kL,{})}),d.jsx(rs,{path:"/profile",element:d.jsx($V,{})}),d.jsx(rs,{path:"/dashboard",element:d.jsx(lW,{})}),d.jsx(rs,{path:"/post-job",element:d.jsx(GV,{})}),d.jsx(rs,{path:"/create-escrow",element:d.jsx(cW,{})}),d.jsx(rs,{path:"/project/:projectId/purchase",element:d.jsx(AW,{})}),d.jsx(rs,{path:"/job/:id",element:d.jsx(hW,{})})]})})});YD.createRoot(document.getElementById("root")).render(d.jsx(c5,{children:d.jsx(TW,{})}));export{PW as B,FW as L,n0 as M,MW as O,OW as U,jW as W,CS as c,nW as d,DW as f,lu as g,RS as h,yl as u,Ua as v};
